import{useDefineWidgets as y}from"@/composables/DefineWidgets";import{N as x,R as d,s as n,y as v,o,c as m,E,j as f,t as k,b as H,M as C,J as w,P as _,k as A,F as L}from"./framework.DYWyW-0J.js";const S=Symbol.for("vuetify:layout");function D(){const i=x(S);if(!i)throw new Error("[Vuetify] Could not find injected layout");return{layoutIsReady:d(),getLayoutItem:i.getLayoutItem,mainRect:i.mainRect,mainStyles:i.mainStyles}}class F extends HTMLDetailsElement{constructor(){super()}connectedCallback(){this.el=this,this.summary=this.querySelector("summary"),this.content=this.lastElementChild,this.animation=null,this.isClosing=!1,this.isExpanding=!1,this.summary.addEventListener("click",t=>this.onClick(t))}onClick(t){t==null||t.preventDefault(),this.el.style.overflow="hidden",this.isClosing||!this.el.open?this.doOpen():(this.isExpanding||this.el.open)&&this.shrink()}shrink(){this.isClosing=!0;const t=`${this.el.offsetHeight}px`,e=`${this.summary.offsetHeight}px`;this.animation&&this.animation.cancel(),this.animation=this.el.animate({height:[t,e]},{duration:300,easing:"ease-out"}),this.animation.onfinish=()=>this.onAnimationFinish(!1),this.animation.oncancel=()=>this.isClosing=!1}doOpen(){this.el.style.height=`${this.el.offsetHeight}px`,this.el.open=!0,window.requestAnimationFrame(()=>this.expand()),this.parentElement.querySelectorAll("details[open][exclusive]").forEach(e=>{e!==this&&e.onClick()})}expand(){this.isExpanding=!0;const t=`${this.el.offsetHeight}px`,e=`${this.summary.offsetHeight+this.content.offsetHeight}px`;this.animation&&this.animation.cancel(),this.animation=this.el.animate({height:[t,e]},{duration:300,easing:"ease-out"}),this.animation.onfinish=()=>this.onAnimationFinish(!0),this.animation.oncancel=()=>this.isExpanding=!1}onAnimationFinish(t){this.el.open=t,this.animation=null,this.isClosing=!1,this.isExpanding=!1,this.el.style.height=this.el.style.overflow=""}}customElements.define("animated-details",F,{extends:"details"});const $={__name:"WidgetsContainer",props:{widgets:{type:Array,required:!0}},setup(i){const e=y(i.widgets),l=n([]),r=n([]),h=n(""),u=n(0),{mainRect:p}=D();return v(async()=>{await d(()=>{var a;u.value=r.value.reduce((c,s)=>c+=s.clientHeight,0),h.value=(((a=l.value[0].parentElement)==null?void 0:a.scrollHeight)??0)-u.value-p.value.top+"px"})}),(a,c)=>(o(!0),m(L,null,E(A(e),(s,g)=>(o(),m("details",{is:"animated-details",ref_for:!0,ref_key:"detailsEls",ref:l,key:g,class:"overflow-auto",exclusive:""},[f("summary",{ref_for:!0,ref_key:"summaryEls",ref:r},k(s.value.title),513),f("span",{style:_({height:h.value}),class:"d-flex flex-column"},[(o(),H(w(s.value.component),C({ref_for:!0},s.value.props),null,16))],4)]))),128))}};export{$ as default};
