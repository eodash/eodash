import{_ as T,aK as b,h as v,p as A,c as C,o as F,j as c,t as u,K as I,k as R,V as k}from"./framework.CVgoddIT.js";import{useSTAcStore as B}from"@/store/stac";import{isFirstLoad as d}from"@/utils/states";const E=[".items"],M={slot:"filterstitle",style:{margin:"14px 8px"}},O={slot:"resultstitle",style:{margin:"14px 8px"}},V={__name:"EodashItemFilter",props:{enableCompare:{type:Boolean,default:!1},filtersTitle:{type:String,default:"Indicators"},resultsTitle:{type:String,default:"Results"},titleProperty:{type:String,default:"title"},aggregateResults:{type:String,default:void 0},imageProperty:{type:String,default:""},subTitleProperty:{type:String,default:""},resultType:{type:String,default:""},cssVars:{type:[String,Object],default:""},enableHighlighting:{type:Boolean,default:!0},expandMultipleFilters:{type:Boolean,default:!0},expandMultipleResults:{type:Boolean,default:!0},styleOverride:{type:String,default:""},filterProperties:{type:Array,default:()=>[{keys:["title","themes","description"],title:"Search by name or description",type:"text",expanded:!0},{key:"themes",title:"Filter by theme",type:"multiselect",expanded:!0}]}},emits:["select"],async setup(i,{emit:y}){var p;let a,o;customElements.get("eox-itemfilter")||([a,o]=b(()=>k(()=>import("@eox/itemfilter"),[])),await a,o());const t=B(),f=y,m=t.isApi?t.stac:(p=t.stac)==null?void 0:p.filter(l=>l.rel==="child"),e=i,n=(l,s)=>async r=>{if(r){d.value&&(d.value=!1);const P=t.isApi?r.id:r.href;await l(P),f("select",r)}else s()},g=n(t.loadSelectedSTAC,()=>t.selectedStac=null),h=n(t.loadSelectedCompareSTAC,t.resetSelectedCompareSTAC),_=async l=>{const s=l.detail;e.enableCompare?h(s):g(s)},S=v(()=>({titleProperty:e.titleProperty,enableHighlighting:e.enableHighlighting,expandMultipleFilters:e.expandMultipleFilters,expandMultipleResults:e.expandMultipleResults,subTitleProperty:e.subTitleProperty,resultType:e.resultType,imageProperty:e.imageProperty,aggregateResults:e.aggregateResults,style:e.cssVars,filterProperties:e.filterProperties,styleOverride:e.styleOverride})),x=A(null);return(l,s)=>(F(),C("eox-itemfilter",I({class:"fill-height"},S.value,{ref_key:"eoxItemFilter",ref:x,style:{overflow:"auto","--background-color":"none"},onSelect:_,".items":R(m)}),[c("h4",M,u(i.filtersTitle),1),c("h4",O,u(i.resultsTitle),1)],48,E))}},D=T(V,[["__scopeId","data-v-14a19a85"]]);export{D as default};
