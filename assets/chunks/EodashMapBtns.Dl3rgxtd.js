import{makePanelTransparent as T}from"@/composables";import{changeMapProjection as V,setActiveTemplate as b}from"@/store/actions";import{availableMapProjection as k}from"@/store/states";import{c as w,d as E,e as P,f as R}from"./mdi.kE_7Cs-6.js";import D from"^/ExportState.vue";import $ from"./PopUp.KdZ9onsp.js";import A from"./EodashItemFilter.kN3i4bef.js";import{useSTAcStore as H}from"@/store/stac";import{s as W}from"./pinia.ko8mb2Md.js";import{switchToCompare as u}from"@/utils/states";import{_ as N,h as d,p as f,C as U,aC as G,c as L,o as r,ar as v,e as c,b as s,G as y,k as l,w as O,aL as q}from"./framework.9o5qwrRa.js";import{u as z}from"./display.D0G1bFhD.js";import"@/composables/DefineWidgets";import"@eox/itemfilter";const F={__name:"EodashMapBtns",props:{exportMap:{type:Boolean,default:!0},changeProjection:{type:Boolean,default:!0},compareIndicators:{type:[Boolean,Object],default:!0}},setup(e){const{selectedStac:g,selectedCompareStac:h}=W(H()),{smAndDown:x}=z(),I=d(()=>x?"70%":"500px"),S=d(()=>x?"90%":"500px"),n=f(!1),t=f(!1),j=d(()=>u.value?w:E),B=()=>{if(u.value)t.value=!t.value;else{u.value=!0;const m=typeof e.compareIndicators=="object"&&e.compareIndicators.fallbackTemplate||"expert";h.value=null,b(m),q(g)}},C=f(null),M=()=>{const m=typeof e.compareIndicators=="object"&&e.compareIndicators.compareTemplate||"compare";b(m),t.value=!t.value};return T(C),(m,o)=>{const i=U("v-btn"),p=G("tooltip");return r(),L("div",{ref_key:"rootRef",ref:C,class:"d-flex flex-column align-end justify-end my-3 pa-2"},[e.exportMap?v((r(),s(i,{key:0,class:"map-btn",icon:[l(P)],onClick:o[0]||(o[0]=a=>n.value=!n.value)},null,8,["icon"])),[[p,"Extract Storytelling configuration","bottom"]]):c("",!0),e.exportMap?(r(),s(D,{key:1,modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=a=>n.value=a)},null,8,["modelValue"])):c("",!0),e.changeProjection&&l(k)?v((r(),s(i,{key:2,class:"map-btn",icon:[l(R)],onClick:o[2]||(o[2]=a=>l(V)(l(k)))},null,8,["icon"])),[[p,"Change map projection","bottom"]]):c("",!0),e.compareIndicators?v((r(),s(i,{key:3,class:"map-btn",icon:[j.value],onClick:B},null,8,["icon"])),[[p,"Compare mode","bottom"]]):c("",!0),y($,{modelValue:t.value,"onUpdate:modelValue":o[3]||(o[3]=a=>t.value=a),maxWidth:I.value,maxHeight:S.value},{default:O(()=>[y(A,{enableCompare:!0,"filters-title":"","results-title":"Select an indicator to compare","filter-properties":[],onSelect:M})]),_:1},8,["modelValue","maxWidth","maxHeight"])],512)}}},me=N(F,[["__scopeId","data-v-eb8d68ae"]]);export{me as default};
