import{useSTAcStore as T}from"@/store/stac";import{isFirstLoad as n}from"@/utils/states";import"@eox/itemfilter";import{_,h as b,p as P,c as F,o as v,j as p,t as c,K as C,k as I}from"./framework.DQA5mTKy.js";const k=[".items"],A={slot:"filterstitle",style:{margin:"14px 8px"}},B={slot:"resultstitle",style:{margin:"14px 8px"}},R={__name:"EodashItemFilter",props:{enableCompare:{type:Boolean,default:!1},filtersTitle:{type:String,default:"Indicators"},resultsTitle:{type:String,default:"Results"},titleProperty:{type:String,default:"title"},aggregateResults:{type:String,default:void 0},imageProperty:{type:String,default:""},subTitleProperty:{type:String,default:""},resultType:{type:String,default:""},cssVars:{type:[String,Object],default:""},enableHighlighting:{type:Boolean,default:!0},expandMultipleFilters:{type:Boolean,default:!0},expandMultipleResults:{type:Boolean,default:!0},styleOverride:{type:String,default:""},filterProperties:{type:Array,default:()=>[{keys:["title","themes","description"],title:"Search by name or description",type:"text",expanded:!0},{key:"themes",title:"Filter by theme",type:"multiselect",expanded:!0}]}},emits:["select"],setup(i,{emit:u}){var o;const t=T(),d=u,f=t.isApi?t.stac:(o=t.stac)==null?void 0:o.filter(l=>l.rel==="child"),e=i,a=(l,r)=>async s=>{if(s){n.value&&(n.value=!1);const x=t.isApi?s.id:s.href;await l(x),d("select",s)}else r()},y=a(t.loadSelectedSTAC,()=>t.selectedStac=null),g=a(t.loadSelectedCompareSTAC,t.resetSelectedCompareSTAC),m=async l=>{const r=l.detail;e.enableCompare?g(r):y(r)},h=b(()=>({titleProperty:e.titleProperty,enableHighlighting:e.enableHighlighting,expandMultipleFilters:e.expandMultipleFilters,expandMultipleResults:e.expandMultipleResults,subTitleProperty:e.subTitleProperty,resultType:e.resultType,imageProperty:e.imageProperty,aggregateResults:e.aggregateResults,style:e.cssVars,filterProperties:e.filterProperties,styleOverride:e.styleOverride})),S=P(null);return(l,r)=>(v(),F("eox-itemfilter",C({class:"fill-height"},h.value,{ref_key:"eoxItemFilter",ref:S,style:{overflow:"auto","--background-color":"none"},onSelect:m,".items":I(f)}),[p("h4",A,c(i.filtersTitle),1),p("h4",B,c(i.resultsTitle),1)],48,k))}},V=_(R,[["__scopeId","data-v-fbdefd9a"]]);export{V as default};
