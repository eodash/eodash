import{_ as En,aK as ge,o as Dt,c as It,K as kn,k as Ft,r as Mn,j as me,t as Nn,e as ye,h as Tn,p as Cn,V as xe}from"./framework.DKxocgDc.js";import"@eox/timecontrol";import{mapCompareEl as $e,mapEl as be}from"@/store/states";import{getColFromLayer as Pn}from"@/eodashSTAC/helpers";import{eodashCompareCollections as Rn,eodashCollections as Un,layerControlFormValueCompare as On,layerControlFormValue as Hn}from"@/utils/states";import{s as Ln}from"./pinia.BNSpQ8oF.js";import{useSTAcStore as zn}from"@/store/stac";import{bandsEditorInterface as Dn}from"@/utils/bands-editor";/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const _t=globalThis,ie=_t.ShadowRoot&&(_t.ShadyCSS===void 0||_t.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,se=Symbol(),we=new WeakMap;let Ye=class{constructor(t,n,r){if(this._$cssResult$=!0,r!==se)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=n}get styleSheet(){let t=this.o;const n=this.t;if(ie&&t===void 0){const r=n!==void 0&&n.length===1;r&&(t=we.get(n)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&we.set(n,t))}return t}toString(){return this.cssText}};const In=e=>new Ye(typeof e=="string"?e:e+"",void 0,se),Fn=(e,...t)=>{const n=e.length===1?e[0]:t.reduce((r,i,s)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+e[s+1],e[0]);return new Ye(n,e,se)},jn=(e,t)=>{if(ie)e.adoptedStyleSheets=t.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of t){const r=document.createElement("style"),i=_t.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=n.cssText,e.appendChild(r)}},_e=ie?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let n="";for(const r of t.cssRules)n+=r.cssText;return In(n)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:Bn,defineProperty:qn,getOwnPropertyDescriptor:Vn,getOwnPropertyNames:Gn,getOwnPropertySymbols:Wn,getPrototypeOf:Kn}=Object,U=globalThis,ve=U.trustedTypes,Xn=ve?ve.emptyScript:"",jt=U.reactiveElementPolyfillSupport,et=(e,t)=>e,At={toAttribute(e,t){switch(t){case Boolean:e=e?Xn:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=e!==null;break;case Number:n=e===null?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch{n=null}}return n}},oe=(e,t)=>!Bn(e,t),Ae={attribute:!0,type:String,converter:At,reflect:!1,useDefault:!1,hasChanged:oe};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),U.litPropertyMetadata??(U.litPropertyMetadata=new WeakMap);let W=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??(this.l=[])).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,n=Ae){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(t,n),!n.noAccessor){const r=Symbol(),i=this.getPropertyDescriptor(t,r,n);i!==void 0&&qn(this.prototype,t,i)}}static getPropertyDescriptor(t,n,r){const{get:i,set:s}=Vn(this.prototype,t)??{get(){return this[n]},set(o){this[n]=o}};return{get:i,set(o){const a=i==null?void 0:i.call(this);s==null||s.call(this,o),this.requestUpdate(t,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??Ae}static _$Ei(){if(this.hasOwnProperty(et("elementProperties")))return;const t=Kn(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(et("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(et("properties"))){const n=this.properties,r=[...Gn(n),...Wn(n)];for(const i of r)this.createProperty(i,n[i])}const t=this[Symbol.metadata];if(t!==null){const n=litPropertyMetadata.get(t);if(n!==void 0)for(const[r,i]of n)this.elementProperties.set(r,i)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const i=this._$Eu(n,r);i!==void 0&&this._$Eh.set(i,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const n=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const i of r)n.unshift(_e(i))}else t!==void 0&&n.push(_e(t));return n}static _$Eu(t,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var t;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(t=this.constructor.l)==null||t.forEach(n=>n(this))}addController(t){var n;(this._$EO??(this._$EO=new Set)).add(t),this.renderRoot!==void 0&&this.isConnected&&((n=t.hostConnected)==null||n.call(t))}removeController(t){var n;(n=this._$EO)==null||n.delete(t)}_$E_(){const t=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(t.set(r,this[r]),delete this[r]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return jn(t,this.constructor.elementStyles),t}connectedCallback(){var t;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$EO)==null||t.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$EO)==null||t.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(t,n,r){this._$AK(t,r)}_$ET(t,n){var s;const r=this.constructor.elementProperties.get(t),i=this.constructor._$Eu(t,r);if(i!==void 0&&r.reflect===!0){const o=(((s=r.converter)==null?void 0:s.toAttribute)!==void 0?r.converter:At).toAttribute(n,r.type);this._$Em=t,o==null?this.removeAttribute(i):this.setAttribute(i,o),this._$Em=null}}_$AK(t,n){var s,o;const r=this.constructor,i=r._$Eh.get(t);if(i!==void 0&&this._$Em!==i){const a=r.getPropertyOptions(i),c=typeof a.converter=="function"?{fromAttribute:a.converter}:((s=a.converter)==null?void 0:s.fromAttribute)!==void 0?a.converter:At;this._$Em=i;const l=c.fromAttribute(n,a.type);this[i]=l??((o=this._$Ej)==null?void 0:o.get(i))??l,this._$Em=null}}requestUpdate(t,n,r,i=!1,s){var o;if(t!==void 0){const a=this.constructor;if(i===!1&&(s=this[t]),r??(r=a.getPropertyOptions(t)),!((r.hasChanged??oe)(s,n)||r.useDefault&&r.reflect&&s===((o=this._$Ej)==null?void 0:o.get(t))&&!this.hasAttribute(a._$Eu(t,r))))return;this.C(t,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(t,n,{useDefault:r,reflect:i,wrapped:s},o){r&&!(this._$Ej??(this._$Ej=new Map)).has(t)&&(this._$Ej.set(t,o??n??this[t]),s!==!0||o!==void 0)||(this._$AL.has(t)||(this.hasUpdated||r||(n=void 0),this._$AL.set(t,n)),i===!0&&this._$Em!==t&&(this._$Eq??(this._$Eq=new Set)).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[s,o]of this._$Ep)this[s]=o;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[s,o]of i){const{wrapped:a}=o,c=this[s];a!==!0||this._$AL.has(s)||c===void 0||this.C(s,void 0,o,c)}}let t=!1;const n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(i=>{var s;return(s=i.hostUpdate)==null?void 0:s.call(i)}),this.update(n)):this._$EM()}catch(i){throw t=!1,this._$EM(),i}t&&this._$AE(n)}willUpdate(t){}_$AE(t){var n;(n=this._$EO)==null||n.forEach(r=>{var i;return(i=r.hostUpdated)==null?void 0:i.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&(this._$Eq=this._$Eq.forEach(n=>this._$ET(n,this[n]))),this._$EM()}updated(t){}firstUpdated(t){}};W.elementStyles=[],W.shadowRootOptions={mode:"open"},W[et("elementProperties")]=new Map,W[et("finalized")]=new Map,jt==null||jt({ReactiveElement:W}),(U.reactiveElementVersions??(U.reactiveElementVersions=[])).push("2.1.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const nt=globalThis,Se=e=>e,St=nt.trustedTypes,Ee=St?St.createPolicy("lit-html",{createHTML:e=>e}):void 0,Je="$lit$",P=`lit$${Math.random().toFixed(9).slice(2)}$`,Qe="?"+P,Zn=`<${Qe}>`,F=document,st=()=>F.createComment(""),ot=e=>e===null||typeof e!="object"&&typeof e!="function",ae=Array.isArray,Yn=e=>ae(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",Bt=`[ 	
\f\r]`,Q=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ke=/-->/g,Me=/>/g,H=RegExp(`>|${Bt}(?:([^\\s"'>=/]+)(${Bt}*=${Bt}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Ne=/'/g,Te=/"/g,tn=/^(?:script|style|textarea|title)$/i,en=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),xt=en(1),tt=en(2),j=Symbol.for("lit-noChange"),$=Symbol.for("lit-nothing"),Ce=new WeakMap,L=F.createTreeWalker(F,129);function nn(e,t){if(!ae(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return Ee!==void 0?Ee.createHTML(t):t}const Jn=(e,t)=>{const n=e.length-1,r=[];let i,s=t===2?"<svg>":t===3?"<math>":"",o=Q;for(let a=0;a<n;a++){const c=e[a];let l,u,h=-1,f=0;for(;f<c.length&&(o.lastIndex=f,u=o.exec(c),u!==null);)f=o.lastIndex,o===Q?u[1]==="!--"?o=ke:u[1]!==void 0?o=Me:u[2]!==void 0?(tn.test(u[2])&&(i=RegExp("</"+u[2],"g")),o=H):u[3]!==void 0&&(o=H):o===H?u[0]===">"?(o=i??Q,h=-1):u[1]===void 0?h=-2:(h=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?H:u[3]==='"'?Te:Ne):o===Te||o===Ne?o=H:o===ke||o===Me?o=Q:(o=H,i=void 0);const p=o===H&&e[a+1].startsWith("/>")?" ":"";s+=o===Q?c+Zn:h>=0?(r.push(l),c.slice(0,h)+Je+c.slice(h)+P+p):c+P+(h===-2?a:p)}return[nn(e,s+(e[n]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),r]};class at{constructor({strings:t,_$litType$:n},r){let i;this.parts=[];let s=0,o=0;const a=t.length-1,c=this.parts,[l,u]=Jn(t,n);if(this.el=at.createElement(l,r),L.currentNode=this.el.content,n===2||n===3){const h=this.el.content.firstChild;h.replaceWith(...h.childNodes)}for(;(i=L.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const h of i.getAttributeNames())if(h.endsWith(Je)){const f=u[o++],p=i.getAttribute(h).split(P),_=/([.?@])?(.*)/.exec(f);c.push({type:1,index:s,name:_[2],strings:p,ctor:_[1]==="."?tr:_[1]==="?"?er:_[1]==="@"?nr:Ot}),i.removeAttribute(h)}else h.startsWith(P)&&(c.push({type:6,index:s}),i.removeAttribute(h));if(tn.test(i.tagName)){const h=i.textContent.split(P),f=h.length-1;if(f>0){i.textContent=St?St.emptyScript:"";for(let p=0;p<f;p++)i.append(h[p],st()),L.nextNode(),c.push({type:2,index:++s});i.append(h[f],st())}}}else if(i.nodeType===8)if(i.data===Qe)c.push({type:2,index:s});else{let h=-1;for(;(h=i.data.indexOf(P,h+1))!==-1;)c.push({type:7,index:s}),h+=P.length-1}s++}}static createElement(t,n){const r=F.createElement("template");return r.innerHTML=t,r}}function Z(e,t,n=e,r){var o,a;if(t===j)return t;let i=r!==void 0?(o=n._$Co)==null?void 0:o[r]:n._$Cl;const s=ot(t)?void 0:t._$litDirective$;return(i==null?void 0:i.constructor)!==s&&((a=i==null?void 0:i._$AO)==null||a.call(i,!1),s===void 0?i=void 0:(i=new s(e),i._$AT(e,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=i:n._$Cl=i),i!==void 0&&(t=Z(e,i._$AS(e,t.values),i,r)),t}class Qn{constructor(t,n){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:n},parts:r}=this._$AD,i=((t==null?void 0:t.creationScope)??F).importNode(n,!0);L.currentNode=i;let s=L.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new ut(s,s.nextSibling,this,t):c.type===1?l=new c.ctor(s,c.name,c.strings,this,t):c.type===6&&(l=new rr(s,this,t)),this._$AV.push(l),c=r[++a]}o!==(c==null?void 0:c.index)&&(s=L.nextNode(),o++)}return L.currentNode=F,i}p(t){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(t,r,n),n+=r.strings.length-2):r._$AI(t[n])),n++}}class ut{get _$AU(){var t;return((t=this._$AM)==null?void 0:t._$AU)??this._$Cv}constructor(t,n,r,i){this.type=2,this._$AH=$,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=r,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let t=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=n.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,n=this){t=Z(this,t,n),ot(t)?t===$||t==null||t===""?(this._$AH!==$&&this._$AR(),this._$AH=$):t!==this._$AH&&t!==j&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):Yn(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==$&&ot(this._$AH)?this._$AA.nextSibling.data=t:this.T(F.createTextNode(t)),this._$AH=t}$(t){var s;const{values:n,_$litType$:r}=t,i=typeof r=="number"?this._$AC(t):(r.el===void 0&&(r.el=at.createElement(nn(r.h,r.h[0]),this.options)),r);if(((s=this._$AH)==null?void 0:s._$AD)===i)this._$AH.p(n);else{const o=new Qn(i,this),a=o.u(this.options);o.p(n),this.T(a),this._$AH=o}}_$AC(t){let n=Ce.get(t.strings);return n===void 0&&Ce.set(t.strings,n=new at(t)),n}k(t){ae(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const s of t)i===n.length?n.push(r=new ut(this.O(st()),this.O(st()),this,this.options)):r=n[i],r._$AI(s),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(t=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);t!==this._$AB;){const i=Se(t).nextSibling;Se(t).remove(),t=i}}setConnected(t){var n;this._$AM===void 0&&(this._$Cv=t,(n=this._$AP)==null||n.call(this,t))}}class Ot{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,n,r,i,s){this.type=1,this._$AH=$,this._$AN=void 0,this.element=t,this.name=n,this._$AM=i,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=$}_$AI(t,n=this,r,i){const s=this.strings;let o=!1;if(s===void 0)t=Z(this,t,n,0),o=!ot(t)||t!==this._$AH&&t!==j,o&&(this._$AH=t);else{const a=t;let c,l;for(t=s[0],c=0;c<s.length-1;c++)l=Z(this,a[r+c],n,c),l===j&&(l=this._$AH[c]),o||(o=!ot(l)||l!==this._$AH[c]),l===$?t=$:t!==$&&(t+=(l??"")+s[c+1]),this._$AH[c]=l}o&&!i&&this.j(t)}j(t){t===$?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class tr extends Ot{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===$?void 0:t}}class er extends Ot{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==$)}}class nr extends Ot{constructor(t,n,r,i,s){super(t,n,r,i,s),this.type=5}_$AI(t,n=this){if((t=Z(this,t,n,0)??$)===j)return;const r=this._$AH,i=t===$&&r!==$||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,s=t!==$&&(r===$||i);i&&this.element.removeEventListener(this.name,this,r),s&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,t):this._$AH.handleEvent(t)}}class rr{constructor(t,n,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){Z(this,t)}}const qt=nt.litHtmlPolyfillSupport;qt==null||qt(at,ut),(nt.litHtmlVersions??(nt.litHtmlVersions=[])).push("3.3.2");const ir=(e,t,n)=>{const r=(n==null?void 0:n.renderBefore)??t;let i=r._$litPart$;if(i===void 0){const s=(n==null?void 0:n.renderBefore)??null;r._$litPart$=i=new ut(t.insertBefore(st(),s),s,void 0,n??{})}return i._$AI(e),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const D=globalThis;let rt=class extends W{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const t=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=t.firstChild),t}update(t){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=ir(n,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)==null||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)==null||t.setConnected(!1)}render(){return j}};var Ze;rt._$litElement$=!0,rt.finalized=!0,(Ze=D.litElementHydrateSupport)==null||Ze.call(D,{LitElement:rt});const Vt=D.litElementPolyfillSupport;Vt==null||Vt({LitElement:rt});(D.litElementVersions??(D.litElementVersions=[])).push("4.2.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const sr=e=>(t,n)=>{n!==void 0?n.addInitializer(()=>{customElements.define(e,t)}):customElements.define(e,t)};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const or={attribute:!0,type:String,converter:At,reflect:!1,hasChanged:oe},ar=(e=or,t,n)=>{const{kind:r,metadata:i}=n;let s=globalThis.litPropertyMetadata.get(i);if(s===void 0&&globalThis.litPropertyMetadata.set(i,s=new Map),r==="setter"&&((e=Object.create(e)).wrapped=!0),s.set(n.name,e),r==="accessor"){const{name:o}=n;return{set(a){const c=t.get.call(this);t.set.call(this,a),this.requestUpdate(o,c,e,!0,a)},init(a){return a!==void 0&&this.C(o,void 0,e,a),a}}}if(r==="setter"){const{name:o}=n;return function(a){const c=this[o];t.call(this,a),this.requestUpdate(o,c,e,!0,a)}}throw Error("Unsupported decorator location: "+r)};function b(e){return(t,n)=>typeof n=="object"?ar(e,t,n):((r,i,s)=>{const o=i.hasOwnProperty(s);return i.constructor.createProperty(s,r),o?Object.getOwnPropertyDescriptor(i,s):void 0})(e,t,n)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const cr=(e,t,n)=>(n.configurable=!0,n.enumerable=!0,Reflect.decorate&&typeof t!="object"&&Object.defineProperty(e,t,n),n);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function lr(e,t){return(n,r,i)=>{const s=o=>{var a;return((a=o.renderRoot)==null?void 0:a.querySelector(e))??null};return cr(n,r,{get(){return s(this)}})}}function vt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function hr(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rn(e){let t,n,r;e.length!==2?(t=vt,n=(a,c)=>vt(e(a),c),r=(a,c)=>e(a)-c):(t=e===vt||e===hr?e:ur,n=e,r=e);function i(a,c,l=0,u=a.length){if(l<u){if(t(c,c)!==0)return u;do{const h=l+u>>>1;n(a[h],c)<0?l=h+1:u=h}while(l<u)}return l}function s(a,c,l=0,u=a.length){if(l<u){if(t(c,c)!==0)return u;do{const h=l+u>>>1;n(a[h],c)<=0?l=h+1:u=h}while(l<u)}return l}function o(a,c,l=0,u=a.length){const h=i(a,c,l,u-1);return h>l&&r(a[h-1],c)>-r(a[h],c)?h-1:h}return{left:i,center:o,right:s}}function ur(){return 0}function fr(e){return e===null?NaN:+e}const dr=rn(vt),ce=dr.right;rn(fr).center;class Pe extends Map{constructor(t,n=mr){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Re(this,t))}has(t){return super.has(Re(this,t))}set(t,n){return super.set(pr(this,t),n)}delete(t){return super.delete(gr(this,t))}}function Re({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function pr({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function gr({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function mr(e){return e!==null&&typeof e=="object"?e.valueOf():e}const yr=Math.sqrt(50),xr=Math.sqrt(10),$r=Math.sqrt(2);function Et(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=yr?10:s>=xr?5:s>=$r?2:1;let a,c,l;return i<0?(l=Math.pow(10,-i)/o,a=Math.round(e*l),c=Math.round(t*l),a/l<e&&++a,c/l>t&&--c,l=-l):(l=Math.pow(10,i)*o,a=Math.round(e/l),c=Math.round(t/l),a*l<e&&++a,c*l>t&&--c),c<a&&.5<=n&&n<2?Et(e,t,n*2):[a,c,l]}function br(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?Et(t,e,n):Et(e,t,n);if(!(s>=i))return[];const a=s-i+1,c=new Array(a);if(r)if(o<0)for(let l=0;l<a;++l)c[l]=(s-l)/-o;else for(let l=0;l<a;++l)c[l]=(s-l)*o;else if(o<0)for(let l=0;l<a;++l)c[l]=(i+l)/-o;else for(let l=0;l<a;++l)c[l]=(i+l)*o;return c}function Qt(e,t,n){return t=+t,e=+e,n=+n,Et(e,t,n)[2]}function wr(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Qt(t,e,n):Qt(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Ht(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function _r(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ue=Symbol("implicit");function sn(){var e=new Pe,t=[],n=[],r=Ue;function i(s){let o=e.get(s);if(o===void 0){if(r!==Ue)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Pe;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return sn(t,n).unknown(r)},Ht.apply(i,arguments),i}function ft(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Lt(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function B(){}var ct=.7,kt=1/ct,K="\\s*([+-]?\\d+)\\s*",lt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",E="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vr=/^#([0-9a-f]{3,8})$/,Ar=new RegExp(`^rgb\\(${K},${K},${K}\\)$`),Sr=new RegExp(`^rgb\\(${E},${E},${E}\\)$`),Er=new RegExp(`^rgba\\(${K},${K},${K},${lt}\\)$`),kr=new RegExp(`^rgba\\(${E},${E},${E},${lt}\\)$`),Mr=new RegExp(`^hsl\\(${lt},${E},${E}\\)$`),Nr=new RegExp(`^hsla\\(${lt},${E},${E},${lt}\\)$`),Oe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ft(B,ht,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:He,formatHex:He,formatHex8:Tr,formatHsl:Cr,formatRgb:Le,toString:Le});function He(){return this.rgb().formatHex()}function Tr(){return this.rgb().formatHex8()}function Cr(){return an(this).formatHsl()}function Le(){return this.rgb().formatRgb()}function ht(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=vr.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ze(t):n===3?new w(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?$t(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?$t(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ar.exec(e))?new w(t[1],t[2],t[3],1):(t=Sr.exec(e))?new w(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Er.exec(e))?$t(t[1],t[2],t[3],t[4]):(t=kr.exec(e))?$t(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Mr.exec(e))?Fe(t[1],t[2]/100,t[3]/100,1):(t=Nr.exec(e))?Fe(t[1],t[2]/100,t[3]/100,t[4]):Oe.hasOwnProperty(e)?ze(Oe[e]):e==="transparent"?new w(NaN,NaN,NaN,0):null}function ze(e){return new w(e>>16&255,e>>8&255,e&255,1)}function $t(e,t,n,r){return r<=0&&(e=t=n=NaN),new w(e,t,n,r)}function on(e){return e instanceof B||(e=ht(e)),e?(e=e.rgb(),new w(e.r,e.g,e.b,e.opacity)):new w}function te(e,t,n,r){return arguments.length===1?on(e):new w(e,t,n,r??1)}function w(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ft(w,te,Lt(B,{brighter(e){return e=e==null?kt:Math.pow(kt,e),new w(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ct:Math.pow(ct,e),new w(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new w(I(this.r),I(this.g),I(this.b),Mt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:De,formatHex:De,formatHex8:Pr,formatRgb:Ie,toString:Ie}));function De(){return`#${z(this.r)}${z(this.g)}${z(this.b)}`}function Pr(){return`#${z(this.r)}${z(this.g)}${z(this.b)}${z((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ie(){const e=Mt(this.opacity);return`${e===1?"rgb(":"rgba("}${I(this.r)}, ${I(this.g)}, ${I(this.b)}${e===1?")":`, ${e})`}`}function Mt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function I(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function z(e){return e=I(e),(e<16?"0":"")+e.toString(16)}function Fe(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new S(e,t,n,r)}function an(e){if(e instanceof S)return new S(e.h,e.s,e.l,e.opacity);if(e instanceof B||(e=ht(e)),!e)return new S;if(e instanceof S)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,c=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=c<.5?s+i:2-s-i,o*=60):a=c>0&&c<1?0:o,new S(o,a,c,e.opacity)}function Rr(e,t,n,r){return arguments.length===1?an(e):new S(e,t,n,r??1)}function S(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ft(S,Rr,Lt(B,{brighter(e){return e=e==null?kt:Math.pow(kt,e),new S(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ct:Math.pow(ct,e),new S(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new w(Gt(e>=240?e-240:e+120,i,r),Gt(e,i,r),Gt(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new S(je(this.h),bt(this.s),bt(this.l),Mt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Mt(this.opacity);return`${e===1?"hsl(":"hsla("}${je(this.h)}, ${bt(this.s)*100}%, ${bt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function je(e){return e=(e||0)%360,e<0?e+360:e}function bt(e){return Math.max(0,Math.min(1,e||0))}function Gt(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ur=Math.PI/180,Or=180/Math.PI,Nt=18,cn=.96422,ln=1,hn=.82521,un=4/29,X=6/29,fn=3*X*X,Hr=X*X*X;function dn(e){if(e instanceof k)return new k(e.l,e.a,e.b,e.opacity);if(e instanceof C)return pn(e);e instanceof w||(e=on(e));var t=Zt(e.r),n=Zt(e.g),r=Zt(e.b),i=Wt((.2225045*t+.7168786*n+.0606169*r)/ln),s,o;return t===n&&n===r?s=o=i:(s=Wt((.4360747*t+.3850649*n+.1430804*r)/cn),o=Wt((.0139322*t+.0971045*n+.7141733*r)/hn)),new k(116*i-16,500*(s-i),200*(i-o),e.opacity)}function Lr(e,t,n,r){return arguments.length===1?dn(e):new k(e,t,n,r??1)}function k(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}ft(k,Lr,Lt(B,{brighter(e){return new k(this.l+Nt*(e??1),this.a,this.b,this.opacity)},darker(e){return new k(this.l-Nt*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=cn*Kt(t),e=ln*Kt(e),n=hn*Kt(n),new w(Xt(3.1338561*t-1.6168667*e-.4906146*n),Xt(-.9787684*t+1.9161415*e+.033454*n),Xt(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function Wt(e){return e>Hr?Math.pow(e,1/3):e/fn+un}function Kt(e){return e>X?e*e*e:fn*(e-un)}function Xt(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Zt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function zr(e){if(e instanceof C)return new C(e.h,e.c,e.l,e.opacity);if(e instanceof k||(e=dn(e)),e.a===0&&e.b===0)return new C(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Or;return new C(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function ee(e,t,n,r){return arguments.length===1?zr(e):new C(e,t,n,r??1)}function C(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function pn(e){if(isNaN(e.h))return new k(e.l,0,0,e.opacity);var t=e.h*Ur;return new k(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}ft(C,ee,Lt(B,{brighter(e){return new C(this.h,this.c,this.l+Nt*(e??1),this.opacity)},darker(e){return new C(this.h,this.c,this.l-Nt*(e??1),this.opacity)},rgb(){return pn(this).rgb()}}));const zt=e=>()=>e;function gn(e,t){return function(n){return e+n*t}}function Dr(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Ir(e,t){var n=t-e;return n?gn(e,n>180||n<-180?n-360*Math.round(n/360):n):zt(isNaN(e)?t:e)}function Fr(e){return(e=+e)==1?it:function(t,n){return n-t?Dr(t,n,e):zt(isNaN(t)?n:t)}}function it(e,t){var n=t-e;return n?gn(e,n):zt(isNaN(e)?t:e)}const Be=function e(t){var n=Fr(t);function r(i,s){var o=n((i=te(i)).r,(s=te(s)).r),a=n(i.g,s.g),c=n(i.b,s.b),l=it(i.opacity,s.opacity);return function(u){return i.r=o(u),i.g=a(u),i.b=c(u),i.opacity=l(u),i+""}}return r.gamma=e,r}(1);function jr(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function Br(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function qr(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=dt(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function Vr(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Tt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Gr(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=dt(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var ne=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yt=new RegExp(ne.source,"g");function Wr(e){return function(){return e}}function Kr(e){return function(t){return e(t)+""}}function Xr(e,t){var n=ne.lastIndex=Yt.lastIndex=0,r,i,s,o=-1,a=[],c=[];for(e=e+"",t=t+"";(r=ne.exec(e))&&(i=Yt.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,c.push({i:o,x:Tt(r,i)})),n=Yt.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?c[0]?Kr(c[0].x):Wr(t):(t=c.length,function(l){for(var u=0,h;u<t;++u)a[(h=c[u]).i]=h.x(l);return a.join("")})}function dt(e,t){var n=typeof t,r;return t==null||n==="boolean"?zt(t):(n==="number"?Tt:n==="string"?(r=ht(t))?(t=r,Be):Xr:t instanceof ht?Be:t instanceof Date?Vr:Br(t)?jr:Array.isArray(t)?qr:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Gr:Tt)(e,t)}function mn(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Zr(e){return function(t,n){var r=e((t=ee(t)).h,(n=ee(n)).h),i=it(t.c,n.c),s=it(t.l,n.l),o=it(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=i(a),t.l=s(a),t.opacity=o(a),t+""}}}const yn=Zr(Ir);function Yr(e,t){t===void 0&&(t=e,e=dt);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function Jr(e){return function(){return e}}function Qr(e){return+e}var qe=[0,1];function R(e){return e}function re(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Jr(isNaN(t)?NaN:.5)}function ti(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function ei(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=re(i,r),s=n(o,s)):(r=re(r,i),s=n(s,o)),function(a){return s(r(a))}}function ni(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=re(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var c=ce(e,a,1,r)-1;return s[c](i[c](a))}}function ri(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ii(){var e=qe,t=qe,n=dt,r,i,s,o=R,a,c,l;function u(){var f=Math.min(e.length,t.length);return o!==R&&(o=ti(e[0],e[f-1])),a=f>2?ni:ei,c=l=null,h}function h(f){return f==null||isNaN(f=+f)?s:(c||(c=a(e.map(r),t,n)))(r(o(f)))}return h.invert=function(f){return o(i((l||(l=a(t,e.map(r),Tt)))(f)))},h.domain=function(f){return arguments.length?(e=Array.from(f,Qr),u()):e.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),n=mn,u()},h.clamp=function(f){return arguments.length?(o=f?!0:R,u()):o!==R},h.interpolate=function(f){return arguments.length?(n=f,u()):n},h.unknown=function(f){return arguments.length?(s=f,h):s},function(f,p){return r=f,i=p,u()}}function si(){return ii()(R,R)}function oi(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ct(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Y(e){return e=Ct(Math.abs(e)),e?e[1]:NaN}function ai(e,t){return function(n,r){for(var i=n.length,s=[],o=0,a=e[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),s.push(n.substring(i-=a,i+a)),!((c+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function ci(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var li=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pt(e){if(!(t=li.exec(e)))throw new Error("invalid format: "+e);var t;return new le({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Pt.prototype=le.prototype;function le(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}le.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hi(e){t:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break t;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Rt;function ui(e,t){var n=Ct(e,t);if(!n)return Rt=void 0,e.toPrecision(t);var r=n[0],i=n[1],s=i-(Rt=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Ct(e,Math.max(0,t+s-1))[0]}function Ve(e,t){var n=Ct(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Ge={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:oi,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ve(e*100,t),r:Ve,s:ui,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function We(e){return e}var Ke=Array.prototype.map,Xe=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function fi(e){var t=e.grouping===void 0||e.thousands===void 0?We:ai(Ke.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?We:ci(Ke.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function l(h,f){h=Pt(h);var p=h.fill,_=h.align,x=h.sign,M=h.symbol,q=h.zero,V=h.width,N=h.comma,v=h.precision,J=h.trim,m=h.type;m==="n"?(N=!0,m="g"):Ge[m]||(v===void 0&&(v=12),J=!0,m="g"),(q||p==="0"&&_==="=")&&(q=!0,p="0",_="=");var pt=(f&&f.prefix!==void 0?f.prefix:"")+(M==="$"?n:M==="#"&&/[boxX]/.test(m)?"0"+m.toLowerCase():""),An=(M==="$"?r:/[%p]/.test(m)?o:"")+(f&&f.suffix!==void 0?f.suffix:""),fe=Ge[m],Sn=/[defgprs%]/.test(m);v=v===void 0?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function de(d){var O=pt,A=An,G,pe,gt;if(m==="c")A=fe(d)+A,d="";else{d=+d;var mt=d<0||1/d<0;if(d=isNaN(d)?c:fe(Math.abs(d),v),J&&(d=hi(d)),mt&&+d==0&&x!=="+"&&(mt=!1),O=(mt?x==="("?x:a:x==="-"||x==="("?"":x)+O,A=(m==="s"&&!isNaN(d)&&Rt!==void 0?Xe[8+Rt/3]:"")+A+(mt&&x==="("?")":""),Sn){for(G=-1,pe=d.length;++G<pe;)if(gt=d.charCodeAt(G),48>gt||gt>57){A=(gt===46?i+d.slice(G+1):d.slice(G))+A,d=d.slice(0,G);break}}}N&&!q&&(d=t(d,1/0));var yt=O.length+d.length+A.length,T=yt<V?new Array(V-yt+1).join(p):"";switch(N&&q&&(d=t(T+d,T.length?V-A.length:1/0),T=""),_){case"<":d=O+d+A+T;break;case"=":d=O+T+d+A;break;case"^":d=T.slice(0,yt=T.length>>1)+O+d+A+T.slice(yt);break;default:d=T+O+d+A;break}return s(d)}return de.toString=function(){return h+""},de}function u(h,f){var p=Math.max(-8,Math.min(8,Math.floor(Y(f)/3)))*3,_=Math.pow(10,-p),x=l((h=Pt(h),h.type="f",h),{suffix:Xe[8+p/3]});return function(M){return x(_*M)}}return{format:l,formatPrefix:u}}var wt,he,xn;di({thousands:",",grouping:[3],currency:["$",""]});function di(e){return wt=fi(e),he=wt.format,xn=wt.formatPrefix,wt}function pi(e){return Math.max(0,-Y(Math.abs(e)))}function gi(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Y(t)/3)))*3-Y(Math.abs(e)))}function mi(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Y(t)-Y(e))+1}function yi(e,t,n,r){var i=wr(e,t,n),s;switch(r=Pt(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=gi(i,o))&&(r.precision=s),xn(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=mi(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=pi(i))&&(r.precision=s-(r.type==="%")*2);break}}return he(r)}function ue(e){var t=e.domain;return e.ticks=function(n){var r=t();return br(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return yi(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],a=r[s],c,l,u=10;for(a<o&&(l=o,o=a,a=l,l=i,i=s,s=l);u-- >0;){if(l=Qt(o,a,n),l===c)return r[i]=o,r[s]=a,t(r);if(l>0)o=Math.floor(o/l)*l,a=Math.ceil(a/l)*l;else if(l<0)o=Math.ceil(o*l)/l,a=Math.floor(a*l)/l;else break;c=l}return e},e}function Ut(){var e=si();return e.copy=function(){return ri(e,Ut())},Ht.apply(e,arguments),ue(e)}function $n(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[ce(r,c,0,n)]:s}function a(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,a()):[e,t]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,a()):i.slice()},o.invertExtent=function(c){var l=i.indexOf(c);return l<0?[NaN,NaN]:l<1?[e,r[0]]:l>=n?[r[n-1],t]:[r[l-1],r[l]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return $n().domain([e,t]).range(i).unknown(s)},Ht.apply(ue(o),arguments)}function bn(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[ce(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return bn().domain(e).range(t).unknown(n)},Ht.apply(i,arguments)}function xi(){var e=0,t=1,n,r,i,s,o=R,a=!1,c;function l(h){return h==null||isNaN(h=+h)?c:o(i===0?.5:(h=(s(h)-n)*i,a?Math.max(0,Math.min(1,h)):h))}l.domain=function(h){return arguments.length?([e,t]=h,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),l):[e,t]},l.clamp=function(h){return arguments.length?(a=!!h,l):a},l.interpolator=function(h){return arguments.length?(o=h,l):o};function u(h){return function(f){var p,_;return arguments.length?([p,_]=f,o=h(p,_),l):[o(0),o(1)]}}return l.range=u(dt),l.rangeRound=u(mn),l.unknown=function(h){return arguments.length?(c=h,l):c},function(h){return s=h,n=h(e),r=h(t),i=n===r?0:1/(r-n),l}}function $i(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function wn(){var e=ue(xi()(R));return e.copy=function(){return $i(e,wn())},_r.apply(e,arguments)}class bi{constructor(t){this.cle=t}setColorScale(){switch(this.cle.scaleType){case"continuous":this.setContinousColorScale();break;case"discrete":this.setDiscreteColorScale();break;case"threshold":this.setThresholdColorScale();break;case"categorical":this.setCategoricalColorScale();break;default:this.invalidScaleType(this.cle.scaleType)}}setContinousColorScale(){const{interpolator:t,domain:n,range:r}=this.cle;this.colorScale=t?wn(t).domain(n):Ut().range(r).domain(n).interpolate(yn)}setDiscreteColorScale(){this.colorScale=$n().domain(this.cle.domain).range(this.cle.range)}setThresholdColorScale(){const t=this.cle.domain;this.colorScale=bn().domain(t.slice(1,t.length-1)).range(this.cle.range)}setCategoricalColorScale(){this.colorScale=sn().domain(this.cle.domain).range(this.cle.range)}invalidScaleType(t){throw new Error(`invalid property scaletype: ${t}.
      Must be one of "categorical", "continuous", "discrete", "threshold".`)}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const wi={ATTRIBUTE:1},_i=e=>(...t)=>({_$litDirective$:e,values:t});class vi{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,n,r){this._$Ct=t,this._$AM=n,this._$Ci=r}_$AS(t,n){return this.update(t,n)}update(t,n){return this.render(...n)}}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Jt=_i(class extends vi{constructor(e){var t;if(super(e),e.type!==wi.ATTRIBUTE||e.name!=="class"||((t=e.strings)==null?void 0:t.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter(t=>e[t]).join(" ")+" "}update(e,[t]){var r,i;if(this.st===void 0){this.st=new Set,e.strings!==void 0&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter(s=>s!=="")));for(const s in t)t[s]&&!((r=this.nt)!=null&&r.has(s))&&this.st.add(s);return this.render(t)}const n=e.element.classList;for(const s of this.st)s in t||(n.remove(s),this.st.delete(s));for(const s in t){const o=!!t[s];o===this.st.has(s)||(i=this.nt)!=null&&i.has(s)||(o?(n.add(s),this.st.add(s)):(n.remove(s),this.st.delete(s)))}return j}});class Ai{constructor(t){this.cle=t}render(){const t=this.cle.titleText?xt`<p class="legend-title">${this.cle.titleText}</p>`:"",n={hidden:this.cle.scaleType==="categorical"},r={hidden:this.cle.scaleType!=="categorical","categorical-container":!0};return xt`<div
      class="cle-container"
      style="width:${this.cle.width}px; height:auto;"
    >
      ${t}
      <slot name="subtitle"></slot>
      <svg
        class=${Jt(n)}
        width=${this.cle.width}
        height=${this.cle.height}
      >
        <!-- discrete and threshold -->
        <g class="rects">${this.renderDiscreteThreshold()}</g>
        <!-- continuous -->
        ${this.renderContinuous()}
        <!-- axis ticks -->
        ${this.renderAxis()}
      </svg>
      <ul class=${Jt(r)}>
        ${this.renderCategorical()}
      </ul>
      <slot name="footer"></slot>
    </div>`}renderCategorical(){if(this.cle.scaleType!=="categorical")return"";const{markType:t,colorScale:n,domain:r}=this.cle,i={"legend-item":!0,line:t==="line",circle:t==="circle"};return xt`${r.map(s=>xt`<li
          class=${Jt(i)}
          style="--color:${n(s)}"
        >
          ${s}
        </li>`)}`}renderContinuous(){var h;if(this.cle.scaleType!=="continuous"||this.cle.colorScale===null)return"";const{colorScale:t,marginTop:n,marginLeft:r,marginRight:i,tickSize:s,width:o,range:a}=this.cle,c=this.cle.marginBottom+s,l=this.cle.height+s,u=((h=t.interpolator)==null?void 0:h.call(t))||Yr(yn,a);return tt`<image
      x=${r}
      y=${n}
      width=${o-i-r}
      height=${l-n-c}
      preserveAspectRatio="none"
      href=${this.getColorRamp(u).toDataURL()}
    ></image>`}renderDiscreteThreshold(){if(this.cle.scaleType!=="discrete"&&this.cle.scaleType!=="threshold")return"";const{tickSize:t,marginTop:n,marginLeft:r,colorScale:i,xScale:s}=this.cle,o=this.cle.height+t,a=this.cle.marginBottom+t,c=i.range(),l=h=>i.invertExtent(h).map(s)[0]||r,u=h=>{let[f,p]=i.invertExtent(h).map(s);return f=f||0,p=p||s.range()[1],p-f};return tt`${c.map(h=>tt`<rect x=${l(h)} y=${n} width=${u(h)} height=${o-n-a} fill=${h}></rect>`)}`}renderAxis(){if(!this.cle.xScale||this.cle.scaleType==="categorical")return"";const{ticks:t,tickSize:n,tickFormat:r,tickFormatter:i,tickValues:s,xScale:o,marginTop:a}=this.cle,c=this.cle.height+n,l=this.cle.marginBottom+n,u=s!=null&&s.length?s:o.ticks.apply(o,[t,r]),h=Math.max(n,0)+3,f=()=>u.map(p=>tt`<g class="tick" transform='translate(${o(p)},0)'>
      <line stroke="currentColor" y2="${n}" y1="${a+l-c}"></line>
      <text fill="currentColor" y="${h}" dy="0.71em">${i(p)}</text>
      </g>`);return tt`<g
      class="x-axis"
      transform="translate(0, ${c-l})"
      text-anchor="middle"
    >${f()}</g>`}getColorRamp(t,n=256){const r=document.createElement("canvas");r.setAttribute("height","1"),r.setAttribute("width",`${n}`);const i=r.getContext("2d");for(let s=0;s<n;s++)i.fillStyle=t(s/(n-1)),i.fillRect(s,0,1,1);return r}}const Si=325,Ei=32,ki=6,Mi=12,Ni=16,Ti=12,_n=5,Ci=6,vn=".1f",Pi=[0,1],Ri=["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],Ui="Color Legend Element",Oi="circle",Hi="continuous",Li=["domain","range","interpolator","scaleType"],zi=["scaleType","ticks","tickSize","tickValues","tickFormat","tickFormatter","domain","range","marginLeft","marginRight","marginBottom","marginTop","width","height"];class Di{constructor(t){this.cle=t}setXScale(){const{scaleType:t,marginLeft:n,width:r,marginRight:i}=this.cle;switch(t){case"continuous":this.xScale=Ut().domain(this.cle.domain).range([n,r-i]);break;case"discrete":case"threshold":this.xScale=Ut().domain([this.cle.domain[0],this.cle.domain[this.cle.domain.length-1]]).rangeRound([n,r-i]);break;case"categorical":this.xScale=null;break;default:throw new Error(`Unrecognized scaleType: ${t}`)}}handleAxisTicks(){var t,n,r;if((this.cle.scaleType==="discrete"||this.cle.scaleType==="threshold")&&!this.cle.tickValues){const[i,s]=this.xScale.domain();this.cle.tickValues=[i,...((n=(t=this.cle.colorScale)==null?void 0:t.thresholds)==null?void 0:n.call(t))||this.cle.colorScale.domain(),s]}typeof this.cle.tickFormatter!="function"&&((r=this.cle.tickFormat)!=null&&r.length?this.cle.tickFormatter=he(this.cle.tickFormat):this.cle.tickFormatter=this.xScale.tickFormat(this.cle.ticks||_n,this.cle.tickFormat||vn))}}const Ii=Fn`
  :host {
    --cle-font-family: sans-serif;
    --cle-font-family-title: var(--cle-font-family);
    --cle-font-size: 0.75rem;
    --cle-font-size-title: 0.875rem;
    --cle-letter-spacing: 0.3px;
    --cle-letter-spacing-title: 0.25px;
    --cle-font-weight: 400;
    --cle-font-weight-title: 500;
    --cle-color: currentColor;
    --cle-background: #fff;
    --cle-padding: 0.375rem;
    --cle-border: none;
    --cle-border-radius: 0;
    --cle-box-sizing: content-box;
    --cle-columns: 2;
    --cle-column-width: auto;
    --cle-item-margin: 0.375rem 0.75rem 0 0;
    --cle-line-width: 24px;
    --cle-line-height: 2px;
    --cle-swatch-size: 10px;
    --cle-swatch-width: var(--cle-swatch-size);
    --cle-swatch-height: var(--cle-swatch-size);
    --cle-swatch-margin: 0 0.5rem 0 0;
  }

  :host([hidden]),
  .hidden {
    display: none !important;
  }

  div.cle-container {
    font-family: var(--cle-font-family);
    font-size: var(--cle-font-size);
    font-weight: var(--cle-font-weight);
    letter-spacing: var(--cle-letter-spacing);
    color: var(--cle-color);
    background: var(--cle-background);
    display: inline-block;
    padding: var(--cle-padding);
    border: var(--cle-border);
    border-radius: var(--cle-border-radius);
    box-sizing: var(--cle-box-sizing);
  }

  svg {
    display: block;
    overflow: visible;
  }

  svg text {
    font-family: var(--cle-font-family);
    font-size: var(--cle-font-size);
    fill: var(--cle-color);
  }

  p.legend-title {
    margin: 0;
    font-family: var(--cle-font-family-title);
    font-size: var(--cle-font-size-title);
    font-weight: var(--cle-font-weight-title);
    letter-spacing: var(--cle-letter-spacing-title);
  }

  ul.categorical-container {
    padding: 0;
    margin: 0;
    column-count: var(--cle-columns);
    column-width: var(--cle-column-width);
  }

  .legend-item {
    display: inline-flex;
    align-items: center;
    margin: var(--cle-item-margin);
  }

  .legend-item::before {
    content: "";
    width: var(--cle-swatch-width);
    height: var(--cle-swatch-height);
    margin: var(--cle-swatch-margin);
    background: var(--color);
  }

  .legend-item.line::before {
    width: var(--cle-line-width);
    height: var(--cle-line-height);
  }

  .legend-item.circle::before {
    border-radius: 50%;
  }
`;var y=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let g=class extends rt{constructor(){super(...arguments),this.titleText=Ui,this.width=Si,this.height=Ei,this.marginTop=ki,this.marginRight=Mi,this.marginBottom=Ni,this.marginLeft=Ti,this.scaleType=Hi,this.domain=Pi,this.range=Ri,this.markType=Oi,this.ticks=_n,this.tickFormat=vn,this.tickSize=Ci,this.colorScaleSetter=new bi(this),this.axisTickSetter=new Di(this),this.renderer=new Ai(this)}get interpolator(){return this._interpolator}set interpolator(t){if(typeof t=="function"){const n=this.interpolator;this._interpolator=t,this.requestUpdate("interpolator",n)}else throw new Error("interpolator must be a function.")}get tickFormatter(){return this._tickFormatter}set tickFormatter(t){if(typeof t=="function"){const n=this.tickFormatter;this._tickFormatter=t,this.requestUpdate("tickFormatter",n)}else throw new Error("tickFormatter must be a function.")}get colorScale(){return this.colorScaleSetter.colorScale}get xScale(){return this.axisTickSetter.xScale}render(){return this.renderer.render()}willUpdate(t){Li.some(n=>t.has(n))&&this.colorScaleSetter.setColorScale(),zi.some(n=>t.has(n))&&(this.axisTickSetter.setXScale(),this.axisTickSetter.handleAxisTicks())}};g.styles=[Ii];y([b({type:String})],g.prototype,"titleText",void 0);y([b({type:Number})],g.prototype,"width",void 0);y([b({type:Number})],g.prototype,"height",void 0);y([b({type:Number})],g.prototype,"marginTop",void 0);y([b({type:Number})],g.prototype,"marginRight",void 0);y([b({type:Number})],g.prototype,"marginBottom",void 0);y([b({type:Number})],g.prototype,"marginLeft",void 0);y([b({type:String})],g.prototype,"scaleType",void 0);y([b({type:Array})],g.prototype,"domain",void 0);y([b({type:Array})],g.prototype,"range",void 0);y([b({type:String})],g.prototype,"markType",void 0);y([b({type:Number})],g.prototype,"ticks",void 0);y([b({type:String})],g.prototype,"tickFormat",void 0);y([b({type:Number})],g.prototype,"tickSize",void 0);y([b({type:Array})],g.prototype,"tickValues",void 0);y([lr("svg")],g.prototype,"svg",void 0);y([b({attribute:!1})],g.prototype,"interpolator",null);y([b({attribute:!1})],g.prototype,"tickFormatter",null);g=y([sr("color-legend")],g);const Fi={class:"d-flex flex-column"},ji=["for",".customEditorInterfaces"],Bi={key:0,class:"mt-2 mb-2"},qi={__name:"EodashLayerControl",props:{map:{type:String,default:"first"},tools:{type:Array,default:()=>["datetime","info","config","legend","opacity"]},title:{type:String||Boolean,default:"Layers"},cssVars:{type:Object}},async setup(e){let t,n;customElements.get("eox-layercontrol")||([t,n]=ge(()=>xe(()=>import("@eox/layercontrol"),[])),await t,n()),customElements.get("eox-jsonform")||([t,n]=ge(()=>xe(()=>import("@eox/jsonform"),[])),await t,n());const r=e,i={tools:r.tools,style:r.cssVars},{selectedCompareStac:s,selectedStac:o}=Ln(zn()),a=Tn(()=>r.map==="second"?$e.value!==null&&s.value!==null:be.value!==null&&o.value!==null),c=r.map==="second"?Rn:Un,l=r.map==="second"?$e:be,u=Cn(null),h=async x=>{var J;const{layer:M,datetime:q}=x.detail,V=await Pn(c,M);let N=[];V&&(N=await V.updateLayerJson(q,M.get("id"),r.map));const v=(J=N==null?void 0:N.find(m=>{var pt;return((pt=m==null?void 0:m.properties)==null?void 0:pt.id)==="AnalysisGroup"}))==null?void 0:J.layers;v!=null&&v.length&&(v==null||v.forEach(m=>{m.properties.layerControlExpand=!0,m.properties.layerControlToolsExpand=!0}),l.value.layers=N)};let f;const p=x=>{clearTimeout(f),f=setTimeout(()=>{h(x)},500)},_=x=>{r.map==="second"?On.value=x.detail.jsonformValue:Hn.value=x.detail.jsonformValue};return(x,M)=>(Dt(),It("span",Fi,[a.value?(Dt(),It("eox-layercontrol",kn({key:Ft(l)},i,{for:Ft(l),".customEditorInterfaces":Ft(Dn),"onDatetime:updated":p,toolsAsList:"true",ref_key:"eoxLayercontrol",ref:u,"on:layerConfig:change":_}),[Mn(x.$slots,"layerstitle",{},()=>[me("div",null,[e.title?(Dt(),It("p",Bi,[me("strong",null,Nn(e.title),1)])):ye("",!0)])],!0)],48,ji)):ye("",!0)]))}},rs=En(qi,[["__scopeId","data-v-e4ebc409"]]);export{rs as default};
