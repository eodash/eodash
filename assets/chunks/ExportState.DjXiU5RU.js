import{h as O,i as j}from"./mdi.kE_7Cs-6.js";import E from"./PopUp.CyQg7KWr.js";import{copyToClipBoard as _}from"@/utils";import{getLayers as z}from"@/store/actions";import{mapPosition as h,availableMapProjection as C}from"@/store/states";import{removeUnneededProperties as v}from"@/eodashSTAC/helpers";import{_ as A,aN as J,aO as P,p as U,C as o,b as q,o as f,w as a,G as t,j as n,a as m,t as b,k as x,c as $,e as D,F as G,B as I}from"./framework.DpxBzJw_.js";import"@/composables/DefineWidgets";const H={class:"pa-3 code-block"},K={style:{position:"absolute",bottom:"15px"}},Q={key:0,class:"text-success mr-3"},R={__name:"ExportState",props:J({getLayers:{type:Function,default:z}},{modelValue:{type:Boolean,required:!0,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(u){const c=P(u,"modelValue"),y=u,p=U(!1),w=[{id:Symbol(),copyFn:async()=>await _(k(),p),copyAs:"simple map"},{id:Symbol(),copyFn:async()=>await _(JSON.stringify(y.getLayers()),p),copyAs:"layers configuration"},{id:Symbol(),copyFn:async()=>await _(S(),p),copyAs:"map tour section"}],S=()=>{const[d,e,l]=h.value,r="### <!--{ layers=",i=`zoom="${l}" center=[${[d,e]}] projection="${C.value}" animationOptions={duration:500}}-->
#### Tour step title
Text describing the current step of the tour and why it is interesting what the map shows currently
`;return`${r}'${JSON.stringify(v(y.getLayers()))}' ${i}`},k=()=>{const[d,e,l]=h.value,r='## Map Example <!--{as="eox-map" style="width: 100%; height: 500px;" layers=',i=`zoom="${l}" center=[${[d,e]}] projection="${C.value}" }-->`;return`${r}'${JSON.stringify(v(y.getLayers()))}' ${i}`};return(d,e)=>{const l=o("v-card-title"),r=o("v-icon"),i=o("v-expand-transition"),g=o("v-btn"),V=o("v-col"),B=o("v-row"),N=o("v-card-text"),T=o("v-divider"),F=o("v-spacer"),L=o("v-card-actions"),M=o("v-card");return f(),q(E,{modelValue:c.value,"onUpdate:modelValue":e[1]||(e[1]=s=>c.value=s)},{default:a(()=>[t(M,{style:{"max-height":"498px"}},{default:a(()=>[t(l,{class:"bg-primary",style:{"max-height":"49px"}},{default:a(()=>e[2]||(e[2]=[n("h5",{class:"text-h5"},"Storytelling map configuration",-1)])),_:1}),t(N,{class:"py-5 overflow-auto",style:{height:"400px"}},{default:a(()=>[e[4]||(e[4]=n("p",{class:"text-body-2"},[m(" Copy and paste this code into the map "),n("b",null,"layers field"),m(" of the storytelling editor: ")],-1)),n("div",H,b(x(v)(u.getLayers())),1),n("div",K,[t(i,null,{default:a(()=>[p.value?(f(),$("div",Q,[t(r,{color:"success",left:"",icon:[x(O)]},null,8,["icon"]),e[3]||(e[3]=n("small",null,"copied!",-1))])):D("",!0)]),_:1})]),t(B,{class:"d-flex pt-3 justify-end"},{default:a(()=>[t(V,{cols:"6",class:"flex-column align-center text-end"},{default:a(()=>[(f(),$(G,null,I(w,s=>t(g,{class:"text-body-2",onClick:s.copyFn,key:s.id,small:"",variant:"text","prepend-icon":[x(j)]},{default:a(()=>[m(" copy as "+b(s.copyAs),1)]),_:2},1032,["onClick","prepend-icon"])),64))]),_:1})]),_:1})]),_:1}),t(T),t(L,{style:{"max-height":"49px"}},{default:a(()=>[t(F),t(g,{variant:"text",onClick:e[0]||(e[0]=s=>c.value=!c.value)},{default:a(()=>e[5]||(e[5]=[m(" Close ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},se=A(R,[["__scopeId","data-v-6b417a87"]]);export{se as default};
