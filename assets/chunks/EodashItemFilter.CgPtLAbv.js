import{useSTAcStore as Zh}from"@/store/stac";import{s as Xh,y as Qh,o as tf,c as ef,j as tl,t as el,M as rf}from"./framework.Q5n-9psv.js";var nf=Object.defineProperty,iu=t=>{throw TypeError(t)},of=(t,e,r)=>e in t?nf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ho=(t,e,r)=>of(t,typeof e!="symbol"?e+"":e,r),ya=(t,e,r)=>e.has(t)||iu("Cannot "+r),le=(t,e,r)=>(ya(t,e,"read from private field"),r?r.call(t):e.get(t)),ne=(t,e,r)=>e.has(t)?iu("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Yo=(t,e,r,n)=>(ya(t,e,"write to private field"),e.set(t,r),r),pt=(t,e,r)=>(ya(t,e,"access private method"),r);/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ci=globalThis,ma=Ci.ShadowRoot&&(Ci.ShadyCSS===void 0||Ci.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,ou=Symbol(),rl=new WeakMap;let sf=class{constructor(t,e,r){if(this._$cssResult$=!0,r!==ou)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(ma&&t===void 0){const r=e!==void 0&&e.length===1;r&&(t=rl.get(e)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&rl.set(e,t))}return t}toString(){return this.cssText}};const af=t=>new sf(typeof t=="string"?t:t+"",void 0,ou),lf=(t,e)=>{if(ma)t.adoptedStyleSheets=e.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(const r of e){const n=document.createElement("style"),i=Ci.litNonce;i!==void 0&&n.setAttribute("nonce",i),n.textContent=r.cssText,t.appendChild(n)}},nl=ma?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const n of e.cssRules)r+=n.cssText;return af(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:cf,defineProperty:uf,getOwnPropertyDescriptor:pf,getOwnPropertyNames:hf,getOwnPropertySymbols:ff,getPrototypeOf:df}=Object,Zr=globalThis,il=Zr.trustedTypes,gf=il?il.emptyScript:"",ol=Zr.reactiveElementPolyfillSupport,Bn=(t,e)=>t,As={toAttribute(t,e){switch(e){case Boolean:t=t?gf:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},su=(t,e)=>!cf(t,e),sl={attribute:!0,type:String,converter:As,reflect:!1,hasChanged:su};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Zr.litPropertyMetadata??(Zr.litPropertyMetadata=new WeakMap);class zr extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,r=sl){if(r.state&&(r.attribute=!1),this._$Ei(),this.elementProperties.set(e,r),!r.noAccessor){const n=Symbol(),i=this.getPropertyDescriptor(e,n,r);i!==void 0&&uf(this.prototype,e,i)}}static getPropertyDescriptor(e,r,n){const{get:i,set:o}=pf(this.prototype,e)??{get(){return this[r]},set(s){this[r]=s}};return{get(){return i==null?void 0:i.call(this)},set(s){const l=i==null?void 0:i.call(this);o.call(this,s),this.requestUpdate(e,l,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??sl}static _$Ei(){if(this.hasOwnProperty(Bn("elementProperties")))return;const e=df(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Bn("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Bn("properties"))){const r=this.properties,n=[...hf(r),...ff(r)];for(const i of n)this.createProperty(i,r[i])}const e=this[Symbol.metadata];if(e!==null){const r=litPropertyMetadata.get(e);if(r!==void 0)for(const[n,i]of r)this.elementProperties.set(n,i)}this._$Eh=new Map;for(const[r,n]of this.elementProperties){const i=this._$Eu(r,n);i!==void 0&&this._$Eh.set(i,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const i of n)r.unshift(nl(i))}else e!==void 0&&r.push(nl(e));return r}static _$Eu(e,r){const n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(r=>r(this))}addController(e){var r;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)==null||r.call(e))}removeController(e){var r;(r=this._$EO)==null||r.delete(e)}_$E_(){const e=new Map,r=this.constructor.elementProperties;for(const n of r.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return lf(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(r=>{var n;return(n=r.hostConnected)==null?void 0:n.call(r)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(r=>{var n;return(n=r.hostDisconnected)==null?void 0:n.call(r)})}attributeChangedCallback(e,r,n){this._$AK(e,n)}_$EC(e,r){var n;const i=this.constructor.elementProperties.get(e),o=this.constructor._$Eu(e,i);if(o!==void 0&&i.reflect===!0){const s=(((n=i.converter)==null?void 0:n.toAttribute)!==void 0?i.converter:As).toAttribute(r,i.type);this._$Em=e,s==null?this.removeAttribute(o):this.setAttribute(o,s),this._$Em=null}}_$AK(e,r){var n;const i=this.constructor,o=i._$Eh.get(e);if(o!==void 0&&this._$Em!==o){const s=i.getPropertyOptions(o),l=typeof s.converter=="function"?{fromAttribute:s.converter}:((n=s.converter)==null?void 0:n.fromAttribute)!==void 0?s.converter:As;this._$Em=o,this[o]=l.fromAttribute(r,s.type),this._$Em=null}}requestUpdate(e,r,n){if(e!==void 0){if(n??(n=this.constructor.getPropertyOptions(e)),!(n.hasChanged??su)(this[e],r))return;this.P(e,r,n)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(e,r,n){this._$AL.has(e)||this._$AL.set(e,r),n.reflect===!0&&this._$Em!==e&&(this._$Ej??(this._$Ej=new Set)).add(e)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[o,s]of this._$Ep)this[o]=s;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[o,s]of i)s.wrapped!==!0||this._$AL.has(o)||this[o]===void 0||this.P(o,this[o],s)}let r=!1;const n=this._$AL;try{r=this.shouldUpdate(n),r?(this.willUpdate(n),(e=this._$EO)==null||e.forEach(i=>{var o;return(o=i.hostUpdate)==null?void 0:o.call(i)}),this.update(n)):this._$EU()}catch(i){throw r=!1,this._$EU(),i}r&&this._$AE(n)}willUpdate(e){}_$AE(e){var r;(r=this._$EO)==null||r.forEach(n=>{var i;return(i=n.hostUpdated)==null?void 0:i.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Ej&&(this._$Ej=this._$Ej.forEach(r=>this._$EC(r,this[r]))),this._$EU()}updated(e){}firstUpdated(e){}}zr.elementStyles=[],zr.shadowRootOptions={mode:"open"},zr[Bn("elementProperties")]=new Map,zr[Bn("finalized")]=new Map,ol==null||ol({ReactiveElement:zr}),(Zr.reactiveElementVersions??(Zr.reactiveElementVersions=[])).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const zi=globalThis,Vi=zi.trustedTypes,al=Vi?Vi.createPolicy("lit-html",{createHTML:t=>t}):void 0,ba="$lit$",De=`lit$${(Math.random()+"").slice(9)}$`,va="?"+De,yf=`<${va}>`,vr=document,Wn=()=>vr.createComment(""),qn=t=>t===null||typeof t!="object"&&typeof t!="function",au=Array.isArray,lu=t=>au(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",Zo=`[ 	
\f\r]`,On=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ll=/-->/g,cl=/>/g,fr=RegExp(`>|${Zo}(?:([^\\s"'>=/]+)(${Zo}*=${Zo}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),ul=/'/g,pl=/"/g,cu=/^(?:script|style|textarea|title)$/i,mf=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),Q=mf(1),Ge=Symbol.for("lit-noChange"),vt=Symbol.for("lit-nothing"),hl=new WeakMap,yr=vr.createTreeWalker(vr,129);function uu(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return al!==void 0?al.createHTML(e):e}const pu=(t,e)=>{const r=t.length-1,n=[];let i,o=e===2?"<svg>":"",s=On;for(let l=0;l<r;l++){const a=t[l];let u,h,f=-1,m=0;for(;m<a.length&&(s.lastIndex=m,h=s.exec(a),h!==null);)m=s.lastIndex,s===On?h[1]==="!--"?s=ll:h[1]!==void 0?s=cl:h[2]!==void 0?(cu.test(h[2])&&(i=RegExp("</"+h[2],"g")),s=fr):h[3]!==void 0&&(s=fr):s===fr?h[0]===">"?(s=i??On,f=-1):h[1]===void 0?f=-2:(f=s.lastIndex-h[2].length,u=h[1],s=h[3]===void 0?fr:h[3]==='"'?pl:ul):s===pl||s===ul?s=fr:s===ll||s===cl?s=On:(s=fr,i=void 0);const b=s===fr&&t[l+1].startsWith("/>")?" ":"";o+=s===On?a+yf:f>=0?(n.push(u),a.slice(0,f)+ba+a.slice(f)+De+b):a+De+(f===-2?l:b)}return[uu(t,o+(t[r]||"<?>")+(e===2?"</svg>":"")),n]};class zn{constructor({strings:e,_$litType$:r},n){let i;this.parts=[];let o=0,s=0;const l=e.length-1,a=this.parts,[u,h]=pu(e,r);if(this.el=zn.createElement(u,n),yr.currentNode=this.el.content,r===2){const f=this.el.content.firstChild;f.replaceWith(...f.childNodes)}for(;(i=yr.nextNode())!==null&&a.length<l;){if(i.nodeType===1){if(i.hasAttributes())for(const f of i.getAttributeNames())if(f.endsWith(ba)){const m=h[s++],b=i.getAttribute(f).split(De),x=/([.?@])?(.*)/.exec(m);a.push({type:1,index:o,name:x[2],strings:b,ctor:x[1]==="."?fu:x[1]==="?"?du:x[1]==="@"?gu:Xn}),i.removeAttribute(f)}else f.startsWith(De)&&(a.push({type:6,index:o}),i.removeAttribute(f));if(cu.test(i.tagName)){const f=i.textContent.split(De),m=f.length-1;if(m>0){i.textContent=Vi?Vi.emptyScript:"";for(let b=0;b<m;b++)i.append(f[b],Wn()),yr.nextNode(),a.push({type:2,index:++o});i.append(f[m],Wn())}}}else if(i.nodeType===8)if(i.data===va)a.push({type:2,index:o});else{let f=-1;for(;(f=i.data.indexOf(De,f+1))!==-1;)a.push({type:7,index:o}),f+=De.length-1}o++}}static createElement(e,r){const n=vr.createElement("template");return n.innerHTML=e,n}}function wr(t,e,r=t,n){var i,o;if(e===Ge)return e;let s=n!==void 0?(i=r._$Co)==null?void 0:i[n]:r._$Cl;const l=qn(e)?void 0:e._$litDirective$;return(s==null?void 0:s.constructor)!==l&&((o=s==null?void 0:s._$AO)==null||o.call(s,!1),l===void 0?s=void 0:(s=new l(t),s._$AT(t,r,n)),n!==void 0?(r._$Co??(r._$Co=[]))[n]=s:r._$Cl=s),s!==void 0&&(e=wr(t,s._$AS(t,e.values),s,n)),e}class hu{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:r},parts:n}=this._$AD,i=((e==null?void 0:e.creationScope)??vr).importNode(r,!0);yr.currentNode=i;let o=yr.nextNode(),s=0,l=0,a=n[0];for(;a!==void 0;){if(s===a.index){let u;a.type===2?u=new nn(o,o.nextSibling,this,e):a.type===1?u=new a.ctor(o,a.name,a.strings,this,e):a.type===6&&(u=new yu(o,this,e)),this._$AV.push(u),a=n[++l]}s!==(a==null?void 0:a.index)&&(o=yr.nextNode(),s++)}return yr.currentNode=vr,i}p(e){let r=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,r),r+=n.strings.length-2):n._$AI(e[r])),r++}}class nn{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,r,n,i){this.type=2,this._$AH=vt,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=n,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=wr(this,e,r),qn(e)?e===vt||e==null||e===""?(this._$AH!==vt&&this._$AR(),this._$AH=vt):e!==this._$AH&&e!==Ge&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):lu(e)?this.k(e):this._(e)}S(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.S(e))}_(e){this._$AH!==vt&&qn(this._$AH)?this._$AA.nextSibling.data=e:this.T(vr.createTextNode(e)),this._$AH=e}$(e){var r;const{values:n,_$litType$:i}=e,o=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=zn.createElement(uu(i.h,i.h[0]),this.options)),i);if(((r=this._$AH)==null?void 0:r._$AD)===o)this._$AH.p(n);else{const s=new hu(o,this),l=s.u(this.options);s.p(n),this.T(l),this._$AH=s}}_$AC(e){let r=hl.get(e.strings);return r===void 0&&hl.set(e.strings,r=new zn(e)),r}k(e){au(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,i=0;for(const o of e)i===r.length?r.push(n=new nn(this.S(Wn()),this.S(Wn()),this,this.options)):n=r[i],n._$AI(o),i++;i<r.length&&(this._$AR(n&&n._$AB.nextSibling,i),r.length=i)}_$AR(e=this._$AA.nextSibling,r){var n;for((n=this._$AP)==null?void 0:n.call(this,!1,!0,r);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var r;this._$AM===void 0&&(this._$Cv=e,(r=this._$AP)==null||r.call(this,e))}}class Xn{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,r,n,i,o){this.type=1,this._$AH=vt,this._$AN=void 0,this.element=e,this.name=r,this._$AM=i,this.options=o,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=vt}_$AI(e,r=this,n,i){const o=this.strings;let s=!1;if(o===void 0)e=wr(this,e,r,0),s=!qn(e)||e!==this._$AH&&e!==Ge,s&&(this._$AH=e);else{const l=e;let a,u;for(e=o[0],a=0;a<o.length-1;a++)u=wr(this,l[n+a],r,a),u===Ge&&(u=this._$AH[a]),s||(s=!qn(u)||u!==this._$AH[a]),u===vt?e=vt:e!==vt&&(e+=(u??"")+o[a+1]),this._$AH[a]=u}s&&!i&&this.j(e)}j(e){e===vt?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class fu extends Xn{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===vt?void 0:e}}class du extends Xn{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==vt)}}class gu extends Xn{constructor(e,r,n,i,o){super(e,r,n,i,o),this.type=5}_$AI(e,r=this){if((e=wr(this,e,r,0)??vt)===Ge)return;const n=this._$AH,i=e===vt&&n!==vt||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,o=e!==vt&&(n===vt||i);i&&this.element.removeEventListener(this.name,this,n),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var r;typeof this._$AH=="function"?this._$AH.call(((r=this.options)==null?void 0:r.host)??this.element,e):this._$AH.handleEvent(e)}}class yu{constructor(e,r,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){wr(this,e)}}const bf={P:ba,A:De,C:va,M:1,L:pu,R:hu,D:lu,V:wr,I:nn,H:Xn,N:du,U:gu,B:fu,F:yu},fl=zi.litHtmlPolyfillSupport;fl==null||fl(zn,nn),(zi.litHtmlVersions??(zi.litHtmlVersions=[])).push("3.1.2");const vf=(t,e,r)=>{const n=(r==null?void 0:r.renderBefore)??e;let i=n._$litPart$;if(i===void 0){const o=(r==null?void 0:r.renderBefore)??null;n._$litPart$=i=new nn(e.insertBefore(Wn(),o),o,void 0,r??{})}return i._$AI(t),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let ie=class extends zr{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t;const e=super.createRenderRoot();return(t=this.renderOptions).renderBefore??(t.renderBefore=e.firstChild),e}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=vf(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)==null||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)==null||t.setConnected(!1)}render(){return Ge}};var dl;ie._$litElement$=!0,ie.finalized=!0,(dl=globalThis.litElementHydrateSupport)==null||dl.call(globalThis,{LitElement:ie});const gl=globalThis.litElementPolyfillSupport;gl==null||gl({LitElement:ie});(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.0.4");/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function*fo(t,e){if(t!==void 0){let r=0;for(const n of t)yield e(n,r++)}}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Jt(t,e,r){return t?e(t):r==null?void 0:r(t)}const wf=`
:host {
  display: flex;
  box-sizing: border-box;
  height: 100%;
  line-height: 1;
}
*,
*:before,
*:after {
  box-sizing: inherit;
}
form#itemfilter {
  height: 100%;
  width: 100%;
  max-width: 100%;
  display: flex;
  flex-direction: column;
}
form#itemfilter:not(.inline) {
  overflow-y: auto;
}
details {
  width: 100%;
}
`,Qn=`
:host, :root {
  --item-color: color-mix(
    in srgb,
    var(--primary-color) 10%,
    transparent
  );
  --item-hover-color: color-mix(
    in srgb,
    var(--secondary-color) 30%,
    transparent
  );
  --inline-bg-color: color-mix(
    in srgb,
    var(--secondary-color) 10%,
    transparent
  );
  --border-color: color-mix(
    in srgb,
    #000000 20%,
    transparent
  );
  --background-color: #fff;
}
* {
  font-family: Roboto, sans-serif;
}
ul {
  padding-left: 0;
  margin-top: 0;
}
li {
  list-style: none;
}
li span {
  text-overflow: ellipsis;
  white-space: nowrap;
}
li label {
  display: flex;
  align-items: center;
}
details summary > * {
  display: inline;
}
details summary {
  display: flex;
  align-items: center;
  border-bottom: 1px solid #0002;
  padding: .5rem 0;
}

details > summary::-webkit-details-marker {
  display: none;
}

.title {
  font-size: 13px;
  align-items: center;
  text-transform: capitalize;
}
.subtitle {
  font-size: 11px;
  opacity: .7;
  margin-top: 6px;
}
.title-container {
  display: flex;
  flex-direction: column;
}
h6.main-heading {
  font-size: 1rem;
  margin-block-start: 1.33em;
  margin-block-end: 1.33em;
  margin-top: 8px;
}
details summary .title {
  display: flex;
  font-weight: 500;
}
details.details-filter summary::after,
details.details-results summary::before {
  content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%230009' viewBox='0 0 24 24'%3E%3Ctitle%3Echevron-right%3C/title%3E%3Cpath d='M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z' /%3E%3C/svg%3E");
  height: 24px;
  width: 24px;
}
details.details-filter summary::after {
  position: absolute;
  right: 8px;
  transform: rotate(90deg);
}
details[open] summary::before {
  transform: rotate(90deg);
}
details[open] summary::after {
  transform: rotate(270deg);
}
eox-itemfilter-expandcontainer {
  max-height: 200px;
}
eox-itemfilter-expandcontainer > [data-type=filter] {
  display: block;
  height: calc(100% - 32px);
  overflow-y: auto;
}
[data-type=filter] .title,
details summary {
  text-transform: capitalize;
}
li,
label,
details,
input[type="checkbox"],
input[type="radio"] {
  cursor: pointer;
}
input[type="checkbox"],
input[type="radio"] {
  margin: 0;
}
input[type="text"] {
  box-sizing: border-box;
  width: 100%;
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
  padding: 5px 7px;
  border-radius: 4px;
  border: 1px solid var(--border-color);
}
section:not(section:last-of-type) {
  margin-bottom: 1rem;
}
#section-results {
  overflow: hidden;
  flex: 1;
  display: flex;
  flex-direction: column;
}
ul:not(#filters) > li {
  padding: 5px 10px;
}
section {
  position: relative;
  background-color: var(--background-color);
}
button#filter-reset {
  position: absolute;
  top: 4px;
  right: 4px;
  padding: 2px 10px;
}
.count {
  display: flex;
  justify-content: center;
  align-items: center;
  background: var(--secondary-color);
  padding: 0 12px;
  height: 20px;
  border-radius: 10px;
  color: var(--primary-color);
  font-weight: 500;
  margin-left: 9px;
}
eox-itemfilter-range,
tc-range-slider {
  align-items: center;
  display: block;
  padding-left: 0.6rem;
}
.range-before,
.range-after {
  font-size: small;
}
.range-before,
.range-after {
  margin: 1rem 0px;
}

button.reset-icon:before {
  content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Eclose%3C/title%3E%3Cpath d='M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z' /%3E%3C/svg%3E");
}
eox-itemfilter-expandcontainer button.reset-icon {
  margin-left: 4px;
  margin-top: -5px;
  height: 14px;
  width: 14px;
}
eox-itemfilter-expandcontainer button.reset-icon:before {
  height: 14px;
  width: 14px;
}
.inline-content {
  border: 1.5px solid var(--secondary-color);
  border-radius: 4px;
  max-height: 300px;
  overflow-y: auto;
  background: var(--inline-bg-color);
  margin-top: 4px;
  padding: 8px;
}
.inline-container {
  position: relative;
  align-items: center;
}
.inline-container-wrapper {
  width: 100%;
  position: relative;
}
.inline-container {
  position: relative;
  border: 1px solid var(--border-color);
  border-radius: 4px;
  height: 24px;
  padding: 8px;
  flex: 1;
  justify-content: space-between;
  cursor: text;
  transition: all 0.2s ease-in-out;
  display: flex;
}
.inline-container:hover {
  border: 1px solid var(--primary-color);
}
[popover] {
  position: fixed;
  top: 0;
  left: 0;
  margin: 0;
  padding: 0;
  background-color: var(--background-color);
  border: none;
}
.input-container {
  display: flex;
  flex: 1;
  align-items: center;
}
.input-container input,
.input-container input:focus {
  height: 100%;
  border: none;
  outline: none;
  border: 0;
  min-width: 25%;
}
.button-container {
  display: flex;
  align-items: center;
  justify-content: center;
  position: absolute;
  right: 1px;
  top: 5px;
  height: calc(100% - 10px);
  width: 34px;
  background: white;
}
button.icon {
  color: #004170;
  height: 24px;
  font-size: large;
  width: unset;
}
.inline-container::-webkit-scrollbar {
  height: 2px;
}
.inline-container::-webkit-scrollbar-thumb {
  background: lightgrey;
  border-radius: 2px;
}
.hidden {
  height: 0;
  padding: 0;
  border: none;
}
.hidden:hover {
  border: none;
}
.chip-title {
  pointer-events: none;
  text-transform: capitalize;
}
.chip {
  display: flex;
  align-items: center;
  background: var(--item-color);
  border-radius: 30px;
  margin-right: 4px;
  padding: 5px 10px;
  font-size: small;
  cursor: default;
  white-space: nowrap;
}
.chip.highlighted {
  background: var(--primary-color);
  color: white;
}
.chip-close {
  cursor: pointer;
  font-weight: 600;
  position: absolute;
  right: -25px;
  background: white;
  top: 0;
  height: 100%;
  display: flex;
  align-items: center;
  height: 24px;
  width: 24px;
}
.chip-close:before {
  position: absolute;
  text-indent: 0;
  line-height: initial;
  height: 24px;
  width: 24px;
  content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Eclose%3C/title%3E%3Cpath d='M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z' /%3E%3C/svg%3E");
}
.chip-container {
  position: relative;
  max-width: 75%;
}
.autocomplete-container,
.text-container {
  position: relative;
  align-items: center;
  width: 100%;
  box-sizing: border-box;
  border: 1px solid var(--border-color);
  border-radius: 4px;
  justify-content: space-between;
  cursor: text;
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
  background: white;
}
.autocomplete-container:hover,
.text-container:hover {
  border: 1px solid var(--primary-color);
}
.autocomplete-container-wrapper,
.text-container-wrapper {
  padding: 6px;
  position: relative;
  display: flex;
  align-items: center;
  flex: 1;
  overflow-x: auto;
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.autocomplete-container-wrapper::-webkit-scrollbar {
  display: none;
}
.chip-wrapper {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.chip-wrapper::-webkit-scrollbar {
  display: none;
  width: 0;
  background: transparent;
}
.autocomplete-input,
.text-input {
  flex: 1;
  border: none !important;
  outline: none;
  box-sizing: border-box;
  margin-top: 0 !important;
  margin-bottom: 0 !important;
  padding: 3px 0px !important;
  min-width: 150px;
  border-radius: 4px;
}
.selected-items {
  display: flex;
  flex-wrap: nowrap;
  gap: 4px;
}
li.highlighted,
.select-container li:hover,
.highlight-item {
  background: var(--item-hover-color);
}
.selected-item span {
  margin-right: 8px;
}
.selected-item button {
  background: none;
  border: none;
  color: #fff;
  cursor: pointer;
  font-size: 16px;
  line-height: 1;
}
.multiselect-container,
.select-container {
  display: flex;
  flex-direction: column;
  gap: 4px;
}
.multiselect-container label,
.select-container label {
  display: flex;
  align-items: center;
  cursor: pointer;
}
.multiselect-container input,
.select-container input {
  margin-right: 8px;
}
.select-overflow {
  max-height: 185px;
  overflow-y: auto;
}
.chip-title strong {
  font-weight: 500;
}
.chip-wrapper {
  max-width: 100%;
  overflow-x: scroll;
}
.chip-container {
  display: flex;
  flex: 0;
}
.input-container.dirty-filter-input {
  margin-left: 25px;
}
`,xf=`:root,:host { --spacing: 1rem; --block-spacing-vertical: calc(var(--spacing) * 2); --block-spacing-horizontal: var(--spacing); --background-color: var(--eox-background-color, white); --color: var(--eox-color, #2c3d49); --h-color: var(--eox-h-color, var(--color)); --hover-transparency: var(--eox-hover-transparency, 20%); --bg-hover-transparency: var(--eox-bg-hover-transparency, 40%); --btn-hover-transparency: var(--eox-btn-hover-transparency, 80%); --primary-color: var(--eox-primary-color, #004170); --primary-color-hover: color-mix( in srgb, var(--primary-color) var(--hover-transparency), transparent ); --primary-bg-color-hover: color-mix( in srgb, var(--primary-color) var(--bg-hover-transparency), transparent ); --primary-btn-color-hover: color-mix( in srgb, var(--primary-color) var(--btn-hover-transparency), transparent ); --secondary-color: var(--eox-secondary-color, #c6d4df); --secondary-color-hover: color-mix( in srgb, var(--secondary-color) var(--hover-transparency), transparent ); --secondary-bg-color-hover: color-mix( in srgb, var(--secondary-color) var(--bg-hover-transparency), transparent ); --secondary-btn-color-hover: color-mix( in srgb, var(--secondary-color) var(--btn-hover-transparency), transparent ); --success: var(--eox-success, #26cc0f); --warning: var(--eox-warning, #f18e32); --error: var(--eox-error, #ff5252); --header-font-family: var(--eox-header-font-family, "Roboto", sans-serif); --body-font-family: var(--eox-body-font-family, "Roboto", sans-serif);}* { font-size: normal; font-family: var(--body-font-family); color: var(--eox-color);}h1,h2,h3,h4,h5,h6 { font-family: var(--header-font-family);}span,p,div,main,label { font-family: var(--body-font-family);}@media (min-width: 576px) { .container { max-width: 510px; padding-right: 0; padding-left: 0; --block-spacing-vertical: calc(var(--spacing) * 2.5); }}@media (min-width: 768px) { .container { max-width: 700px; --block-spacing-vertical: calc(var(--spacing) * 3); }}@media (min-width: 992px) { .container { max-width: 920px; --block-spacing-vertical: calc(var(--spacing) * 3.5); }}@media (min-width: 1200px) { .container { max-width: 1130px; --block-spacing-vertical: calc(var(--spacing) * 4); }}.container { width: 100%; margin-right: auto; margin-left: auto; display: block; padding: var(--block-spacing-vertical) var(--block-spacing-horizontal);}h1,h2,h3 { line-height: 120%; margin-top: 0.8rem; margin-bottom: 0.8rem;}p { --font-size: 1rem; font-weight: 400; line-height: 170%; margin-top: 0.8rem; margin-bottom: 1.6rem; font-size: var(--font-size);}body { padding: 0; margin: 0;}.sb-show-main.sb-main-padded { padding: 0;}h1,h2,h3,h4,h5,h6 { --font-weight: 700;}h1 { --font-size: 3rem; --typography-spacing-vertical: 0.5rem;}h2 { --font-size: 2rem; --typography-spacing-vertical: 0.5rem;}h3 { --font-size: 1.75rem; --typography-spacing-vertical: 0.5rem;}h4 { --font-size: 1.5rem; --typography-spacing-vertical: 0.5rem;}h5 { --font-size: 1.25rem; --typography-spacing-vertical: 0.5rem;}h1,h2,h3,h4,h5,h6 { margin-top: 0; margin-bottom: var(--typography-spacing-vertical); color: var(--h-color); font-weight: var(--font-weight); font-size: var(--font-size); font-family: var(--header-font-family);}button,.button { display: inline-flex; position: relative; align-items: center; color: #fff; border-width: 0; outline: none; border-radius: 4px; padding: 16px; height: 36px; cursor: pointer; font-family: inherit; font-size: 0.875rem; text-transform: uppercase; letter-spacing: 1.25px; font-weight: 500; box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12); transition-property: box-shadow, transform, opacity, background; transition-duration: 0.28s; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);}button:hover:not([disabled]):not(.icon):not(.json-editor-btntype-*),.button:hover:not([disabled]):not(.icon) { box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12); background: var(--primary-btn-color-hover);}button,button:active,.button,.button:active { background: var(--primary-color);}button[disabled],.button[disabled] { opacity: 0.5; cursor: not-allowed;}button.block,.button.block { display: block;}button.outline,.button.outline { background: transparent; box-shadow: none; color: var(--primary-color); outline: 1px solid var(--primary-color);}button.outline:hover,.button.outline:hover { background: transparent;}button.icon,.button.icon,button[class*="json-editor-btntype-"] { background: transparent; border: none; box-shadow: none; padding: 0; border-radius: 50%; width: 24px; height: 24px; text-indent: -9999px;}button.icon-text,.button.icon-text { text-indent: 26px;}button.icon-text.block,.button.icon-text.block { text-indent: 20px;}button.icon:before,button.icon-text:before,.button.icon:before,.button.icon-text:before { position: absolute; text-indent: 0; line-height: initial;}button.icon-text.block:before,.button.icon-text.block:before { text-indent: -54px;}button.icon:before,.button.icon:before,button[class*="json-editor-btntype-"]::before { width: 24px; height: 24px; margin-right: 0;}button.icon-text:before,.button.icon-text:before { width: 18px; height: 18px;}button.small,.button.small { height: 28px; padding: 12.4px; font-size: 0.75rem;}button.smallest.icon,button.smallest.icon::before { height: 16px; width: 16px; padding: 0;}input[type="checkbox"] { appearance: none; -webkit-appearance: none; margin: 0; cursor: pointer; display: flex; flex-direction: row; align-items: center; width: 24px; height: 24px;}input[type="checkbox"]:after { display: block; content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Echeckbox-blank-outline%3C/title%3E%3Cpath d='M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z' /%3E%3C/svg%3E"); width: 20px; height: 20px; margin-right: 4px;}input[type="checkbox"]:checked:after { content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Echeckbox-marked%3C/title%3E%3Cpath d='M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z' /%3E%3C/svg%3E");}textarea { height: 90px; resize: none; border-radius: 4px; box-sizing: border-box !important; width: 100%; padding: 5px 7px; border: 1px solid var(--secondary-color); font-size: smaller; background: var(--background-color);}input[type="text"],input[type="url"],input[type="email"],input[type="password"],input[type="text"],input[type="number"],input[type="search"],input[type="tel"],select { box-sizing: border-box; width: 100%; margin-top: 0.5rem; margin-bottom: 0.5rem; padding: 5px 7px; border-radius: 4px; border: 1px solid #0004;}ul.list-wrap { padding: 0;}ul.list-wrap li:hover,ul.list-wrap li.selected { background: var(--secondary-bg-color-hover);}ul.list-wrap li { list-style: none; padding: 4px;}ul.list-wrap li { border-bottom: 1.2px solid var(--secondary-color);}ul.list-wrap li:first-child { border-top: 1.2px solid var(--secondary-color);}ul.list-wrap li .list { width: 100%; align-items: center; justify-content: space-between; display: flex; align-items: center; cursor: pointer; font-size: small; gap: 10px;}ul.list-wrap li .list span { display: flex; align-items: center; cursor: pointer; font-size: small; flex-grow: 1;}input[type="radio"] { appearance: none; -webkit-appearance: none; margin: 0; cursor: pointer; display: flex; flex-direction: row; align-items: center; width: 24px; height: 24px;}label span { font-size: small;}input[type="radio"]:after { display: block; content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Eradiobox-blank%3C/title%3E%3Cpath d='M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z' /%3E%3C/svg%3E"); width: 20px; height: 20px; margin-right: 4px;}input[type="radio"]:checked:after { content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Eradiobox-marked%3C/title%3E%3Cpath d='M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7Z' /%3E%3C/svg%3E");}input[type="range"] { -webkit-appearance: none; width: 90%; margin-left: 5%; height: 6px; border-radius: 5px; background: #d7dcdf; outline: none; padding: 0;}input[type="range"]::-webkit-slider-thumb { appearance: none; width: 15px; height: 15px; border-radius: 50%; background: #2c3e50; cursor: pointer; transition: background 0.15s ease-in-out;}.range-slider { margin: 60px 0 0 0;}.range-slider { width: 100%;}input[type="range"]::-webkit-slider-thumb:hover { background: #00416f;}input[type="range"]:active::-webkit-slider-thumb { background: #00416f;}input[type="range"]::-moz-range-thumb { width: 15px; height: 15px; border: 0; border-radius: 50%; background: #2c3e50; cursor: pointer; transition: background 0.15s ease-in-out;}input[type="range"]::-moz-range-thumb:hover { background: #00416f;}input[type="range"]:active::-moz-range-thumb { background: #00416f;}input[type="range"]:focus::-webkit-slider-thumb { box-shadow: 0 0 0 3px #fff0, 0 0 0 6px #00416f00;}.range-slider__value { display: inline-block; position: relative; width: 60px; color: #fff; line-height: 20px; text-align: center; border-radius: 3px; background: #2c3e50; padding: 5px 10px; margin-left: 8px;}.range-slider__value:after { position: absolute; top: 8px; left: -7px; width: 0; height: 0; border-top: 7px solid transparent; border-right: 7px solid #2c3e50; border-bottom: 7px solid transparent; content: "";}input::-moz-focus-inner,input::-moz-focus-outer { border: 0;}`;var _s,mu;class Sf extends ie{constructor(){super(),ne(this,_s),this.filterObject={},this.unstyled=!1}static get properties(){return{filterObject:{attribute:!1,type:Object},unstyled:{type:Boolean}}}render(){return Q`
      <style>
        ${!this.unstyled&&Qn}
      </style>

      ${Jt(this.filterObject.featured,()=>Q`<slot name="filter"></slot>`,()=>Q`<details
          @toggle="${pt(this,_s,mu)}"
          class="details-filter"
          ?open=${this.filterObject.expanded||vt}
        >
          <summary>
            <span
              class="title"
              style="${!this.filterObject.title&&"text-transform: capitalize"}"
            >
              ${this.filterObject.title||this.filterObject.key||"Filter"}
              <slot name="reset-button"></slot>
            </span>
          </summary>
          <div>
            <slot name="filter"></slot>
          </div>
        </details>`)}
    `}}_s=new WeakSet,mu=function(t){this.dispatchEvent(new CustomEvent("details-toggled",{detail:t,bubbles:!0,composed:!0}))};customElements.define("eox-itemfilter-expandcontainer",Sf);function Fe(t){return Array.isArray?Array.isArray(t):wu(t)==="[object Array]"}const $f=1/0;function Af(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-$f?"-0":e}function _f(t){return t==null?"":Af(t)}function _e(t){return typeof t=="string"}function bu(t){return typeof t=="number"}function Ef(t){return t===!0||t===!1||kf(t)&&wu(t)=="[object Boolean]"}function vu(t){return typeof t=="object"}function kf(t){return vu(t)&&t!==null}function re(t){return t!=null}function Xo(t){return!t.trim().length}function wu(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Of="Incorrect 'index' type",jf=t=>`Invalid value for key ${t}`,Mf=t=>`Pattern length exceeds max of ${t}.`,Pf=t=>`Missing ${t} property in key`,Lf=t=>`Property 'weight' in key '${t}' must be a positive integer`,yl=Object.prototype.hasOwnProperty;class Cf{constructor(e){this._keys=[],this._keyMap={};let r=0;e.forEach(n=>{let i=xu(n);this._keys.push(i),this._keyMap[i.id]=i,r+=i.weight}),this._keys.forEach(n=>{n.weight/=r})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function xu(t){let e=null,r=null,n=null,i=1,o=null;if(_e(t)||Fe(t))n=t,e=ml(t),r=Es(t);else{if(!yl.call(t,"name"))throw new Error(Pf("name"));const s=t.name;if(n=s,yl.call(t,"weight")&&(i=t.weight,i<=0))throw new Error(Lf(s));e=ml(s),r=Es(s),o=t.getFn}return{path:e,id:r,weight:i,src:n,getFn:o}}function ml(t){return Fe(t)?t:t.split(".")}function Es(t){return Fe(t)?t.join("."):t}function Rf(t,e){let r=[],n=!1;const i=(o,s,l)=>{if(re(o))if(!s[l])r.push(o);else{let a=s[l];const u=o[a];if(!re(u))return;if(l===s.length-1&&(_e(u)||bu(u)||Ef(u)))r.push(_f(u));else if(Fe(u)){n=!0;for(let h=0,f=u.length;h<f;h+=1)i(u[h],s,l+1)}else s.length&&i(u,s,l+1)}};return i(t,_e(e)?e.split("."):e,0),n?r:r[0]}const Tf={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},If={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},Df={location:0,threshold:.6,distance:100},Ff={useExtendedSearch:!1,getFn:Rf,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Z={...If,...Tf,...Df,...Ff};const Bf=/[^ ]+/g;function Nf(t=1,e=3){const r=new Map,n=Math.pow(10,e);return{get(i){const o=i.match(Bf).length;if(r.has(o))return r.get(o);const s=1/Math.pow(o,.5*t),l=parseFloat(Math.round(s*n)/n);return r.set(o,l),l},clear(){r.clear()}}}class wa{constructor({getFn:e=Z.getFn,fieldNormWeight:r=Z.fieldNormWeight}={}){this.norm=Nf(r,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((r,n)=>{this._keysMap[r.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,_e(this.docs[0])?this.docs.forEach((e,r)=>{this._addString(e,r)}):this.docs.forEach((e,r)=>{this._addObject(e,r)}),this.norm.clear())}add(e){const r=this.size();_e(e)?this._addString(e,r):this._addObject(e,r)}removeAt(e){this.records.splice(e,1);for(let r=e,n=this.size();r<n;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(e,r){return e[this._keysMap[r]]}size(){return this.records.length}_addString(e,r){if(!re(e)||Xo(e))return;let n={v:e,i:r,n:this.norm.get(e)};this.records.push(n)}_addObject(e,r){let n={i:r,$:{}};this.keys.forEach((i,o)=>{let s=i.getFn?i.getFn(e):this.getFn(e,i.path);if(re(s)){if(Fe(s)){let l=[];const a=[{nestedArrIndex:-1,value:s}];for(;a.length;){const{nestedArrIndex:u,value:h}=a.pop();if(re(h))if(_e(h)&&!Xo(h)){let f={v:h,i:u,n:this.norm.get(h)};l.push(f)}else Fe(h)&&h.forEach((f,m)=>{a.push({nestedArrIndex:m,value:f})})}n.$[o]=l}else if(_e(s)&&!Xo(s)){let l={v:s,n:this.norm.get(s)};n.$[o]=l}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function Su(t,e,{getFn:r=Z.getFn,fieldNormWeight:n=Z.fieldNormWeight}={}){const i=new wa({getFn:r,fieldNormWeight:n});return i.setKeys(t.map(xu)),i.setSources(e),i.create(),i}function Uf(t,{getFn:e=Z.getFn,fieldNormWeight:r=Z.fieldNormWeight}={}){const{keys:n,records:i}=t,o=new wa({getFn:e,fieldNormWeight:r});return o.setKeys(n),o.setIndexRecords(i),o}function _i(t,{errors:e=0,currentLocation:r=0,expectedLocation:n=0,distance:i=Z.distance,ignoreLocation:o=Z.ignoreLocation}={}){const s=e/t.length;if(o)return s;const l=Math.abs(n-r);return i?s+l/i:l?1:s}function Hf(t=[],e=Z.minMatchCharLength){let r=[],n=-1,i=-1,o=0;for(let s=t.length;o<s;o+=1){let l=t[o];l&&n===-1?n=o:!l&&n!==-1&&(i=o-1,i-n+1>=e&&r.push([n,i]),n=-1)}return t[o-1]&&o-n>=e&&r.push([n,o-1]),r}const gr=32;function Wf(t,e,r,{location:n=Z.location,distance:i=Z.distance,threshold:o=Z.threshold,findAllMatches:s=Z.findAllMatches,minMatchCharLength:l=Z.minMatchCharLength,includeMatches:a=Z.includeMatches,ignoreLocation:u=Z.ignoreLocation}={}){if(e.length>gr)throw new Error(Mf(gr));const h=e.length,f=t.length,m=Math.max(0,Math.min(n,f));let b=o,x=m;const _=l>1||a,T=_?Array(f):[];let j;for(;(j=t.indexOf(e,x))>-1;){let X=_i(e,{currentLocation:j,expectedLocation:m,distance:i,ignoreLocation:u});if(b=Math.min(X,b),x=j+h,_){let ht=0;for(;ht<h;)T[j+ht]=1,ht+=1}}x=-1;let H=[],N=1,tt=h+f;const W=1<<h-1;for(let X=0;X<h;X+=1){let ht=0,mt=tt;for(;ht<mt;)_i(e,{errors:X,currentLocation:m+mt,expectedLocation:m,distance:i,ignoreLocation:u})<=b?ht=mt:tt=mt,mt=Math.floor((tt-ht)/2+ht);tt=mt;let ft=Math.max(1,m-mt+1),nt=s?f:Math.min(m+mt,f)+h,Rt=Array(nt+2);Rt[nt+1]=(1<<X)-1;for(let _t=nt;_t>=ft;_t-=1){let D=_t-1,k=r[t.charAt(D)];if(_&&(T[D]=+!!k),Rt[_t]=(Rt[_t+1]<<1|1)&k,X&&(Rt[_t]|=(H[_t+1]|H[_t])<<1|1|H[_t+1]),Rt[_t]&W&&(N=_i(e,{errors:X,currentLocation:D,expectedLocation:m,distance:i,ignoreLocation:u}),N<=b)){if(b=N,x=D,x<=m)break;ft=Math.max(1,2*m-x)}}if(_i(e,{errors:X+1,currentLocation:m,expectedLocation:m,distance:i,ignoreLocation:u})>b)break;H=Rt}const V={isMatch:x>=0,score:Math.max(.001,N)};if(_){const X=Hf(T,l);X.length?a&&(V.indices=X):V.isMatch=!1}return V}function qf(t){let e={};for(let r=0,n=t.length;r<n;r+=1){const i=t.charAt(r);e[i]=(e[i]||0)|1<<n-r-1}return e}class $u{constructor(e,{location:r=Z.location,threshold:n=Z.threshold,distance:i=Z.distance,includeMatches:o=Z.includeMatches,findAllMatches:s=Z.findAllMatches,minMatchCharLength:l=Z.minMatchCharLength,isCaseSensitive:a=Z.isCaseSensitive,ignoreLocation:u=Z.ignoreLocation}={}){if(this.options={location:r,threshold:n,distance:i,includeMatches:o,findAllMatches:s,minMatchCharLength:l,isCaseSensitive:a,ignoreLocation:u},this.pattern=a?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const h=(m,b)=>{this.chunks.push({pattern:m,alphabet:qf(m),startIndex:b})},f=this.pattern.length;if(f>gr){let m=0;const b=f%gr,x=f-b;for(;m<x;)h(this.pattern.substr(m,gr),m),m+=gr;if(b){const _=f-gr;h(this.pattern.substr(_),_)}}else h(this.pattern,0)}searchIn(e){const{isCaseSensitive:r,includeMatches:n}=this.options;if(r||(e=e.toLowerCase()),this.pattern===e){let x={isMatch:!0,score:0};return n&&(x.indices=[[0,e.length-1]]),x}const{location:i,distance:o,threshold:s,findAllMatches:l,minMatchCharLength:a,ignoreLocation:u}=this.options;let h=[],f=0,m=!1;this.chunks.forEach(({pattern:x,alphabet:_,startIndex:T})=>{const{isMatch:j,score:H,indices:N}=Wf(e,x,_,{location:i+T,distance:o,threshold:s,findAllMatches:l,minMatchCharLength:a,includeMatches:n,ignoreLocation:u});j&&(m=!0),f+=H,j&&N&&(h=[...h,...N])});let b={isMatch:m,score:m?f/this.chunks.length:1};return m&&n&&(b.indices=h),b}}class Ze{constructor(e){this.pattern=e}static isMultiMatch(e){return bl(e,this.multiRegex)}static isSingleMatch(e){return bl(e,this.singleRegex)}search(){}}function bl(t,e){const r=t.match(e);return r?r[1]:null}class zf extends Ze{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const r=e===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class Vf extends Ze{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class Gf extends Ze{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const r=e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class Kf extends Ze{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const r=!e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class Jf extends Ze{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const r=e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class Yf extends Ze{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const r=!e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class Au extends Ze{constructor(e,{location:r=Z.location,threshold:n=Z.threshold,distance:i=Z.distance,includeMatches:o=Z.includeMatches,findAllMatches:s=Z.findAllMatches,minMatchCharLength:l=Z.minMatchCharLength,isCaseSensitive:a=Z.isCaseSensitive,ignoreLocation:u=Z.ignoreLocation}={}){super(e),this._bitapSearch=new $u(e,{location:r,threshold:n,distance:i,includeMatches:o,findAllMatches:s,minMatchCharLength:l,isCaseSensitive:a,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class _u extends Ze{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let r=0,n;const i=[],o=this.pattern.length;for(;(n=e.indexOf(this.pattern,r))>-1;)r=n+o,i.push([n,r-1]);const s=!!i.length;return{isMatch:s,score:s?0:1,indices:i}}}const ks=[zf,_u,Gf,Kf,Yf,Jf,Vf,Au],vl=ks.length,Zf=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Xf="|";function Qf(t,e={}){return t.split(Xf).map(r=>{let n=r.trim().split(Zf).filter(o=>o&&!!o.trim()),i=[];for(let o=0,s=n.length;o<s;o+=1){const l=n[o];let a=!1,u=-1;for(;!a&&++u<vl;){const h=ks[u];let f=h.isMultiMatch(l);f&&(i.push(new h(f,e)),a=!0)}if(!a)for(u=-1;++u<vl;){const h=ks[u];let f=h.isSingleMatch(l);if(f){i.push(new h(f,e));break}}}return i})}const td=new Set([Au.type,_u.type]);class ed{constructor(e,{isCaseSensitive:r=Z.isCaseSensitive,includeMatches:n=Z.includeMatches,minMatchCharLength:i=Z.minMatchCharLength,ignoreLocation:o=Z.ignoreLocation,findAllMatches:s=Z.findAllMatches,location:l=Z.location,threshold:a=Z.threshold,distance:u=Z.distance}={}){this.query=null,this.options={isCaseSensitive:r,includeMatches:n,minMatchCharLength:i,findAllMatches:s,ignoreLocation:o,location:l,threshold:a,distance:u},this.pattern=r?e:e.toLowerCase(),this.query=Qf(this.pattern,this.options)}static condition(e,r){return r.useExtendedSearch}searchIn(e){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:i}=this.options;e=i?e:e.toLowerCase();let o=0,s=[],l=0;for(let a=0,u=r.length;a<u;a+=1){const h=r[a];s.length=0,o=0;for(let f=0,m=h.length;f<m;f+=1){const b=h[f],{isMatch:x,indices:_,score:T}=b.search(e);if(x){if(o+=1,l+=T,n){const j=b.constructor.type;td.has(j)?s=[...s,..._]:s.push(_)}}else{l=0,o=0,s.length=0;break}}if(o){let f={isMatch:!0,score:l/o};return n&&(f.indices=s),f}}return{isMatch:!1,score:1}}}const Os=[];function rd(...t){Os.push(...t)}function js(t,e){for(let r=0,n=Os.length;r<n;r+=1){let i=Os[r];if(i.condition(t,e))return new i(t,e)}return new $u(t,e)}const Gi={AND:"$and",OR:"$or"},Ms={PATH:"$path",PATTERN:"$val"},Ps=t=>!!(t[Gi.AND]||t[Gi.OR]),nd=t=>!!t[Ms.PATH],id=t=>!Fe(t)&&vu(t)&&!Ps(t),wl=t=>({[Gi.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function Eu(t,e,{auto:r=!0}={}){const n=i=>{let o=Object.keys(i);const s=nd(i);if(!s&&o.length>1&&!Ps(i))return n(wl(i));if(id(i)){const a=s?i[Ms.PATH]:o[0],u=s?i[Ms.PATTERN]:i[a];if(!_e(u))throw new Error(jf(a));const h={keyId:Es(a),pattern:u};return r&&(h.searcher=js(u,e)),h}let l={children:[],operator:o[0]};return o.forEach(a=>{const u=i[a];Fe(u)&&u.forEach(h=>{l.children.push(n(h))})}),l};return Ps(t)||(t=wl(t)),n(t)}function od(t,{ignoreFieldNorm:e=Z.ignoreFieldNorm}){t.forEach(r=>{let n=1;r.matches.forEach(({key:i,norm:o,score:s})=>{const l=i?i.weight:null;n*=Math.pow(s===0&&l?Number.EPSILON:s,(l||1)*(e?1:o))}),r.score=n})}function sd(t,e){const r=t.matches;e.matches=[],re(r)&&r.forEach(n=>{if(!re(n.indices)||!n.indices.length)return;const{indices:i,value:o}=n;let s={indices:i,value:o};n.key&&(s.key=n.key.src),n.idx>-1&&(s.refIndex=n.idx),e.matches.push(s)})}function ad(t,e){e.score=t.score}function ld(t,e,{includeMatches:r=Z.includeMatches,includeScore:n=Z.includeScore}={}){const i=[];return r&&i.push(sd),n&&i.push(ad),t.map(o=>{const{idx:s}=o,l={item:e[s],refIndex:s};return i.length&&i.forEach(a=>{a(o,l)}),l})}class Xe{constructor(e,r={},n){this.options={...Z,...r},this.options.useExtendedSearch,this._keyStore=new Cf(this.options.keys),this.setCollection(e,n)}setCollection(e,r){if(this._docs=e,r&&!(r instanceof wa))throw new Error(Of);this._myIndex=r||Su(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){re(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const r=[];for(let n=0,i=this._docs.length;n<i;n+=1){const o=this._docs[n];e(o,n)&&(this.removeAt(n),n-=1,i-=1,r.push(o))}return r}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:r=-1}={}){const{includeMatches:n,includeScore:i,shouldSort:o,sortFn:s,ignoreFieldNorm:l}=this.options;let a=_e(e)?_e(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return od(a,{ignoreFieldNorm:l}),o&&a.sort(s),bu(r)&&r>-1&&(a=a.slice(0,r)),ld(a,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(e){const r=js(e,this.options),{records:n}=this._myIndex,i=[];return n.forEach(({v:o,i:s,n:l})=>{if(!re(o))return;const{isMatch:a,score:u,indices:h}=r.searchIn(o);a&&i.push({item:o,idx:s,matches:[{score:u,value:o,norm:l,indices:h}]})}),i}_searchLogical(e){const r=Eu(e,this.options),n=(l,a,u)=>{if(!l.children){const{keyId:f,searcher:m}=l,b=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(a,f),searcher:m});return b&&b.length?[{idx:u,item:a,matches:b}]:[]}const h=[];for(let f=0,m=l.children.length;f<m;f+=1){const b=l.children[f],x=n(b,a,u);if(x.length)h.push(...x);else if(l.operator===Gi.AND)return[]}return h},i=this._myIndex.records,o={},s=[];return i.forEach(({$:l,i:a})=>{if(re(l)){let u=n(r,l,a);u.length&&(o[a]||(o[a]={idx:a,item:l,matches:[]},s.push(o[a])),u.forEach(({matches:h})=>{o[a].matches.push(...h)}))}}),s}_searchObjectList(e){const r=js(e,this.options),{keys:n,records:i}=this._myIndex,o=[];return i.forEach(({$:s,i:l})=>{if(!re(s))return;let a=[];n.forEach((u,h)=>{a.push(...this._findMatches({key:u,value:s[h],searcher:r}))}),a.length&&o.push({idx:l,item:s,matches:a})}),o}_findMatches({key:e,value:r,searcher:n}){if(!re(r))return[];let i=[];if(Fe(r))r.forEach(({v:o,i:s,n:l})=>{if(!re(o))return;const{isMatch:a,score:u,indices:h}=n.searchIn(o);a&&i.push({score:u,key:e,value:o,idx:s,norm:l,indices:h})});else{const{v:o,n:s}=r,{isMatch:l,score:a,indices:u}=n.searchIn(o);l&&i.push({score:a,key:e,value:o,norm:s,indices:u})}return i}}Xe.version="7.0.0";Xe.createIndex=Su;Xe.parseIndex=Uf;Xe.config=Z;Xe.parseQuery=Eu;rd(ed);function ku(t,e){const r=new Xe(e.filterProperties,{keys:["title"]}),n=t.target.value,i=r.search(n).map(o=>o.item.key||o.item.keys.join("|"));Object.keys(e.filters).forEach(o=>{e.querySelector(`[data-details="${o}"]`).parentElement.style.display=i.includes(o)||!n?"":"none"})}function cd(t,e){const r=t.target.getAttribute("data-close").replace("|","-");e.querySelector(`#filter-${r}`).reset(),e.dispatchEvent(new CustomEvent("filter")),e.requestUpdate()}const Ls=Math.min,Kr=Math.max,Ki=Math.round,Ei=Math.floor,Ke=t=>({x:t,y:t});function Ou(t){return t.split("-")[0]}function ud(t){return t.split("-")[1]}function pd(t){return t==="x"?"y":"x"}function hd(t){return t==="y"?"height":"width"}function ju(t){return["top","bottom"].includes(Ou(t))?"y":"x"}function fd(t){return pd(ju(t))}function Mu(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function xl(t,e,r){let{reference:n,floating:i}=t;const o=ju(e),s=fd(e),l=hd(s),a=Ou(e),u=o==="y",h=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,m=n[l]/2-i[l]/2;let b;switch(a){case"top":b={x:h,y:n.y-i.height};break;case"bottom":b={x:h,y:n.y+n.height};break;case"right":b={x:n.x+n.width,y:f};break;case"left":b={x:n.x-i.width,y:f};break;default:b={x:n.x,y:n.y}}switch(ud(e)){case"start":b[s]-=m*(r&&u?-1:1);break;case"end":b[s]+=m*(r&&u?-1:1);break}return b}const dd=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:s}=r,l=o.filter(Boolean),a=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:f}=xl(u,n,a),m=n,b={},x=0;for(let _=0;_<l.length;_++){const{name:T,fn:j}=l[_],{x:H,y:N,data:tt,reset:W}=await j({x:h,y:f,initialPlacement:n,placement:m,strategy:i,middlewareData:b,rects:u,platform:s,elements:{reference:t,floating:e}});h=H??h,f=N??f,b={...b,[T]:{...b[T],...tt}},W&&x<=50&&(x++,typeof W=="object"&&(W.placement&&(m=W.placement),W.rects&&(u=W.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):W.rects),{x:h,y:f}=xl(u,m,a)),_=-1)}return{x:h,y:f,placement:m,strategy:i,middlewareData:b}};function on(t){return Pu(t)?(t.nodeName||"").toLowerCase():"#document"}function oe(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Be(t){var e;return(e=(Pu(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Pu(t){return t instanceof Node||t instanceof oe(t).Node}function ye(t){return t instanceof Element||t instanceof oe(t).Element}function ke(t){return t instanceof HTMLElement||t instanceof oe(t).HTMLElement}function Sl(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof oe(t).ShadowRoot}function ti(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=me(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function gd(t){return["table","td","th"].includes(on(t))}function go(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function xa(t){const e=Sa(),r=ye(t)?me(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function yd(t){let e=Je(t);for(;ke(e)&&!Xr(e);){if(xa(e))return e;if(go(e))return null;e=Je(e)}return null}function Sa(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Xr(t){return["html","body","#document"].includes(on(t))}function me(t){return oe(t).getComputedStyle(t)}function yo(t){return ye(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Je(t){if(on(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Sl(t)&&t.host||Be(t);return Sl(e)?e.host:e}function Lu(t){const e=Je(t);return Xr(e)?t.ownerDocument?t.ownerDocument.body:t.body:ke(e)&&ti(e)?e:Lu(e)}function Vn(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=Lu(t),o=i===((n=t.ownerDocument)==null?void 0:n.body),s=oe(i);return o?e.concat(s,s.visualViewport||[],ti(i)?i:[],s.frameElement&&r?Vn(s.frameElement):[]):e.concat(i,Vn(i,[],r))}function Cu(t){const e=me(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=ke(t),o=i?t.offsetWidth:r,s=i?t.offsetHeight:n,l=Ki(r)!==o||Ki(n)!==s;return l&&(r=o,n=s),{width:r,height:n,$:l}}function $a(t){return ye(t)?t:t.contextElement}function Jr(t){const e=$a(t);if(!ke(e))return Ke(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:o}=Cu(e);let s=(o?Ki(r.width):r.width)/n,l=(o?Ki(r.height):r.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const md=Ke(0);function Ru(t){const e=oe(t);return!Sa()||!e.visualViewport?md:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function bd(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==oe(t)?!1:e}function xr(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),o=$a(t);let s=Ke(1);e&&(n?ye(n)&&(s=Jr(n)):s=Jr(t));const l=bd(o,r,n)?Ru(o):Ke(0);let a=(i.left+l.x)/s.x,u=(i.top+l.y)/s.y,h=i.width/s.x,f=i.height/s.y;if(o){const m=oe(o),b=n&&ye(n)?oe(n):n;let x=m,_=x.frameElement;for(;_&&n&&b!==x;){const T=Jr(_),j=_.getBoundingClientRect(),H=me(_),N=j.left+(_.clientLeft+parseFloat(H.paddingLeft))*T.x,tt=j.top+(_.clientTop+parseFloat(H.paddingTop))*T.y;a*=T.x,u*=T.y,h*=T.x,f*=T.y,a+=N,u+=tt,x=oe(_),_=x.frameElement}}return Mu({width:h,height:f,x:a,y:u})}function vd(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const o=i==="fixed",s=Be(n),l=e?go(e.floating):!1;if(n===s||l&&o)return r;let a={scrollLeft:0,scrollTop:0},u=Ke(1);const h=Ke(0),f=ke(n);if((f||!f&&!o)&&((on(n)!=="body"||ti(s))&&(a=yo(n)),ke(n))){const m=xr(n);u=Jr(n),h.x=m.x+n.clientLeft,h.y=m.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-a.scrollLeft*u.x+h.x,y:r.y*u.y-a.scrollTop*u.y+h.y}}function wd(t){return Array.from(t.getClientRects())}function Tu(t){return xr(Be(t)).left+yo(t).scrollLeft}function xd(t){const e=Be(t),r=yo(t),n=t.ownerDocument.body,i=Kr(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=Kr(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+Tu(t);const l=-r.scrollTop;return me(n).direction==="rtl"&&(s+=Kr(e.clientWidth,n.clientWidth)-i),{width:i,height:o,x:s,y:l}}function Sd(t,e){const r=oe(t),n=Be(t),i=r.visualViewport;let o=n.clientWidth,s=n.clientHeight,l=0,a=0;if(i){o=i.width,s=i.height;const u=Sa();(!u||u&&e==="fixed")&&(l=i.offsetLeft,a=i.offsetTop)}return{width:o,height:s,x:l,y:a}}function $d(t,e){const r=xr(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,o=ke(t)?Jr(t):Ke(1),s=t.clientWidth*o.x,l=t.clientHeight*o.y,a=i*o.x,u=n*o.y;return{width:s,height:l,x:a,y:u}}function $l(t,e,r){let n;if(e==="viewport")n=Sd(t,r);else if(e==="document")n=xd(Be(t));else if(ye(e))n=$d(e,r);else{const i=Ru(t);n={...e,x:e.x-i.x,y:e.y-i.y}}return Mu(n)}function Iu(t,e){const r=Je(t);return r===e||!ye(r)||Xr(r)?!1:me(r).position==="fixed"||Iu(r,e)}function Ad(t,e){const r=e.get(t);if(r)return r;let n=Vn(t,[],!1).filter(l=>ye(l)&&on(l)!=="body"),i=null;const o=me(t).position==="fixed";let s=o?Je(t):t;for(;ye(s)&&!Xr(s);){const l=me(s),a=xa(s);!a&&l.position==="fixed"&&(i=null),(o?!a&&!i:!a&&l.position==="static"&&i&&["absolute","fixed"].includes(i.position)||ti(s)&&!a&&Iu(t,s))?n=n.filter(u=>u!==s):i=l,s=Je(s)}return e.set(t,n),n}function _d(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?go(e)?[]:Ad(e,this._c):[].concat(r),n],s=o[0],l=o.reduce((a,u)=>{const h=$l(e,u,i);return a.top=Kr(h.top,a.top),a.right=Ls(h.right,a.right),a.bottom=Ls(h.bottom,a.bottom),a.left=Kr(h.left,a.left),a},$l(e,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Ed(t){const{width:e,height:r}=Cu(t);return{width:e,height:r}}function kd(t,e,r){const n=ke(e),i=Be(e),o=r==="fixed",s=xr(t,!0,o,e);let l={scrollLeft:0,scrollTop:0};const a=Ke(0);if(n||!n&&!o)if((on(e)!=="body"||ti(i))&&(l=yo(e)),n){const f=xr(e,!0,o,e);a.x=f.x+e.clientLeft,a.y=f.y+e.clientTop}else i&&(a.x=Tu(i));const u=s.left+l.scrollLeft-a.x,h=s.top+l.scrollTop-a.y;return{x:u,y:h,width:s.width,height:s.height}}function Qo(t){return me(t).position==="static"}function Al(t,e){return!ke(t)||me(t).position==="fixed"?null:e?e(t):t.offsetParent}function Du(t,e){const r=oe(t);if(go(t))return r;if(!ke(t)){let i=Je(t);for(;i&&!Xr(i);){if(ye(i)&&!Qo(i))return i;i=Je(i)}return r}let n=Al(t,e);for(;n&&gd(n)&&Qo(n);)n=Al(n,e);return n&&Xr(n)&&Qo(n)&&!xa(n)?r:n||yd(t)||r}const Od=async function(t){const e=this.getOffsetParent||Du,r=this.getDimensions,n=await r(t.floating);return{reference:kd(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function jd(t){return me(t).direction==="rtl"}const Md={convertOffsetParentRelativeRectToViewportRelativeRect:vd,getDocumentElement:Be,getClippingRect:_d,getOffsetParent:Du,getElementRects:Od,getClientRects:wd,getDimensions:Ed,getScale:Jr,isElement:ye,isRTL:jd};function Pd(t,e){let r=null,n;const i=Be(t);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function s(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),o();const{left:u,top:h,width:f,height:m}=t.getBoundingClientRect();if(l||e(),!f||!m)return;const b=Ei(h),x=Ei(i.clientWidth-(u+f)),_=Ei(i.clientHeight-(h+m)),T=Ei(u),j={rootMargin:-b+"px "+-x+"px "+-_+"px "+-T+"px",threshold:Kr(0,Ls(1,a))||1};let H=!0;function N(tt){const W=tt[0].intersectionRatio;if(W!==a){if(!H)return s();W?s(!1,W):n=setTimeout(()=>{s(!1,1e-7)},1e3)}H=!1}try{r=new IntersectionObserver(N,{...j,root:i.ownerDocument})}catch{r=new IntersectionObserver(N,j)}r.observe(t)}return s(!0),o}function Ld(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=n,u=$a(t),h=i||o?[...u?Vn(u):[],...Vn(e)]:[];h.forEach(j=>{i&&j.addEventListener("scroll",r,{passive:!0}),o&&j.addEventListener("resize",r)});const f=u&&l?Pd(u,r):null;let m=-1,b=null;s&&(b=new ResizeObserver(j=>{let[H]=j;H&&H.target===u&&b&&(b.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var N;(N=b)==null||N.observe(e)})),r()}),u&&!a&&b.observe(u),b.observe(e));let x,_=a?xr(t):null;a&&T();function T(){const j=xr(t);_&&(j.x!==_.x||j.y!==_.y||j.width!==_.width||j.height!==_.height)&&r(),_=j,x=requestAnimationFrame(T)}return r(),()=>{var j;h.forEach(H=>{i&&H.removeEventListener("scroll",r),o&&H.removeEventListener("resize",r)}),f==null||f(),(j=b)==null||j.disconnect(),b=null,a&&cancelAnimationFrame(x)}}const Cd=(t,e,r)=>{const n=new Map,i={platform:Md,...r},o={...i.platform,_c:n};return dd(t,e,{...i,platform:o})};function Rd(t){const e=t.renderRoot.querySelector(".inline-container-wrapper"),r=t.renderRoot.querySelector("[popover]");return Ld(e,r,()=>{r.matches(":popover-open")&&Cd(e,r,{strategy:"fixed"}).then(({x:n,y:i})=>{Object.assign(r.style,{left:`${n}px`,top:`${i}px`,width:`${e.getBoundingClientRect().width}px`})})},{animationFrame:!0})}function Fu(t){t.renderRoot.querySelector("#eox-itemfilter-input-search").value="",ku({target:{value:""}},t)}function Td(t,e){e.inlineMode&&t.stopPropagation()}function Id(t){t.inlineMode&&(t.showDropdown=!0)}function Dd(t,e){e.inlineMode&&(t.stopPropagation(),e.showDropdown=!0)}function Fd(t,e){e.inlineMode&&t.key==="Escape"&&e.showDropdown&&(Fu(e),e.showDropdown=!1)}function Bd(t,e){e.inlineMode&&t.target.tagName!=="DROPDOWN-FORM"&&t.target.tagName!=="EOX-ITEMFILTER"&&e.showDropdown&&(Fu(e),e.showDropdown=!1)}function Nd(t,e){var r=0,n=0,i=0,o=0,s=0,l=0,a=0,u=0,h=null,f=null,m=t[0],b=t[1],x=e.length;for(r;r<x;r++){n=0;var _=e[r].length-1,T=e[r];if(h=T[0],h[0]!==T[_][0]&&h[1]!==T[_][1])throw new Error("First and last coordinates in a ring must be the same");for(s=h[0]-m,l=h[1]-b,n;n<_;n++){if(f=T[n+1],u=f[1]-b,l<0&&u<0||l>0&&u>0){h=f,l=u,s=h[0]-m;continue}if(a=f[0]-t[0],u>0&&l<=0){if(o=s*u-a*l,o>0)i=i+1;else if(o===0)return 0}else if(l>0&&u<=0){if(o=s*u-a*l,o<0)i=i+1;else if(o===0)return 0}else if(u===0&&l<0){if(o=s*u-a*l,o===0)return 0}else if(l===0&&u<0){if(o=s*u-a*l,o===0)return 0}else if(l===0&&u===0&&(a<=0&&s>=0||s<=0&&a>=0))return 0;h=f,l=u,s=a}}return i%2!==0}var Yt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ei(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ud(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var _l=Object.prototype.toString,Bu=function(t){var e=_l.call(t),r=e==="[object Arguments]";return r||(r=e!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&_l.call(t.callee)==="[object Function]"),r},ts,El;function Hd(){if(El)return ts;El=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=Bu,i=Object.prototype.propertyIsEnumerable,o=!i.call({toString:null},"toString"),s=i.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=function(m){var b=m.constructor;return b&&b.prototype===m},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if(typeof window>"u")return!1;for(var m in window)try{if(!u["$"+m]&&e.call(window,m)&&window[m]!==null&&typeof window[m]=="object")try{a(window[m])}catch{return!0}}catch{return!0}return!1}(),f=function(m){if(typeof window>"u"||!h)return a(m);try{return a(m)}catch{return!1}};t=function(m){var b=m!==null&&typeof m=="object",x=r.call(m)==="[object Function]",_=n(m),T=b&&r.call(m)==="[object String]",j=[];if(!b&&!x&&!_)throw new TypeError("Object.keys called on a non-object");var H=s&&x;if(T&&m.length>0&&!e.call(m,0))for(var N=0;N<m.length;++N)j.push(String(N));if(_&&m.length>0)for(var tt=0;tt<m.length;++tt)j.push(String(tt));else for(var W in m)!(H&&W==="prototype")&&e.call(m,W)&&j.push(String(W));if(o)for(var V=f(m),X=0;X<l.length;++X)!(V&&l[X]==="constructor")&&e.call(m,l[X])&&j.push(l[X]);return j}}return ts=t,ts}var Wd=Array.prototype.slice,qd=Bu,kl=Object.keys,Ri=kl?function(t){return kl(t)}:Hd(),Ol=Object.keys;Ri.shim=function(){if(Object.keys){var t=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);t||(Object.keys=function(e){return qd(e)?Ol(Wd.call(e)):Ol(e)})}else Object.keys=Ri;return Object.keys||Ri};var Aa=Ri,zd=Error,Vd=EvalError,Gd=RangeError,Kd=ReferenceError,Nu=SyntaxError,Qe=TypeError,Jd=URIError,mo=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},e=Symbol("test"),r=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var n=42;t[e]=n;for(e in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var i=Object.getOwnPropertySymbols(t);if(i.length!==1||i[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(t,e);if(o.value!==n||o.enumerable!==!0)return!1}return!0},jl=typeof Symbol<"u"&&Symbol,Yd=mo,_a=function(){return typeof jl!="function"||typeof Symbol!="function"||typeof jl("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Yd()},Ml={foo:{}},Zd=Object,Xd=function(){return{__proto__:Ml}.foo===Ml.foo&&!({__proto__:null}instanceof Zd)},Qd="Function.prototype.bind called on incompatible ",tg=Object.prototype.toString,eg=Math.max,rg="[object Function]",Pl=function(t,e){for(var r=[],n=0;n<t.length;n+=1)r[n]=t[n];for(var i=0;i<e.length;i+=1)r[i+t.length]=e[i];return r},ng=function(t,e){for(var r=[],n=e,i=0;n<t.length;n+=1,i+=1)r[i]=t[n];return r},ig=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},og=function(t){var e=this;if(typeof e!="function"||tg.apply(e)!==rg)throw new TypeError(Qd+e);for(var r=ng(arguments,1),n,i=function(){if(this instanceof n){var u=e.apply(this,Pl(r,arguments));return Object(u)===u?u:this}return e.apply(t,Pl(r,arguments))},o=eg(0,e.length-r.length),s=[],l=0;l<o;l++)s[l]="$"+l;if(n=Function("binder","return function ("+ig(s,",")+"){ return binder.apply(this,arguments); }")(i),e.prototype){var a=function(){};a.prototype=e.prototype,n.prototype=new a,a.prototype=null}return n},sg=og,Ea=Function.prototype.bind||sg,ag=Function.prototype.call,lg=Object.prototype.hasOwnProperty,cg=Ea,Uu=cg.call(ag,lg),ct,ug=zd,pg=Vd,hg=Gd,fg=Kd,Qr=Nu,Yr=Qe,dg=Jd,Hu=Function,es=function(t){try{return Hu('"use strict"; return ('+t+").constructor;")()}catch{}},mr=Object.getOwnPropertyDescriptor;if(mr)try{mr({},"")}catch{mr=null}var rs=function(){throw new Yr},gg=mr?function(){try{return arguments.callee,rs}catch{try{return mr(arguments,"callee").get}catch{return rs}}}():rs,Wr=_a(),yg=Xd(),Ft=Object.getPrototypeOf||(yg?function(t){return t.__proto__}:null),Vr={},mg=typeof Uint8Array>"u"||!Ft?ct:Ft(Uint8Array),br={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?ct:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ct:ArrayBuffer,"%ArrayIteratorPrototype%":Wr&&Ft?Ft([][Symbol.iterator]()):ct,"%AsyncFromSyncIteratorPrototype%":ct,"%AsyncFunction%":Vr,"%AsyncGenerator%":Vr,"%AsyncGeneratorFunction%":Vr,"%AsyncIteratorPrototype%":Vr,"%Atomics%":typeof Atomics>"u"?ct:Atomics,"%BigInt%":typeof BigInt>"u"?ct:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ct:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ct:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ct:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":ug,"%eval%":eval,"%EvalError%":pg,"%Float32Array%":typeof Float32Array>"u"?ct:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ct:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ct:FinalizationRegistry,"%Function%":Hu,"%GeneratorFunction%":Vr,"%Int8Array%":typeof Int8Array>"u"?ct:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ct:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ct:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Wr&&Ft?Ft(Ft([][Symbol.iterator]())):ct,"%JSON%":typeof JSON=="object"?JSON:ct,"%Map%":typeof Map>"u"?ct:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Wr||!Ft?ct:Ft(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ct:Promise,"%Proxy%":typeof Proxy>"u"?ct:Proxy,"%RangeError%":hg,"%ReferenceError%":fg,"%Reflect%":typeof Reflect>"u"?ct:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ct:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Wr||!Ft?ct:Ft(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ct:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Wr&&Ft?Ft(""[Symbol.iterator]()):ct,"%Symbol%":Wr?Symbol:ct,"%SyntaxError%":Qr,"%ThrowTypeError%":gg,"%TypedArray%":mg,"%TypeError%":Yr,"%Uint8Array%":typeof Uint8Array>"u"?ct:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ct:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ct:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ct:Uint32Array,"%URIError%":dg,"%WeakMap%":typeof WeakMap>"u"?ct:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ct:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ct:WeakSet};if(Ft)try{null.error}catch(t){var bg=Ft(Ft(t));br["%Error.prototype%"]=bg}var vg=function t(e){var r;if(e==="%AsyncFunction%")r=es("async function () {}");else if(e==="%GeneratorFunction%")r=es("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=es("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Ft&&(r=Ft(i.prototype))}return br[e]=r,r},Ll={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ri=Ea,Ji=Uu,wg=ri.call(Function.call,Array.prototype.concat),xg=ri.call(Function.apply,Array.prototype.splice),Cl=ri.call(Function.call,String.prototype.replace),Yi=ri.call(Function.call,String.prototype.slice),Sg=ri.call(Function.call,RegExp.prototype.exec),$g=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ag=/\\(\\)?/g,_g=function(t){var e=Yi(t,0,1),r=Yi(t,-1);if(e==="%"&&r!=="%")throw new Qr("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&e!=="%")throw new Qr("invalid intrinsic syntax, expected opening `%`");var n=[];return Cl(t,$g,function(i,o,s,l){n[n.length]=s?Cl(l,Ag,"$1"):o||i}),n},Eg=function(t,e){var r=t,n;if(Ji(Ll,r)&&(n=Ll[r],r="%"+n[0]+"%"),Ji(br,r)){var i=br[r];if(i===Vr&&(i=vg(r)),typeof i>"u"&&!e)throw new Yr("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new Qr("intrinsic "+t+" does not exist!")},Oe=function(t,e){if(typeof t!="string"||t.length===0)throw new Yr("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof e!="boolean")throw new Yr('"allowMissing" argument must be a boolean');if(Sg(/^%?[^%]*%?$/,t)===null)throw new Qr("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=_g(t),n=r.length>0?r[0]:"",i=Eg("%"+n+"%",e),o=i.name,s=i.value,l=!1,a=i.alias;a&&(n=a[0],xg(r,wg([0,1],a)));for(var u=1,h=!0;u<r.length;u+=1){var f=r[u],m=Yi(f,0,1),b=Yi(f,-1);if((m==='"'||m==="'"||m==="`"||b==='"'||b==="'"||b==="`")&&m!==b)throw new Qr("property names with quotes must have matching quotes");if((f==="constructor"||!h)&&(l=!0),n+="."+f,o="%"+n+"%",Ji(br,o))s=br[o];else if(s!=null){if(!(f in s)){if(!e)throw new Yr("base intrinsic for "+t+" exists, but the property is not available.");return}if(mr&&u+1>=r.length){var x=mr(s,f);h=!!x,h&&"get"in x&&!("originalValue"in x.get)?s=x.get:s=s[f]}else h=Ji(s,f),s=s[f];h&&!l&&(br[o]=s)}}return s},kg=Oe,Ti=kg("%Object.defineProperty%",!0)||!1;if(Ti)try{Ti({},"a",{value:1})}catch{Ti=!1}var ka=Ti,Og=Oe,Ii=Og("%Object.getOwnPropertyDescriptor%",!0);if(Ii)try{Ii([],"length")}catch{Ii=null}var Oa=Ii,Rl=ka,jg=Nu,qr=Qe,Tl=Oa,ja=function(t,e,r){if(!t||typeof t!="object"&&typeof t!="function")throw new qr("`obj` must be an object or a function`");if(typeof e!="string"&&typeof e!="symbol")throw new qr("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new qr("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new qr("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new qr("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new qr("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,l=!!Tl&&Tl(t,e);if(Rl)Rl(t,e,{configurable:o===null&&l?l.configurable:!o,enumerable:n===null&&l?l.enumerable:!n,value:r,writable:i===null&&l?l.writable:!i});else if(s||!n&&!i&&!o)t[e]=r;else throw new jg("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Cs=ka,Wu=function(){return!!Cs};Wu.hasArrayLengthDefineBug=function(){if(!Cs)return null;try{return Cs([],"length",{value:1}).length!==1}catch{return!0}};var Ma=Wu,Mg=Aa,Pg=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Lg=Object.prototype.toString,Cg=Array.prototype.concat,Il=ja,Rg=function(t){return typeof t=="function"&&Lg.call(t)==="[object Function]"},qu=Ma(),Tg=function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!Rg(n)||!n())return}qu?Il(t,e,r,!0):Il(t,e,r)},zu=function(t,e){var r=arguments.length>2?arguments[2]:{},n=Mg(e);Pg&&(n=Cg.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)Tg(t,n[i],e[n[i]],r[n[i]])};zu.supportsDescriptors=!!qu;var _r=zu,Vu={exports:{}},Ig=Oe,Dl=ja,Dg=Ma(),Fl=Oa,Bl=Qe,Fg=Ig("%Math.floor%"),Bg=function(t,e){if(typeof t!="function")throw new Bl("`fn` is not a function");if(typeof e!="number"||e<0||e>4294967295||Fg(e)!==e)throw new Bl("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,i=!0;if("length"in t&&Fl){var o=Fl(t,"length");o&&!o.configurable&&(n=!1),o&&!o.writable&&(i=!1)}return(n||i||!r)&&(Dg?Dl(t,"length",e,!0,!0):Dl(t,"length",e)),t};(function(t){var e=Ea,r=Oe,n=Bg,i=Qe,o=r("%Function.prototype.apply%"),s=r("%Function.prototype.call%"),l=r("%Reflect.apply%",!0)||e.call(s,o),a=ka,u=r("%Math.max%");t.exports=function(f){if(typeof f!="function")throw new i("a function is required");var m=l(e,s,arguments);return n(m,1+u(0,f.length-(arguments.length-1)),!0)};var h=function(){return l(e,o,arguments)};a?a(t.exports,"apply",{value:h}):t.exports.apply=h})(Vu);var sn=Vu.exports,Gu=Oe,Ku=sn,Ng=Ku(Gu("String.prototype.indexOf")),ue=function(t,e){var r=Gu(t,!!e);return typeof r=="function"&&Ng(t,".prototype.")>-1?Ku(r):r},Ug=Aa,Ju=mo(),Yu=ue,Nl=Object,Hg=Yu("Array.prototype.push"),Ul=Yu("Object.prototype.propertyIsEnumerable"),Wg=Ju?Object.getOwnPropertySymbols:null,Zu=function(t,e){if(t==null)throw new TypeError("target must be an object");var r=Nl(t);if(arguments.length===1)return r;for(var n=1;n<arguments.length;++n){var i=Nl(arguments[n]),o=Ug(i),s=Ju&&(Object.getOwnPropertySymbols||Wg);if(s)for(var l=s(i),a=0;a<l.length;++a){var u=l[a];Ul(i,u)&&Hg(o,u)}for(var h=0;h<o.length;++h){var f=o[h];if(Ul(i,f)){var m=i[f];r[f]=m}}}return r},qg=Zu,zg=function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),r={},n=0;n<e.length;++n)r[e[n]]=e[n];var i=Object.assign({},r),o="";for(var s in i)o+=s;return t!==o},Vg=function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch{return t[1]==="y"}return!1},Xu=function(){return!Object.assign||zg()||Vg()?qg:Object.assign},Gg=_r,Kg=Xu,Jg=function(){var t=Kg();return Gg(Object,{assign:t},{assign:function(){return Object.assign!==t}}),t},Yg=_r,Zg=sn,Xg=Zu,Qu=Xu,Qg=Jg,ty=Zg.apply(Qu()),tp=function(t,e){return ty(Object,arguments)};Yg(tp,{getPolyfill:Qu,implementation:Xg,shim:Qg});var ey=tp,Gn=function(){return typeof(function(){}).name=="string"},Nn=Object.getOwnPropertyDescriptor;if(Nn)try{Nn([],"length")}catch{Nn=null}Gn.functionsHaveConfigurableNames=function(){if(!Gn()||!Nn)return!1;var t=Nn(function(){},"name");return!!t&&!!t.configurable};var ry=Function.prototype.bind;Gn.boundFunctionsHaveNames=function(){return Gn()&&typeof ry=="function"&&(function(){}).bind().name!==""};var ny=Gn,Hl=ja,iy=Ma(),oy=ny.functionsHaveConfigurableNames(),sy=Qe,ay=function(t,e){if(typeof t!="function")throw new sy("`fn` is not a function");var r=arguments.length>2&&!!arguments[2];return(!r||oy)&&(iy?Hl(t,"name",e,!0,!0):Hl(t,"name",e)),t},ly=ay,cy=Qe,uy=Object,ep=ly(function(){if(this==null||this!==uy(this))throw new cy("RegExp.prototype.flags getter called on non-object");var t="";return this.hasIndices&&(t+="d"),this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.unicodeSets&&(t+="v"),this.sticky&&(t+="y"),t},"get flags",!0),py=ep,hy=_r.supportsDescriptors,fy=Object.getOwnPropertyDescriptor,rp=function(){if(hy&&/a/mig.flags==="gim"){var t=fy(RegExp.prototype,"flags");if(t&&typeof t.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var e="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){e+="d"}}),Object.defineProperty(r,"sticky",{get:function(){e+="y"}}),e==="dy")return t.get}}return py},dy=_r.supportsDescriptors,gy=rp,yy=Object.getOwnPropertyDescriptor,my=Object.defineProperty,by=TypeError,Wl=Object.getPrototypeOf,vy=/a/,wy=function(){if(!dy||!Wl)throw new by("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=gy(),e=Wl(vy),r=yy(e,"flags");return(!r||r.get!==t)&&my(e,"flags",{configurable:!0,enumerable:!1,get:t}),t},xy=_r,Sy=sn,$y=ep,np=rp,Ay=wy,ip=Sy(np());xy(ip,{getPolyfill:np,implementation:$y,shim:Ay});var _y=ip,Di={exports:{}},Ey=mo,Er=function(){return Ey()&&!!Symbol.toStringTag},ky=Er(),Oy=ue,Rs=Oy("Object.prototype.toString"),bo=function(t){return ky&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:Rs(t)==="[object Arguments]"},op=function(t){return bo(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&Rs(t)!=="[object Array]"&&Rs(t.callee)==="[object Function]"},jy=function(){return bo(arguments)}();bo.isLegacyArguments=op;var sp=jy?bo:op;const My={},Py=Object.freeze(Object.defineProperty({__proto__:null,default:My},Symbol.toStringTag,{value:"Module"})),Ly=Ud(Py);var Pa=typeof Map=="function"&&Map.prototype,ns=Object.getOwnPropertyDescriptor&&Pa?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Zi=Pa&&ns&&typeof ns.get=="function"?ns.get:null,ql=Pa&&Map.prototype.forEach,La=typeof Set=="function"&&Set.prototype,is=Object.getOwnPropertyDescriptor&&La?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Xi=La&&is&&typeof is.get=="function"?is.get:null,zl=La&&Set.prototype.forEach,Cy=typeof WeakMap=="function"&&WeakMap.prototype,Un=Cy?WeakMap.prototype.has:null,Ry=typeof WeakSet=="function"&&WeakSet.prototype,Hn=Ry?WeakSet.prototype.has:null,Ty=typeof WeakRef=="function"&&WeakRef.prototype,Vl=Ty?WeakRef.prototype.deref:null,Iy=Boolean.prototype.valueOf,Dy=Object.prototype.toString,Fy=Function.prototype.toString,By=String.prototype.match,Ca=String.prototype.slice,Ve=String.prototype.replace,Ny=String.prototype.toUpperCase,Gl=String.prototype.toLowerCase,ap=RegExp.prototype.test,Kl=Array.prototype.concat,$e=Array.prototype.join,Uy=Array.prototype.slice,Jl=Math.floor,Ts=typeof BigInt=="function"?BigInt.prototype.valueOf:null,os=Object.getOwnPropertySymbols,Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,tn=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Zt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===tn||!0)?Symbol.toStringTag:null,lp=Object.prototype.propertyIsEnumerable,Yl=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Zl(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||ap.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Jl(-t):Jl(t);if(n!==t){var i=String(n),o=Ca.call(e,i.length+1);return Ve.call(i,r,"$&_")+"."+Ve.call(Ve.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ve.call(e,r,"$&_")}var Ds=Ly,Xl=Ds.custom,Ql=up(Xl)?Xl:null,Hy=function t(e,r,n,i){var o=r||{};if(ze(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ze(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=ze(o,"customInspect")?o.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ze(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ze(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=o.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return hp(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var a=String(e);return l?Zl(e,a):a}if(typeof e=="bigint"){var u=String(e)+"n";return l?Zl(e,u):u}var h=typeof o.depth>"u"?5:o.depth;if(typeof n>"u"&&(n=0),n>=h&&h>0&&typeof e=="object")return Fs(e)?"[Array]":"[Object]";var f=s0(o,n);if(typeof i>"u")i=[];else if(pp(i,e)>=0)return"[Circular]";function m(_t,D,k){if(D&&(i=Uy.call(i),i.push(D)),k){var E={depth:o.depth};return ze(o,"quoteStyle")&&(E.quoteStyle=o.quoteStyle),t(_t,E,n+1,i)}return t(_t,o,n+1,i)}if(typeof e=="function"&&!tc(e)){var b=Zy(e),x=ki(e,m);return"[Function"+(b?": "+b:" (anonymous)")+"]"+(x.length>0?" { "+$e.call(x,", ")+" }":"")}if(up(e)){var _=tn?Ve.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Is.call(e);return typeof e=="object"&&!tn?jn(_):_}if(n0(e)){for(var T="<"+Gl.call(String(e.nodeName)),j=e.attributes||[],H=0;H<j.length;H++)T+=" "+j[H].name+"="+cp(Wy(j[H].value),"double",o);return T+=">",e.childNodes&&e.childNodes.length&&(T+="..."),T+="</"+Gl.call(String(e.nodeName))+">",T}if(Fs(e)){if(e.length===0)return"[]";var N=ki(e,m);return f&&!o0(N)?"["+Bs(N,f)+"]":"[ "+$e.call(N,", ")+" ]"}if(zy(e)){var tt=ki(e,m);return!("cause"in Error.prototype)&&"cause"in e&&!lp.call(e,"cause")?"{ ["+String(e)+"] "+$e.call(Kl.call("[cause]: "+m(e.cause),tt),", ")+" }":tt.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+$e.call(tt,", ")+" }"}if(typeof e=="object"&&s){if(Ql&&typeof e[Ql]=="function"&&Ds)return Ds(e,{depth:h-n});if(s!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Xy(e)){var W=[];return ql&&ql.call(e,function(_t,D){W.push(m(D,e,!0)+" => "+m(_t,e))}),ec("Map",Zi.call(e),W,f)}if(e0(e)){var V=[];return zl&&zl.call(e,function(_t){V.push(m(_t,e))}),ec("Set",Xi.call(e),V,f)}if(Qy(e))return ss("WeakMap");if(r0(e))return ss("WeakSet");if(t0(e))return ss("WeakRef");if(Gy(e))return jn(m(Number(e)));if(Jy(e))return jn(m(Ts.call(e)));if(Ky(e))return jn(Iy.call(e));if(Vy(e))return jn(m(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===Yt)return"{ [object globalThis] }";if(!qy(e)&&!tc(e)){var X=ki(e,m),ht=Yl?Yl(e)===Object.prototype:e instanceof Object||e.constructor===Object,mt=e instanceof Object?"":"null prototype",ft=!ht&&Zt&&Object(e)===e&&Zt in e?Ca.call(tr(e),8,-1):mt?"Object":"",nt=ht||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",Rt=nt+(ft||mt?"["+$e.call(Kl.call([],ft||[],mt||[]),": ")+"] ":"");return X.length===0?Rt+"{}":f?Rt+"{"+Bs(X,f)+"}":Rt+"{ "+$e.call(X,", ")+" }"}return String(e)};function cp(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function Wy(t){return Ve.call(String(t),/"/g,"&quot;")}function Fs(t){return tr(t)==="[object Array]"&&(!Zt||!(typeof t=="object"&&Zt in t))}function qy(t){return tr(t)==="[object Date]"&&(!Zt||!(typeof t=="object"&&Zt in t))}function tc(t){return tr(t)==="[object RegExp]"&&(!Zt||!(typeof t=="object"&&Zt in t))}function zy(t){return tr(t)==="[object Error]"&&(!Zt||!(typeof t=="object"&&Zt in t))}function Vy(t){return tr(t)==="[object String]"&&(!Zt||!(typeof t=="object"&&Zt in t))}function Gy(t){return tr(t)==="[object Number]"&&(!Zt||!(typeof t=="object"&&Zt in t))}function Ky(t){return tr(t)==="[object Boolean]"&&(!Zt||!(typeof t=="object"&&Zt in t))}function up(t){if(tn)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Is)return!1;try{return Is.call(t),!0}catch{}return!1}function Jy(t){if(!t||typeof t!="object"||!Ts)return!1;try{return Ts.call(t),!0}catch{}return!1}var Yy=Object.prototype.hasOwnProperty||function(t){return t in this};function ze(t,e){return Yy.call(t,e)}function tr(t){return Dy.call(t)}function Zy(t){if(t.name)return t.name;var e=By.call(Fy.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function pp(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Xy(t){if(!Zi||!t||typeof t!="object")return!1;try{Zi.call(t);try{Xi.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Qy(t){if(!Un||!t||typeof t!="object")return!1;try{Un.call(t,Un);try{Hn.call(t,Hn)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function t0(t){if(!Vl||!t||typeof t!="object")return!1;try{return Vl.call(t),!0}catch{}return!1}function e0(t){if(!Xi||!t||typeof t!="object")return!1;try{Xi.call(t);try{Zi.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function r0(t){if(!Hn||!t||typeof t!="object")return!1;try{Hn.call(t,Hn);try{Un.call(t,Un)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function n0(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function hp(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return hp(Ca.call(t,0,e.maxStringLength),e)+n}var i=Ve.call(Ve.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,i0);return cp(i,"single",e)}function i0(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Ny.call(e.toString(16))}function jn(t){return"Object("+t+")"}function ss(t){return t+" { ? }"}function ec(t,e,r,n){var i=n?Bs(r,n):$e.call(r,", ");return t+" ("+e+") {"+i+"}"}function o0(t){for(var e=0;e<t.length;e++)if(pp(t[e],`
`)>=0)return!1;return!0}function s0(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=$e.call(Array(t.indent+1)," ");else return null;return{base:r,prev:$e.call(Array(e+1),r)}}function Bs(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+$e.call(t,","+r)+`
`+e.prev}function ki(t,e){var r=Fs(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=ze(t,i)?e(t[i],t):""}var o=typeof os=="function"?os(t):[],s;if(tn){s={};for(var l=0;l<o.length;l++)s["$"+o[l]]=o[l]}for(var a in t)ze(t,a)&&(r&&String(Number(a))===a&&a<t.length||tn&&s["$"+a]instanceof Symbol||(ap.call(/[^\w$]/,a)?n.push(e(a,t)+": "+e(t[a],t)):n.push(a+": "+e(t[a],t))));if(typeof os=="function")for(var u=0;u<o.length;u++)lp.call(t,o[u])&&n.push("["+e(o[u])+"]: "+e(t[o[u]],t));return n}var fp=Oe,an=ue,a0=Hy,l0=Qe,Oi=fp("%WeakMap%",!0),ji=fp("%Map%",!0),c0=an("WeakMap.prototype.get",!0),u0=an("WeakMap.prototype.set",!0),p0=an("WeakMap.prototype.has",!0),h0=an("Map.prototype.get",!0),f0=an("Map.prototype.set",!0),d0=an("Map.prototype.has",!0),Ra=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},g0=function(t,e){var r=Ra(t,e);return r&&r.value},y0=function(t,e,r){var n=Ra(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},m0=function(t,e){return!!Ra(t,e)},dp=function(){var t,e,r,n={assert:function(i){if(!n.has(i))throw new l0("Side channel does not contain "+a0(i))},get:function(i){if(Oi&&i&&(typeof i=="object"||typeof i=="function")){if(t)return c0(t,i)}else if(ji){if(e)return h0(e,i)}else if(r)return g0(r,i)},has:function(i){if(Oi&&i&&(typeof i=="object"||typeof i=="function")){if(t)return p0(t,i)}else if(ji){if(e)return d0(e,i)}else if(r)return m0(r,i);return!1},set:function(i,o){Oi&&i&&(typeof i=="object"||typeof i=="function")?(t||(t=new Oi),u0(t,i,o)):ji?(e||(e=new ji),f0(e,i,o)):(r||(r={key:{},next:null}),y0(r,i,o))}};return n},b0=Uu,Mn=dp(),Ie=Qe,Ta={assert:function(t,e){if(!t||typeof t!="object"&&typeof t!="function")throw new Ie("`O` is not an object");if(typeof e!="string")throw new Ie("`slot` must be a string");if(Mn.assert(t),!Ta.has(t,e))throw new Ie("`"+e+"` is not present on `O`")},get:function(t,e){if(!t||typeof t!="object"&&typeof t!="function")throw new Ie("`O` is not an object");if(typeof e!="string")throw new Ie("`slot` must be a string");var r=Mn.get(t);return r&&r["$"+e]},has:function(t,e){if(!t||typeof t!="object"&&typeof t!="function")throw new Ie("`O` is not an object");if(typeof e!="string")throw new Ie("`slot` must be a string");var r=Mn.get(t);return!!r&&b0(r,"$"+e)},set:function(t,e,r){if(!t||typeof t!="object"&&typeof t!="function")throw new Ie("`O` is not an object");if(typeof e!="string")throw new Ie("`slot` must be a string");var n=Mn.get(t);n||(n={},Mn.set(t,n)),n["$"+e]=r}};Object.freeze&&Object.freeze(Ta);var v0=Ta,Pn=v0,w0=SyntaxError,rc=typeof StopIteration=="object"?StopIteration:null,x0=function(t){if(!rc)throw new w0("this environment lacks StopIteration");Pn.set(t,"[[Done]]",!1);var e={next:function(){var r=Pn.get(this,"[[Iterator]]"),n=Pn.get(r,"[[Done]]");try{return{done:n,value:n?void 0:r.next()}}catch(i){if(Pn.set(r,"[[Done]]",!0),i!==rc)throw i;return{done:!0,value:void 0}}}};return Pn.set(e,"[[Iterator]]",t),e},as,nc;function S0(){if(nc)return as;nc=1;var t={}.toString;return as=Array.isArray||function(e){return t.call(e)=="[object Array]"},as}var $0=String.prototype.valueOf,A0=function(t){try{return $0.call(t),!0}catch{return!1}},_0=Object.prototype.toString,E0="[object String]",k0=Er(),gp=function(t){return typeof t=="string"?!0:typeof t!="object"?!1:k0?A0(t):_0.call(t)===E0},Ia=typeof Map=="function"&&Map.prototype?Map:null,O0=typeof Set=="function"&&Set.prototype?Set:null,Qi;Ia||(Qi=function(t){return!1});var yp=Ia?Map.prototype.has:null,ic=O0?Set.prototype.has:null;!Qi&&!yp&&(Qi=function(t){return!1});var mp=Qi||function(t){if(!t||typeof t!="object")return!1;try{if(yp.call(t),ic)try{ic.call(t)}catch{return!0}return t instanceof Ia}catch{}return!1},j0=typeof Map=="function"&&Map.prototype?Map:null,Da=typeof Set=="function"&&Set.prototype?Set:null,to;Da||(to=function(t){return!1});var oc=j0?Map.prototype.has:null,bp=Da?Set.prototype.has:null;!to&&!bp&&(to=function(t){return!1});var vp=to||function(t){if(!t||typeof t!="object")return!1;try{if(bp.call(t),oc)try{oc.call(t)}catch{return!0}return t instanceof Da}catch{}return!1},sc=sp,ac=x0;if(_a()||mo()){var ls=Symbol.iterator;Di.exports=function(t){if(t!=null&&typeof t[ls]<"u")return t[ls]();if(sc(t))return Array.prototype[ls].call(t)}}else{var M0=S0(),P0=gp,lc=Oe,L0=lc("%Map%",!0),C0=lc("%Set%",!0),fe=ue,cc=fe("Array.prototype.push"),uc=fe("String.prototype.charCodeAt"),R0=fe("String.prototype.slice"),T0=function(t,e){var r=t.length;if(e+1>=r)return e+1;var n=uc(t,e);if(n<55296||n>56319)return e+1;var i=uc(t,e+1);return i<56320||i>57343?e+1:e+2},cs=function(t){var e=0;return{next:function(){var r=e>=t.length,n;return r||(n=t[e],e+=1),{done:r,value:n}}}},pc=function(t,e){if(M0(t)||sc(t))return cs(t);if(P0(t)){var r=0;return{next:function(){var n=T0(t,r),i=R0(t,r,n);return r=n,{done:n>t.length,value:i}}}}if(e&&typeof t["_es6-shim iterator_"]<"u")return t["_es6-shim iterator_"]()};if(!L0&&!C0)Di.exports=function(t){if(t!=null)return pc(t,!0)};else{var I0=mp,D0=vp,hc=fe("Map.prototype.forEach",!0),fc=fe("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var dc=fe("Map.prototype.iterator",!0),gc=fe("Set.prototype.iterator",!0);var yc=fe("Map.prototype.@@iterator",!0)||fe("Map.prototype._es6-shim iterator_",!0),mc=fe("Set.prototype.@@iterator",!0)||fe("Set.prototype._es6-shim iterator_",!0),F0=function(t){if(I0(t)){if(dc)return ac(dc(t));if(yc)return yc(t);if(hc){var e=[];return hc(t,function(n,i){cc(e,[i,n])}),cs(e)}}if(D0(t)){if(gc)return ac(gc(t));if(mc)return mc(t);if(fc){var r=[];return fc(t,function(n){cc(r,n)}),cs(r)}}};Di.exports=function(t){return F0(t)||pc(t)}}}var B0=Di.exports,bc=function(t){return t!==t},wp=function(t,e){return t===0&&e===0?1/t===1/e:!!(t===e||bc(t)&&bc(e))},N0=wp,xp=function(){return typeof Object.is=="function"?Object.is:N0},U0=xp,H0=_r,W0=function(){var t=U0();return H0(Object,{is:t},{is:function(){return Object.is!==t}}),t},q0=_r,z0=sn,V0=wp,Sp=xp,G0=W0,$p=z0(Sp(),Object);q0($p,{getPolyfill:Sp,implementation:V0,shim:G0});var K0=$p,J0={}.toString,Y0=Array.isArray||function(t){return J0.call(t)=="[object Array]"},Z0=sn,Ap=ue,X0=Oe,Ns=X0("%ArrayBuffer%",!0),Fi=Ap("ArrayBuffer.prototype.byteLength",!0),Q0=Ap("Object.prototype.toString"),vc=!!Ns&&!Fi&&new Ns(0).slice,wc=!!vc&&Z0(vc),_p=Fi||wc?function(t){if(!t||typeof t!="object")return!1;try{return Fi?Fi(t):wc(t,0),!0}catch{return!1}}:Ns?function(t){return Q0(t)==="[object ArrayBuffer]"}:function(t){return!1},tm=Date.prototype.getDay,em=function(t){try{return tm.call(t),!0}catch{return!1}},rm=Object.prototype.toString,nm="[object Date]",im=Er(),om=function(t){return typeof t!="object"||t===null?!1:im?em(t):rm.call(t)===nm},Us=ue,Ep=Er(),kp,Op,Hs,Ws;if(Ep){kp=Us("Object.prototype.hasOwnProperty"),Op=Us("RegExp.prototype.exec"),Hs={};var us=function(){throw Hs};Ws={toString:us,valueOf:us},typeof Symbol.toPrimitive=="symbol"&&(Ws[Symbol.toPrimitive]=us)}var sm=Us("Object.prototype.toString"),am=Object.getOwnPropertyDescriptor,lm="[object RegExp]",cm=Ep?function(t){if(!t||typeof t!="object")return!1;var e=am(t,"lastIndex"),r=e&&kp(e,"value");if(!r)return!1;try{Op(t,Ws)}catch(n){return n===Hs}}:function(t){return!t||typeof t!="object"&&typeof t!="function"?!1:sm(t)===lm},um=ue,xc=um("SharedArrayBuffer.prototype.byteLength",!0),pm=xc?function(t){if(!t||typeof t!="object")return!1;try{return xc(t),!0}catch{return!1}}:function(t){return!1},hm=Number.prototype.toString,fm=function(t){try{return hm.call(t),!0}catch{return!1}},dm=Object.prototype.toString,gm="[object Number]",ym=Er(),mm=function(t){return typeof t=="number"?!0:typeof t!="object"?!1:ym?fm(t):dm.call(t)===gm},jp=ue,bm=jp("Boolean.prototype.toString"),vm=jp("Object.prototype.toString"),wm=function(t){try{return bm(t),!0}catch{return!1}},xm="[object Boolean]",Sm=Er(),$m=function(t){return typeof t=="boolean"?!0:t===null||typeof t!="object"?!1:Sm&&Symbol.toStringTag in t?wm(t):vm(t)===xm},qs={exports:{}},Am=Object.prototype.toString,_m=_a();if(_m){var Em=Symbol.prototype.toString,km=/^Symbol\(.*\)$/,Om=function(t){return typeof t.valueOf()!="symbol"?!1:km.test(Em.call(t))};qs.exports=function(t){if(typeof t=="symbol")return!0;if(Am.call(t)!=="[object Symbol]")return!1;try{return Om(t)}catch{return!1}}}else qs.exports=function(t){return!1};var jm=qs.exports,zs={exports:{}},Sc=typeof BigInt<"u"&&BigInt,Mm=function(){return typeof Sc=="function"&&typeof BigInt=="function"&&typeof Sc(42)=="bigint"&&typeof BigInt(42)=="bigint"},Pm=Mm();if(Pm){var Lm=BigInt.prototype.valueOf,Cm=function(t){try{return Lm.call(t),!0}catch{}return!1};zs.exports=function(t){return t===null||typeof t>"u"||typeof t=="boolean"||typeof t=="string"||typeof t=="number"||typeof t=="symbol"||typeof t=="function"?!1:typeof t=="bigint"?!0:Cm(t)}}else zs.exports=function(t){return!1};var Rm=zs.exports,Tm=gp,Im=mm,Dm=$m,Fm=jm,Bm=Rm,Nm=function(t){if(t==null||typeof t!="object"&&typeof t!="function")return null;if(Tm(t))return"String";if(Im(t))return"Number";if(Dm(t))return"Boolean";if(Fm(t))return"Symbol";if(Bm(t))return"BigInt"},eo=typeof WeakMap=="function"&&WeakMap.prototype?WeakMap:null,$c=typeof WeakSet=="function"&&WeakSet.prototype?WeakSet:null,ro;eo||(ro=function(t){return!1});var Vs=eo?eo.prototype.has:null,ps=$c?$c.prototype.has:null;!ro&&!Vs&&(ro=function(t){return!1});var Um=ro||function(t){if(!t||typeof t!="object")return!1;try{if(Vs.call(t,Vs),ps)try{ps.call(t,ps)}catch{return!0}return t instanceof eo}catch{}return!1},Gs={exports:{}},Hm=Oe,Mp=ue,Wm=Hm("%WeakSet%",!0),hs=Mp("WeakSet.prototype.has",!0);if(hs){var fs=Mp("WeakMap.prototype.has",!0);Gs.exports=function(t){if(!t||typeof t!="object")return!1;try{if(hs(t,hs),fs)try{fs(t,fs)}catch{return!0}return t instanceof Wm}catch{}return!1}}else Gs.exports=function(t){return!1};var qm=Gs.exports,zm=mp,Vm=vp,Gm=Um,Km=qm,Jm=function(t){if(t&&typeof t=="object"){if(zm(t))return"Map";if(Vm(t))return"Set";if(Gm(t))return"WeakMap";if(Km(t))return"WeakSet"}return!1},Pp=Function.prototype.toString,Gr=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Ks,Bi;if(typeof Gr=="function"&&typeof Object.defineProperty=="function")try{Ks=Object.defineProperty({},"length",{get:function(){throw Bi}}),Bi={},Gr(function(){throw 42},null,Ks)}catch(t){t!==Bi&&(Gr=null)}else Gr=null;var Ym=/^\s*class\b/,Js=function(t){try{var e=Pp.call(t);return Ym.test(e)}catch{return!1}},ds=function(t){try{return Js(t)?!1:(Pp.call(t),!0)}catch{return!1}},Ni=Object.prototype.toString,Zm="[object Object]",Xm="[object Function]",Qm="[object GeneratorFunction]",tb="[object HTMLAllCollection]",eb="[object HTML document.all class]",rb="[object HTMLCollection]",nb=typeof Symbol=="function"&&!!Symbol.toStringTag,ib=!(0 in[,]),Ys=function(){return!1};if(typeof document=="object"){var ob=document.all;Ni.call(ob)===Ni.call(document.all)&&(Ys=function(t){if((ib||!t)&&(typeof t>"u"||typeof t=="object"))try{var e=Ni.call(t);return(e===tb||e===eb||e===rb||e===Zm)&&t("")==null}catch{}return!1})}var sb=Gr?function(t){if(Ys(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{Gr(t,null,Ks)}catch(e){if(e!==Bi)return!1}return!Js(t)&&ds(t)}:function(t){if(Ys(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(nb)return ds(t);if(Js(t))return!1;var e=Ni.call(t);return e!==Xm&&e!==Qm&&!/^\[object HTML/.test(e)?!1:ds(t)},ab=sb,lb=Object.prototype.toString,Lp=Object.prototype.hasOwnProperty,cb=function(t,e,r){for(var n=0,i=t.length;n<i;n++)Lp.call(t,n)&&(r==null?e(t[n],n,t):e.call(r,t[n],n,t))},ub=function(t,e,r){for(var n=0,i=t.length;n<i;n++)r==null?e(t.charAt(n),n,t):e.call(r,t.charAt(n),n,t)},pb=function(t,e,r){for(var n in t)Lp.call(t,n)&&(r==null?e(t[n],n,t):e.call(r,t[n],n,t))},hb=function(t,e,r){if(!ab(e))throw new TypeError("iterator must be a function");var n;arguments.length>=3&&(n=r),lb.call(t)==="[object Array]"?cb(t,e,n):typeof t=="string"?ub(t,e,n):pb(t,e,n)},fb=hb,gs=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],db=typeof globalThis>"u"?Yt:globalThis,gb=function(){for(var t=[],e=0;e<gs.length;e++)typeof db[gs[e]]=="function"&&(t[t.length]=gs[e]);return t},no=fb,yb=gb,Ac=sn,Fa=ue,Ui=Oa,mb=Fa("Object.prototype.toString"),Cp=Er(),_c=typeof globalThis>"u"?Yt:globalThis,Zs=yb(),Ba=Fa("String.prototype.slice"),ys=Object.getPrototypeOf,bb=Fa("Array.prototype.indexOf",!0)||function(t,e){for(var r=0;r<t.length;r+=1)if(t[r]===e)return r;return-1},io={__proto__:null};Cp&&Ui&&ys?no(Zs,function(t){var e=new _c[t];if(Symbol.toStringTag in e){var r=ys(e),n=Ui(r,Symbol.toStringTag);if(!n){var i=ys(r);n=Ui(i,Symbol.toStringTag)}io["$"+t]=Ac(n.get)}}):no(Zs,function(t){var e=new _c[t],r=e.slice||e.set;r&&(io["$"+t]=Ac(r))});var vb=function(t){var e=!1;return no(io,function(r,n){if(!e)try{"$"+r(t)===n&&(e=Ba(n,1))}catch{}}),e},wb=function(t){var e=!1;return no(io,function(r,n){if(!e)try{r(t),e=Ba(n,1)}catch{}}),e},xb=function(t){if(!t||typeof t!="object")return!1;if(!Cp){var e=Ba(mb(t),8,-1);return bb(Zs,e)>-1?e:e!=="Object"?!1:wb(t)}return Ui?vb(t):null},Sb=ue,Ec=Sb("ArrayBuffer.prototype.byteLength",!0),$b=_p,Ab=function(t){return $b(t)?Ec?Ec(t):t.byteLength:NaN},Rp=ey,je=ue,kc=_y,_b=Oe,en=B0,Eb=dp,Oc=K0,jc=sp,Mc=Y0,Pc=_p,Lc=om,Cc=cm,Rc=pm,Tc=Aa,Ic=Nm,Dc=Jm,Fc=xb,Bc=Ab,Nc=je("SharedArrayBuffer.prototype.byteLength",!0),Uc=je("Date.prototype.getTime"),ms=Object.getPrototypeOf,Hc=je("Object.prototype.toString"),oo=_b("%Set%",!0),Xs=je("Map.prototype.has",!0),so=je("Map.prototype.get",!0),Wc=je("Map.prototype.size",!0),ao=je("Set.prototype.add",!0),Tp=je("Set.prototype.delete",!0),lo=je("Set.prototype.has",!0),Hi=je("Set.prototype.size",!0);function qc(t,e,r,n){for(var i=en(t),o;(o=i.next())&&!o.done;)if(ge(e,o.value,r,n))return Tp(t,o.value),!0;return!1}function Ip(t){if(typeof t>"u")return null;if(typeof t!="object")return typeof t=="symbol"?!1:typeof t=="string"||typeof t=="number"?+t==+t:!0}function kb(t,e,r,n,i,o){var s=Ip(r);if(s!=null)return s;var l=so(e,s),a=Rp({},i,{strict:!1});return typeof l>"u"&&!Xs(e,s)||!ge(n,l,a,o)?!1:!Xs(t,s)&&ge(n,l,a,o)}function Ob(t,e,r){var n=Ip(r);return n??(lo(e,n)&&!lo(t,n))}function zc(t,e,r,n,i,o){for(var s=en(t),l,a;(l=s.next())&&!l.done;)if(a=l.value,ge(r,a,i,o)&&ge(n,so(e,a),i,o))return Tp(t,a),!0;return!1}function ge(t,e,r,n){var i=r||{};if(i.strict?Oc(t,e):t===e)return!0;var o=Ic(t),s=Ic(e);if(o!==s)return!1;if(!t||!e||typeof t!="object"&&typeof e!="object")return i.strict?Oc(t,e):t==e;var l=n.has(t),a=n.has(e),u;if(l&&a){if(n.get(t)===n.get(e))return!0}else u={};return l||n.set(t,u),a||n.set(e,u),Pb(t,e,i,n)}function Vc(t){return!t||typeof t!="object"||typeof t.length!="number"||typeof t.copy!="function"||typeof t.slice!="function"||t.length>0&&typeof t[0]!="number"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function jb(t,e,r,n){if(Hi(t)!==Hi(e))return!1;for(var i=en(t),o=en(e),s,l,a;(s=i.next())&&!s.done;)if(s.value&&typeof s.value=="object")a||(a=new oo),ao(a,s.value);else if(!lo(e,s.value)){if(r.strict||!Ob(t,e,s.value))return!1;a||(a=new oo),ao(a,s.value)}if(a){for(;(l=o.next())&&!l.done;)if(l.value&&typeof l.value=="object"){if(!qc(a,l.value,r.strict,n))return!1}else if(!r.strict&&!lo(t,l.value)&&!qc(a,l.value,r.strict,n))return!1;return Hi(a)===0}return!0}function Mb(t,e,r,n){if(Wc(t)!==Wc(e))return!1;for(var i=en(t),o=en(e),s,l,a,u,h,f;(s=i.next())&&!s.done;)if(u=s.value[0],h=s.value[1],u&&typeof u=="object")a||(a=new oo),ao(a,u);else if(f=so(e,u),typeof f>"u"&&!Xs(e,u)||!ge(h,f,r,n)){if(r.strict||!kb(t,e,u,h,r,n))return!1;a||(a=new oo),ao(a,u)}if(a){for(;(l=o.next())&&!l.done;)if(u=l.value[0],f=l.value[1],u&&typeof u=="object"){if(!zc(a,t,u,f,r,n))return!1}else if(!r.strict&&(!t.has(u)||!ge(so(t,u),f,r,n))&&!zc(a,t,u,f,Rp({},r,{strict:!1}),n))return!1;return Hi(a)===0}return!0}function Pb(t,e,r,n){var i,o;if(typeof t!=typeof e||t==null||e==null||Hc(t)!==Hc(e)||jc(t)!==jc(e))return!1;var s=Mc(t),l=Mc(e);if(s!==l)return!1;var a=t instanceof Error,u=e instanceof Error;if(a!==u||(a||u)&&(t.name!==e.name||t.message!==e.message))return!1;var h=Cc(t),f=Cc(e);if(h!==f||(h||f)&&(t.source!==e.source||kc(t)!==kc(e)))return!1;var m=Lc(t),b=Lc(e);if(m!==b||(m||b)&&Uc(t)!==Uc(e)||r.strict&&ms&&ms(t)!==ms(e))return!1;var x=Fc(t),_=Fc(e);if(x!==_)return!1;if(x||_){if(t.length!==e.length)return!1;for(i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}var T=Vc(t),j=Vc(e);if(T!==j)return!1;if(T||j){if(t.length!==e.length)return!1;for(i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}var H=Pc(t),N=Pc(e);if(H!==N)return!1;if(H||N)return Bc(t)!==Bc(e)?!1:typeof Uint8Array=="function"&&ge(new Uint8Array(t),new Uint8Array(e),r,n);var tt=Rc(t),W=Rc(e);if(tt!==W)return!1;if(tt||W)return Nc(t)!==Nc(e)?!1:typeof Uint8Array=="function"&&ge(new Uint8Array(t),new Uint8Array(e),r,n);if(typeof t!=typeof e)return!1;var V=Tc(t),X=Tc(e);if(V.length!==X.length)return!1;for(V.sort(),X.sort(),i=V.length-1;i>=0;i--)if(V[i]!=X[i])return!1;for(i=V.length-1;i>=0;i--)if(o=V[i],!ge(t[o],e[o],r,n))return!1;var ht=Dc(t),mt=Dc(e);return ht!==mt?!1:ht==="Set"||mt==="Set"?jb(t,e,r,n):ht==="Map"?Mb(t,e,r,n):!0}var Lb=function(t,e,r){return ge(t,e,r,Eb())};const Cb=ei(Lb);var Rb=Object.defineProperty,yt=(t,e)=>Rb(t,"name",{value:e,configurable:!0}),Tb=class{constructor(t){this.direction=!1,this.compareProperties=!0;var e,r,n;this.precision=10**-((e=t==null?void 0:t.precision)!=null?e:17),this.direction=(r=t==null?void 0:t.direction)!=null?r:!1,this.compareProperties=(n=t==null?void 0:t.compareProperties)!=null?n:!0}compare(t,e){if(t.type!==e.type||!Cn(t,e))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,e.coordinates);case"LineString":return this.compareLine(t.coordinates,e.coordinates);case"Polygon":return this.comparePolygon(t,e);case"GeometryCollection":return this.compareGeometryCollection(t,e);case"Feature":return this.compareFeature(t,e);case"FeatureCollection":return this.compareFeatureCollection(t,e);default:if(t.type.startsWith("Multi")){const r=Qs(t),n=Qs(e);return r.every(i=>n.some(o=>this.compare(i,o)))}}return!1}compareCoord(t,e){return t.length===e.length&&t.every((r,n)=>Math.abs(r-e[n])<this.precision)}compareLine(t,e,r=0,n=!1){if(!Cn(t,e))return!1;const i=t;let o=e;if(n&&!this.compareCoord(i[0],o[0])){const l=this.fixStartIndex(o,i);if(l)o=l;else return!1}const s=this.compareCoord(i[r],o[r]);return this.direction||s?this.comparePath(i,o):this.compareCoord(i[r],o[o.length-(1+r)])?this.comparePath(i.slice().reverse(),o):!1}fixStartIndex(t,e){let r,n=-1;for(let i=0;i<t.length;i++)if(this.compareCoord(t[i],e[0])){n=i;break}return n>=0&&(r=[].concat(t.slice(n,t.length),t.slice(1,n+1))),r}comparePath(t,e){return t.every((r,n)=>this.compareCoord(r,e[n]))}comparePolygon(t,e){if(this.compareLine(t.coordinates[0],e.coordinates[0],1,!0)){const r=t.coordinates.slice(1,t.coordinates.length),n=e.coordinates.slice(1,e.coordinates.length);return r.every(i=>n.some(o=>this.compareLine(i,o,1,!0)))}return!1}compareGeometryCollection(t,e){return Cn(t.geometries,e.geometries)&&this.compareBBox(t,e)&&t.geometries.every((r,n)=>this.compare(r,e.geometries[n]))}compareFeature(t,e){return t.id===e.id&&(this.compareProperties?Cb(t.properties,e.properties):!0)&&this.compareBBox(t,e)&&this.compare(t.geometry,e.geometry)}compareFeatureCollection(t,e){return Cn(t.features,e.features)&&this.compareBBox(t,e)&&t.features.every((r,n)=>this.compare(r,e.features[n]))}compareBBox(t,e){return!t.bbox&&!e.bbox||(t.bbox&&e.bbox?this.compareCoord(t.bbox,e.bbox):!1)}};yt(Tb,"GeojsonEquality");function Cn(t,e){return t.coordinates?t.coordinates.length===e.coordinates.length:t.length===e.length}yt(Cn,"sameLength");function Qs(t){return t.coordinates.map(e=>({type:t.type.replace("Multi",""),coordinates:e}))}yt(Qs,"explode");var ee=63710088e-1,Dp={centimeters:ee*100,centimetres:ee*100,degrees:360/(2*Math.PI),feet:ee*3.28084,inches:ee*39.37,kilometers:ee/1e3,kilometres:ee/1e3,meters:ee,metres:ee,miles:ee/1609.344,millimeters:ee*1e3,millimetres:ee*1e3,nauticalmiles:ee/1852,radians:1,yards:ee*1.0936},Gc={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:29155334959812285e-23,millimeters:1e6,millimetres:1e6,yards:1.195990046};function ce(t,e,r={}){const n={type:"Feature"};return(r.id===0||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=e||{},n.geometry=t,n}yt(ce,"feature");function Ib(t,e,r={}){switch(t){case"Point":return Ae(e).geometry;case"LineString":return Ee(e).geometry;case"Polygon":return Na(e).geometry;case"MultiPoint":return Fp(e).geometry;case"MultiLineString":return Ua(e).geometry;case"MultiPolygon":return Bp(e).geometry;default:throw new Error(t+" is invalid")}}yt(Ib,"geometry");function Ae(t,e,r={}){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!rn(t[0])||!rn(t[1]))throw new Error("coordinates must contain numbers");return ce({type:"Point",coordinates:t},e,r)}yt(Ae,"point");function Db(t,e,r={}){return Sr(t.map(n=>Ae(n,e)),r)}yt(Db,"points");function Na(t,e,r={}){for(const n of t){if(n.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(n[n.length-1].length!==n[0].length)throw new Error("First and last Position are not equivalent.");for(let i=0;i<n[n.length-1].length;i++)if(n[n.length-1][i]!==n[0][i])throw new Error("First and last Position are not equivalent.")}return ce({type:"Polygon",coordinates:t},e,r)}yt(Na,"polygon");function Fb(t,e,r={}){return Sr(t.map(n=>Na(n,e)),r)}yt(Fb,"polygons");function Ee(t,e,r={}){if(t.length<2)throw new Error("coordinates must be an array of two or more positions");return ce({type:"LineString",coordinates:t},e,r)}yt(Ee,"lineString");function Bb(t,e,r={}){return Sr(t.map(n=>Ee(n,e)),r)}yt(Bb,"lineStrings");function Sr(t,e={}){const r={type:"FeatureCollection"};return e.id&&(r.id=e.id),e.bbox&&(r.bbox=e.bbox),r.features=t,r}yt(Sr,"featureCollection");function Ua(t,e,r={}){return ce({type:"MultiLineString",coordinates:t},e,r)}yt(Ua,"multiLineString");function Fp(t,e,r={}){return ce({type:"MultiPoint",coordinates:t},e,r)}yt(Fp,"multiPoint");function Bp(t,e,r={}){return ce({type:"MultiPolygon",coordinates:t},e,r)}yt(Bp,"multiPolygon");function Nb(t,e,r={}){return ce({type:"GeometryCollection",geometries:t},e,r)}yt(Nb,"geometryCollection");function Ub(t,e=0){if(e&&!(e>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,e||0);return Math.round(t*r)/r}yt(Ub,"round");function Np(t,e="kilometers"){const r=Dp[e];if(!r)throw new Error(e+" units is invalid");return t*r}yt(Np,"radiansToLength");function Ha(t,e="kilometers"){const r=Dp[e];if(!r)throw new Error(e+" units is invalid");return t/r}yt(Ha,"lengthToRadians");function Hb(t,e){return Up(Ha(t,e))}yt(Hb,"lengthToDegrees");function Wb(t){let e=t%360;return e<0&&(e+=360),e}yt(Wb,"bearingToAzimuth");function Up(t){return t%(2*Math.PI)*180/Math.PI}yt(Up,"radiansToDegrees");function qb(t){return t%360*Math.PI/180}yt(qb,"degreesToRadians");function zb(t,e="kilometers",r="kilometers"){if(!(t>=0))throw new Error("length must be a positive number");return Np(Ha(t,e),r)}yt(zb,"convertLength");function Vb(t,e="meters",r="kilometers"){if(!(t>=0))throw new Error("area must be a positive number");const n=Gc[e];if(!n)throw new Error("invalid original units");const i=Gc[r];if(!i)throw new Error("invalid final units");return t/n*i}yt(Vb,"convertArea");function rn(t){return!isNaN(t)&&t!==null&&!Array.isArray(t)}yt(rn,"isNumber");function Wa(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}yt(Wa,"isObject");function Gb(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(t.length!==4&&t.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(e=>{if(!rn(e))throw new Error("bbox must only contain numbers")})}yt(Gb,"validateBBox");function Kb(t){if(!t)throw new Error("id is required");if(["string","number"].indexOf(typeof t)===-1)throw new Error("id must be a number or a string")}yt(Kb,"validateId");var Jb=Object.defineProperty,er=(t,e)=>Jb(t,"name",{value:e,configurable:!0});function qa(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if(t.type==="Feature"&&t.geometry!==null&&t.geometry.type==="Point")return[...t.geometry.coordinates];if(t.type==="Point")return[...t.coordinates]}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return[...t];throw new Error("coord must be GeoJSON Point or an Array of numbers")}er(qa,"getCoord");function Hp(t){if(Array.isArray(t))return t;if(t.type==="Feature"){if(t.geometry!==null)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}er(Hp,"getCoords");function Wp(t){if(t.length>1&&rn(t[0])&&rn(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return Wp(t[0]);throw new Error("coordinates must only contain numbers")}er(Wp,"containsNumber");function Yb(t,e,r){if(!e||!r)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+r+": must be a "+e+", given "+t.type)}er(Yb,"geojsonType");function Zb(t,e,r){if(!t)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!t||t.type!=="Feature"||!t.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+r+": must be a "+e+", given "+t.geometry.type)}er(Zb,"featureOf");function Xb(t,e,r){if(!t)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!t||t.type!=="FeatureCollection")throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of t.features){if(!n||n.type!=="Feature"||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==e)throw new Error("Invalid input to "+r+": must be a "+e+", given "+n.geometry.type)}}er(Xb,"collectionOf");function $r(t){return t.type==="Feature"?t.geometry:t}er($r,"getGeom");function Qb(t,e){return t.type==="FeatureCollection"?"FeatureCollection":t.type==="GeometryCollection"?"GeometryCollection":t.type==="Feature"&&t.geometry!==null?t.geometry.type:t.type}er(Qb,"getType");var tv=Object.defineProperty,qp=(t,e)=>tv(t,"name",{value:e,configurable:!0});function se(t,e,r={}){if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");const n=qa(t),i=$r(e),o=i.type,s=e.bbox;let l=i.coordinates;if(s&&zp(n,s)===!1)return!1;o==="Polygon"&&(l=[l]);let a=!1;for(var u=0;u<l.length;++u){const h=Nd(n,l[u]);if(h===0)return!r.ignoreBoundary;h&&(a=!0)}return a}qp(se,"booleanPointInPolygon");function zp(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}qp(zp,"inBBox");class Vp{constructor(e=[],r=ev){if(this.data=e,this.length=this.data.length,this.compare=r,this.length>0)for(let n=(this.length>>1)-1;n>=0;n--)this._down(n)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const e=this.data[0],r=this.data.pop();return this.length--,this.length>0&&(this.data[0]=r,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:r,compare:n}=this,i=r[e];for(;e>0;){const o=e-1>>1,s=r[o];if(n(i,s)>=0)break;r[e]=s,e=o}r[e]=i}_down(e){const{data:r,compare:n}=this,i=this.length>>1,o=r[e];for(;e<i;){let s=(e<<1)+1,l=r[s];const a=s+1;if(a<this.length&&n(r[a],l)<0&&(s=a,l=r[a]),n(l,o)>=0)break;r[e]=l,e=s}r[e]=o}}function ev(t,e){return t<e?-1:t>e?1:0}function Gp(t,e){return t.p.x>e.p.x?1:t.p.x<e.p.x?-1:t.p.y!==e.p.y?t.p.y>e.p.y?1:-1:1}function rv(t,e){return t.rightSweepEvent.p.x>e.rightSweepEvent.p.x?1:t.rightSweepEvent.p.x<e.rightSweepEvent.p.x?-1:t.rightSweepEvent.p.y!==e.rightSweepEvent.p.y?t.rightSweepEvent.p.y<e.rightSweepEvent.p.y?1:-1:1}class Kc{constructor(e,r,n,i){this.p={x:e[0],y:e[1]},this.featureId=r,this.ringId=n,this.eventId=i,this.otherEvent=null,this.isLeftEndpoint=null}isSamePoint(e){return this.p.x===e.p.x&&this.p.y===e.p.y}}function nv(t,e){if(t.type==="FeatureCollection"){const r=t.features;for(let n=0;n<r.length;n++)Jc(r[n],e)}else Jc(t,e)}let Mi=0,Pi=0,Li=0;function Jc(t,e){const r=t.type==="Feature"?t.geometry:t;let n=r.coordinates;(r.type==="Polygon"||r.type==="MultiLineString")&&(n=[n]),r.type==="LineString"&&(n=[[n]]);for(let i=0;i<n.length;i++)for(let o=0;o<n[i].length;o++){let s=n[i][o][0],l=null;Pi=Pi+1;for(let a=0;a<n[i][o].length-1;a++){l=n[i][o][a+1];const u=new Kc(s,Mi,Pi,Li),h=new Kc(l,Mi,Pi,Li+1);u.otherEvent=h,h.otherEvent=u,Gp(u,h)>0?(h.isLeftEndpoint=!0,u.isLeftEndpoint=!1):(u.isLeftEndpoint=!0,h.isLeftEndpoint=!1),e.push(u),e.push(h),s=l,Li=Li+1}}Mi=Mi+1}class iv{constructor(e){this.leftSweepEvent=e,this.rightSweepEvent=e.otherEvent}}function ov(t,e){if(t===null||e===null||t.leftSweepEvent.ringId===e.leftSweepEvent.ringId&&(t.rightSweepEvent.isSamePoint(e.leftSweepEvent)||t.rightSweepEvent.isSamePoint(e.leftSweepEvent)||t.rightSweepEvent.isSamePoint(e.rightSweepEvent)||t.leftSweepEvent.isSamePoint(e.leftSweepEvent)||t.leftSweepEvent.isSamePoint(e.rightSweepEvent)))return!1;const r=t.leftSweepEvent.p.x,n=t.leftSweepEvent.p.y,i=t.rightSweepEvent.p.x,o=t.rightSweepEvent.p.y,s=e.leftSweepEvent.p.x,l=e.leftSweepEvent.p.y,a=e.rightSweepEvent.p.x,u=e.rightSweepEvent.p.y,h=(u-l)*(i-r)-(a-s)*(o-n),f=(a-s)*(n-l)-(u-l)*(r-s),m=(i-r)*(n-l)-(o-n)*(r-s);if(h===0)return!1;const b=f/h,x=m/h;if(b>=0&&b<=1&&x>=0&&x<=1){const _=r+b*(i-r),T=n+b*(o-n);return[_,T]}return!1}function sv(t,e){e=e||!1;const r=[],n=new Vp([],rv);for(;t.length;){const i=t.pop();if(i.isLeftEndpoint){const o=new iv(i);for(let s=0;s<n.data.length;s++){const l=n.data[s];if(e&&l.leftSweepEvent.featureId===i.featureId)continue;const a=ov(o,l);a!==!1&&r.push(a)}n.push(o)}else i.isLeftEndpoint===!1&&n.pop()}return r}function av(t,e){const r=new Vp([],Gp);return nv(t,r),sv(r,e)}var lv=Object.defineProperty,cv=(t,e)=>lv(t,"name",{value:e,configurable:!0}),uv=av;function vo(t,e,r={}){const{removeDuplicates:n=!0,ignoreSelfIntersections:i=!1}=r;let o=[];t.type==="FeatureCollection"?o=o.concat(t.features):t.type==="Feature"?o.push(t):(t.type==="LineString"||t.type==="Polygon"||t.type==="MultiLineString"||t.type==="MultiPolygon")&&o.push(ce(t)),e.type==="FeatureCollection"?o=o.concat(e.features):e.type==="Feature"?o.push(e):(e.type==="LineString"||e.type==="Polygon"||e.type==="MultiLineString"||e.type==="MultiPolygon")&&o.push(ce(e));const s=uv(Sr(o),i);let l=[];if(n){const a={};s.forEach(u=>{const h=u.join(",");a[h]||(a[h]=!0,l.push(u))})}else l=s;return Sr(l.map(a=>Ae(a)))}cv(vo,"lineIntersect");var pv=Object.defineProperty,Ut=(t,e)=>pv(t,"name",{value:e,configurable:!0});function ln(t,e,r){if(t!==null)for(var n,i,o,s,l,a,u,h=0,f=0,m,b=t.type,x=b==="FeatureCollection",_=b==="Feature",T=x?t.features.length:1,j=0;j<T;j++){u=x?t.features[j].geometry:_?t.geometry:t,m=u?u.type==="GeometryCollection":!1,l=m?u.geometries.length:1;for(var H=0;H<l;H++){var N=0,tt=0;if(s=m?u.geometries[H]:u,s!==null){a=s.coordinates;var W=s.type;switch(h=r&&(W==="Polygon"||W==="MultiPolygon")?1:0,W){case null:break;case"Point":if(e(a,f,j,N,tt)===!1)return!1;f++,N++;break;case"LineString":case"MultiPoint":for(n=0;n<a.length;n++){if(e(a[n],f,j,N,tt)===!1)return!1;f++,W==="MultiPoint"&&N++}W==="LineString"&&N++;break;case"Polygon":case"MultiLineString":for(n=0;n<a.length;n++){for(i=0;i<a[n].length-h;i++){if(e(a[n][i],f,j,N,tt)===!1)return!1;f++}W==="MultiLineString"&&N++,W==="Polygon"&&tt++}W==="Polygon"&&N++;break;case"MultiPolygon":for(n=0;n<a.length;n++){for(tt=0,i=0;i<a[n].length;i++){for(o=0;o<a[n][i].length-h;o++){if(e(a[n][i][o],f,j,N,tt)===!1)return!1;f++}tt++}N++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(ln(s.geometries[n],e,r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}Ut(ln,"coordEach");function hv(t,e,r,n){var i=r;return ln(t,function(o,s,l,a,u){s===0&&r===void 0?i=o:i=e(i,o,s,l,a,u)},n),i}Ut(hv,"coordReduce");function Kp(t,e){var r;switch(t.type){case"FeatureCollection":for(r=0;r<t.features.length&&e(t.features[r].properties,r)!==!1;r++);break;case"Feature":e(t.properties,0);break}}Ut(Kp,"propEach");function fv(t,e,r){var n=r;return Kp(t,function(i,o){o===0&&r===void 0?n=i:n=e(n,i,o)}),n}Ut(fv,"propReduce");function Jp(t,e){if(t.type==="Feature")e(t,0);else if(t.type==="FeatureCollection")for(var r=0;r<t.features.length&&e(t.features[r],r)!==!1;r++);}Ut(Jp,"featureEach");function dv(t,e,r){var n=r;return Jp(t,function(i,o){o===0&&r===void 0?n=i:n=e(n,i,o)}),n}Ut(dv,"featureReduce");function gv(t){var e=[];return ln(t,function(r){e.push(r)}),e}Ut(gv,"coordAll");function za(t,e){var r,n,i,o,s,l,a,u,h,f,m=0,b=t.type==="FeatureCollection",x=t.type==="Feature",_=b?t.features.length:1;for(r=0;r<_;r++){for(l=b?t.features[r].geometry:x?t.geometry:t,u=b?t.features[r].properties:x?t.properties:{},h=b?t.features[r].bbox:x?t.bbox:void 0,f=b?t.features[r].id:x?t.id:void 0,a=l?l.type==="GeometryCollection":!1,s=a?l.geometries.length:1,i=0;i<s;i++){if(o=a?l.geometries[i]:l,o===null){if(e(null,m,u,h,f)===!1)return!1;continue}switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(o,m,u,h,f)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<o.geometries.length;n++)if(e(o.geometries[n],m,u,h,f)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}m++}}Ut(za,"geomEach");function yv(t,e,r){var n=r;return za(t,function(i,o,s,l,a){o===0&&r===void 0?n=i:n=e(n,i,o,s,l,a)}),n}Ut(yv,"geomReduce");function Ye(t,e){za(t,function(r,n,i,o,s){var l=r===null?null:r.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return e(ce(r,i,{bbox:o,id:s}),n,0)===!1?!1:void 0}var a;switch(l){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon";break}for(var u=0;u<r.coordinates.length;u++){var h=r.coordinates[u],f={type:a,coordinates:h};if(e(ce(f,i),n,u)===!1)return!1}})}Ut(Ye,"flattenEach");function mv(t,e,r){var n=r;return Ye(t,function(i,o,s){o===0&&s===0&&r===void 0?n=i:n=e(n,i,o,s)}),n}Ut(mv,"flattenReduce");function Yp(t,e){Ye(t,function(r,n,i){var o=0;if(r.geometry){var s=r.geometry.type;if(!(s==="Point"||s==="MultiPoint")){var l,a=0,u=0,h=0;if(ln(r,function(f,m,b,x,_){if(l===void 0||n>a||x>u||_>h){l=f,a=n,u=x,h=_,o=0;return}var T=Ee([l,f],r.properties);if(e(T,n,i,_,o)===!1)return!1;o++,l=f})===!1)return!1}}})}Ut(Yp,"segmentEach");function bv(t,e,r){var n=r,i=!1;return Yp(t,function(o,s,l,a,u){i===!1&&r===void 0?n=o:n=e(n,o,s,l,a,u),i=!0}),n}Ut(bv,"segmentReduce");function Zp(t,e){if(!t)throw new Error("geojson is required");Ye(t,function(r,n,i){if(r.geometry!==null){var o=r.geometry.type,s=r.geometry.coordinates;switch(o){case"LineString":if(e(r,n,i,0,0)===!1)return!1;break;case"Polygon":for(var l=0;l<s.length;l++)if(e(Ee(s[l],r.properties),n,i,l)===!1)return!1;break}}})}Ut(Zp,"lineEach");function vv(t,e,r){var n=r;return Zp(t,function(i,o,s,l){o===0&&r===void 0?n=i:n=e(n,i,o,s,l)}),n}Ut(vv,"lineReduce");function wv(t,e){if(e=e||{},!Wa(e))throw new Error("options is invalid");var r=e.featureIndex||0,n=e.multiFeatureIndex||0,i=e.geometryIndex||0,o=e.segmentIndex||0,s=e.properties,l;switch(t.type){case"FeatureCollection":r<0&&(r=t.features.length+r),s=s||t.features[r].properties,l=t.features[r].geometry;break;case"Feature":s=s||t.properties,l=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":l=t;break;default:throw new Error("geojson is invalid")}if(l===null)return null;var a=l.coordinates;switch(l.type){case"Point":case"MultiPoint":return null;case"LineString":return o<0&&(o=a.length+o-1),Ee([a[o],a[o+1]],s,e);case"Polygon":return i<0&&(i=a.length+i),o<0&&(o=a[i].length+o-1),Ee([a[i][o],a[i][o+1]],s,e);case"MultiLineString":return n<0&&(n=a.length+n),o<0&&(o=a[n].length+o-1),Ee([a[n][o],a[n][o+1]],s,e);case"MultiPolygon":return n<0&&(n=a.length+n),i<0&&(i=a[n].length+i),o<0&&(o=a[n][i].length-o-1),Ee([a[n][i][o],a[n][i][o+1]],s,e)}throw new Error("geojson is invalid")}Ut(wv,"findSegment");function xv(t,e){if(e=e||{},!Wa(e))throw new Error("options is invalid");var r=e.featureIndex||0,n=e.multiFeatureIndex||0,i=e.geometryIndex||0,o=e.coordIndex||0,s=e.properties,l;switch(t.type){case"FeatureCollection":r<0&&(r=t.features.length+r),s=s||t.features[r].properties,l=t.features[r].geometry;break;case"Feature":s=s||t.properties,l=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":l=t;break;default:throw new Error("geojson is invalid")}if(l===null)return null;var a=l.coordinates;switch(l.type){case"Point":return Ae(a,s,e);case"MultiPoint":return n<0&&(n=a.length+n),Ae(a[n],s,e);case"LineString":return o<0&&(o=a.length+o),Ae(a[o],s,e);case"Polygon":return i<0&&(i=a.length+i),o<0&&(o=a[i].length+o),Ae(a[i][o],s,e);case"MultiLineString":return n<0&&(n=a.length+n),o<0&&(o=a[n].length+o),Ae(a[n][o],s,e);case"MultiPolygon":return n<0&&(n=a.length+n),i<0&&(i=a[n].length+i),o<0&&(o=a[n][i].length-o),Ae(a[n][i][o],s,e)}throw new Error("geojson is invalid")}Ut(xv,"findPoint");var Sv=Object.defineProperty,wo=(t,e)=>Sv(t,"name",{value:e,configurable:!0});function co(t,e={}){const r=$r(t);switch(!e.properties&&t.type==="Feature"&&(e.properties=t.properties),r.type){case"Polygon":return Xp(r,e);case"MultiPolygon":return Qp(r,e);default:throw new Error("invalid poly")}}wo(co,"polygonToLine");function Xp(t,e={}){const r=$r(t).coordinates,n=e.properties?e.properties:t.type==="Feature"?t.properties:{};return Va(r,n)}wo(Xp,"singlePolygonToLine");function Qp(t,e={}){const r=$r(t).coordinates,n=e.properties?e.properties:t.type==="Feature"?t.properties:{},i=[];return r.forEach(o=>{i.push(Va(o,n))}),Sr(i)}wo(Qp,"multiPolygonToLine");function Va(t,e){return t.length>1?Ua(t,e):Ee(t[0],e)}wo(Va,"coordsToLine");var $v=Object.defineProperty,rr=(t,e)=>$v(t,"name",{value:e,configurable:!0});function th(t,e){let r=!0;return Ye(t,n=>{Ye(e,i=>{if(r===!1)return!1;r=eh(n.geometry,i.geometry)})}),r}rr(th,"booleanDisjoint");function eh(t,e){switch(t.type){case"Point":switch(e.type){case"Point":return!oh(t.coordinates,e.coordinates);case"LineString":return!ta(e,t);case"Polygon":return!se(t,e)}break;case"LineString":switch(e.type){case"Point":return!ta(t,e);case"LineString":return!rh(t,e);case"Polygon":return!ea(e,t)}break;case"Polygon":switch(e.type){case"Point":return!se(e,t);case"LineString":return!ea(t,e);case"Polygon":return!nh(e,t)}}return!1}rr(eh,"disjoint");function ta(t,e){for(let r=0;r<t.coordinates.length-1;r++)if(ih(t.coordinates[r],t.coordinates[r+1],e.coordinates))return!0;return!1}rr(ta,"isPointOnLine");function rh(t,e){return vo(t,e).features.length>0}rr(rh,"isLineOnLine");function ea(t,e){for(const r of e.coordinates)if(se(r,t))return!0;return vo(e,co(t)).features.length>0}rr(ea,"isLineInPoly");function nh(t,e){for(const r of t.coordinates[0])if(se(r,e))return!0;for(const r of e.coordinates[0])if(se(r,t))return!0;return vo(co(t),co(e)).features.length>0}rr(nh,"isPolyInPoly");function ih(t,e,r){const n=r[0]-t[0],i=r[1]-t[1],o=e[0]-t[0],s=e[1]-t[1];return n*s-i*o!==0?!1:Math.abs(o)>=Math.abs(s)?o>0?t[0]<=r[0]&&r[0]<=e[0]:e[0]<=r[0]&&r[0]<=t[0]:s>0?t[1]<=r[1]&&r[1]<=e[1]:e[1]<=r[1]&&r[1]<=t[1]}rr(ih,"isPointOnLineSegment");function oh(t,e){return t[0]===e[0]&&t[1]===e[1]}rr(oh,"compareCoords");var Av=Object.defineProperty,_v=(t,e)=>Av(t,"name",{value:e,configurable:!0});function sh(t,e){let r=!1;return Ye(t,n=>{Ye(e,i=>{if(r===!0)return!0;r=!th(n.geometry,i.geometry)})}),r}_v(sh,"booleanIntersects");var Ev=sh,kv=Object.defineProperty,Ov=(t,e)=>kv(t,"name",{value:e,configurable:!0});function Kn(t,e={}){if(t.bbox!=null&&e.recompute!==!0)return t.bbox;const r=[1/0,1/0,-1/0,-1/0];return ln(t,n=>{r[0]>n[0]&&(r[0]=n[0]),r[1]>n[1]&&(r[1]=n[1]),r[2]<n[0]&&(r[2]=n[0]),r[3]<n[1]&&(r[3]=n[1])}),r}Ov(Kn,"bbox");var jv=Object.defineProperty,ah=(t,e)=>jv(t,"name",{value:e,configurable:!0});function Jn(t,e,r={}){const n=qa(t),i=Hp(e);for(let o=0;o<i.length-1;o++){let s=!1;if(r.ignoreEndVertices&&(o===0&&(s="start"),o===i.length-2&&(s="end"),o===0&&o+1===i.length-1&&(s="both")),lh(i[o],i[o+1],n,s,typeof r.epsilon>"u"?null:r.epsilon))return!0}return!1}ah(Jn,"booleanPointOnLine");function lh(t,e,r,n,i){const o=r[0],s=r[1],l=t[0],a=t[1],u=e[0],h=e[1],f=r[0]-l,m=r[1]-a,b=u-l,x=h-a,_=f*x-m*b;if(i!==null){if(Math.abs(_)>i)return!1}else if(_!==0)return!1;if(n){if(n==="start")return Math.abs(b)>=Math.abs(x)?b>0?l<o&&o<=u:u<=o&&o<l:x>0?a<s&&s<=h:h<=s&&s<a;if(n==="end")return Math.abs(b)>=Math.abs(x)?b>0?l<=o&&o<u:u<o&&o<=l:x>0?a<=s&&s<h:h<s&&s<=a;if(n==="both")return Math.abs(b)>=Math.abs(x)?b>0?l<o&&o<u:u<o&&o<l:x>0?a<s&&s<h:h<s&&s<a}else return Math.abs(b)>=Math.abs(x)?b>0?l<=o&&o<=u:u<=o&&o<=l:x>0?a<=s&&s<=h:h<=s&&s<=a;return!1}ah(lh,"isPointOnLineSegment");var Mv=Object.defineProperty,be=(t,e)=>Mv(t,"name",{value:e,configurable:!0});function ch(t,e){var r=$r(t),n=$r(e),i=r.type,o=n.type;switch(i){case"Point":switch(o){case"MultiPoint":return uh(r,n);case"LineString":return Jn(r,n,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return se(r,n,{ignoreBoundary:!0});default:throw new Error("feature2 "+o+" geometry not supported")}case"MultiPoint":switch(o){case"MultiPoint":return ph(r,n);case"LineString":return hh(r,n);case"Polygon":case"MultiPolygon":return fh(r,n);default:throw new Error("feature2 "+o+" geometry not supported")}case"LineString":switch(o){case"LineString":return dh(r,n);case"Polygon":case"MultiPolygon":return gh(r,n);default:throw new Error("feature2 "+o+" geometry not supported")}case"Polygon":switch(o){case"Polygon":case"MultiPolygon":return yh(r,n);default:throw new Error("feature2 "+o+" geometry not supported")}default:throw new Error("feature1 "+i+" geometry not supported")}}be(ch,"booleanWithin");function uh(t,e){var r,n=!1;for(r=0;r<e.coordinates.length;r++)if(Ka(e.coordinates[r],t.coordinates)){n=!0;break}return n}be(uh,"isPointInMultiPoint");function ph(t,e){for(var r=0;r<t.coordinates.length;r++){for(var n=!1,i=0;i<e.coordinates.length;i++)Ka(t.coordinates[r],e.coordinates[i])&&(n=!0);if(!n)return!1}return!0}be(ph,"isMultiPointInMultiPoint");function hh(t,e){for(var r=!1,n=0;n<t.coordinates.length;n++){if(!Jn(t.coordinates[n],e))return!1;r||(r=Jn(t.coordinates[n],e,{ignoreEndVertices:!0}))}return r}be(hh,"isMultiPointOnLine");function fh(t,e){for(var r=!0,n=!1,i=0;i<t.coordinates.length;i++){if(n=se(t.coordinates[i],e),!n){r=!1;break}n=se(t.coordinates[i],e,{ignoreBoundary:!0})}return r&&n}be(fh,"isMultiPointInPoly");function dh(t,e){for(var r=0;r<t.coordinates.length;r++)if(!Jn(t.coordinates[r],e))return!1;return!0}be(dh,"isLineOnLine");function gh(t,e){var r=Kn(e),n=Kn(t);if(!Ga(r,n))return!1;for(var i=!1,o=0;o<t.coordinates.length;o++){if(!se(t.coordinates[o],e))return!1;if(i||(i=se(t.coordinates[o],e,{ignoreBoundary:!0})),!i&&o<t.coordinates.length-1){var s=mh(t.coordinates[o],t.coordinates[o+1]);i=se(s,e,{ignoreBoundary:!0})}}return i}be(gh,"isLineInPoly");function yh(t,e){var r=Kn(t),n=Kn(e);if(!Ga(n,r))return!1;for(var i=0;i<t.coordinates[0].length;i++)if(!se(t.coordinates[0][i],e))return!1;return!0}be(yh,"isPolyInPoly");function Ga(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}be(Ga,"doBBoxOverlap");function Ka(t,e){return t[0]===e[0]&&t[1]===e[1]}be(Ka,"compareCoords");function mh(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}be(mh,"getMidpoint");var Pv=ch;const Lv=(t,e)=>e?Ev(t,e):!0,Cv=(t,e)=>e?Pv(t,e):!0;function Rv(t,e="highlight",r="title"){const n=(o,s,l)=>{const a=s.split(".");let u;for(u=0;u<a.length-1;u++)o=o[a[u]];o[a[u]]=l},i=(o,s=[])=>{let l="",a=0;return s.forEach(u=>{const h=u[1]+1;l+=[o.substring(a,u[0]),`<mark class="${e}">`,o.substring(u[0],h),"</mark>"].join(""),a=h}),l+=o.substring(a),l};return t.filter(({matches:o})=>o&&o.length).map(({item:o,matches:s})=>{const l={...o};return s.forEach(a=>{a.key===r&&n(l,a.key,i(a.value,a.indices))}),l})}var bh={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Yt,function(){var r=1e3,n=6e4,i=36e5,o="millisecond",s="second",l="minute",a="hour",u="day",h="week",f="month",m="quarter",b="year",x="date",_="Invalid Date",T=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,j=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,H={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(D){var k=["th","st","nd","rd"],E=D%100;return"["+D+(k[(E-20)%10]||k[E]||k[0])+"]"}},N=function(D,k,E){var F=String(D);return!F||F.length>=k?D:""+Array(k+1-F.length).join(E)+D},tt={s:N,z:function(D){var k=-D.utcOffset(),E=Math.abs(k),F=Math.floor(E/60),M=E%60;return(k<=0?"+":"-")+N(F,2,"0")+":"+N(M,2,"0")},m:function D(k,E){if(k.date()<E.date())return-D(E,k);var F=12*(E.year()-k.year())+(E.month()-k.month()),M=k.clone().add(F,f),J=E-M<0,Y=k.clone().add(F+(J?-1:1),f);return+(-(F+(E-M)/(J?M-Y:Y-M))||0)},a:function(D){return D<0?Math.ceil(D)||0:Math.floor(D)},p:function(D){return{M:f,y:b,w:h,d:u,D:x,h:a,m:l,s,ms:o,Q:m}[D]||String(D||"").toLowerCase().replace(/s$/,"")},u:function(D){return D===void 0}},W="en",V={};V[W]=H;var X="$isDayjsObject",ht=function(D){return D instanceof Rt||!(!D||!D[X])},mt=function D(k,E,F){var M;if(!k)return W;if(typeof k=="string"){var J=k.toLowerCase();V[J]&&(M=J),E&&(V[J]=E,M=J);var Y=k.split("-");if(!M&&Y.length>1)return D(Y[0])}else{var dt=k.name;V[dt]=k,M=dt}return!F&&M&&(W=M),M||!F&&W},ft=function(D,k){if(ht(D))return D.clone();var E=typeof k=="object"?k:{};return E.date=D,E.args=arguments,new Rt(E)},nt=tt;nt.l=mt,nt.i=ht,nt.w=function(D,k){return ft(D,{locale:k.$L,utc:k.$u,x:k.$x,$offset:k.$offset})};var Rt=function(){function D(E){this.$L=mt(E.locale,null,!0),this.parse(E),this.$x=this.$x||E.x||{},this[X]=!0}var k=D.prototype;return k.parse=function(E){this.$d=function(F){var M=F.date,J=F.utc;if(M===null)return new Date(NaN);if(nt.u(M))return new Date;if(M instanceof Date)return new Date(M);if(typeof M=="string"&&!/Z$/i.test(M)){var Y=M.match(T);if(Y){var dt=Y[2]-1||0,$t=(Y[7]||"0").substring(0,3);return J?new Date(Date.UTC(Y[1],dt,Y[3]||1,Y[4]||0,Y[5]||0,Y[6]||0,$t)):new Date(Y[1],dt,Y[3]||1,Y[4]||0,Y[5]||0,Y[6]||0,$t)}}return new Date(M)}(E),this.init()},k.init=function(){var E=this.$d;this.$y=E.getFullYear(),this.$M=E.getMonth(),this.$D=E.getDate(),this.$W=E.getDay(),this.$H=E.getHours(),this.$m=E.getMinutes(),this.$s=E.getSeconds(),this.$ms=E.getMilliseconds()},k.$utils=function(){return nt},k.isValid=function(){return this.$d.toString()!==_},k.isSame=function(E,F){var M=ft(E);return this.startOf(F)<=M&&M<=this.endOf(F)},k.isAfter=function(E,F){return ft(E)<this.startOf(F)},k.isBefore=function(E,F){return this.endOf(F)<ft(E)},k.$g=function(E,F,M){return nt.u(E)?this[F]:this.set(M,E)},k.unix=function(){return Math.floor(this.valueOf()/1e3)},k.valueOf=function(){return this.$d.getTime()},k.startOf=function(E,F){var M=this,J=!!nt.u(F)||F,Y=nt.p(E),dt=function(Pt,ot){var Lt=nt.w(M.$u?Date.UTC(M.$y,ot,Pt):new Date(M.$y,ot,Pt),M);return J?Lt:Lt.endOf(u)},$t=function(Pt,ot){return nt.w(M.toDate()[Pt].apply(M.toDate("s"),(J?[0,0,0,0]:[23,59,59,999]).slice(ot)),M)},kt=this.$W,Ot=this.$M,Ht=this.$D,Mt="set"+(this.$u?"UTC":"");switch(Y){case b:return J?dt(1,0):dt(31,11);case f:return J?dt(1,Ot):dt(0,Ot+1);case h:var Wt=this.$locale().weekStart||0,at=(kt<Wt?kt+7:kt)-Wt;return dt(J?Ht-at:Ht+(6-at),Ot);case u:case x:return $t(Mt+"Hours",0);case a:return $t(Mt+"Minutes",1);case l:return $t(Mt+"Seconds",2);case s:return $t(Mt+"Milliseconds",3);default:return this.clone()}},k.endOf=function(E){return this.startOf(E,!1)},k.$set=function(E,F){var M,J=nt.p(E),Y="set"+(this.$u?"UTC":""),dt=(M={},M[u]=Y+"Date",M[x]=Y+"Date",M[f]=Y+"Month",M[b]=Y+"FullYear",M[a]=Y+"Hours",M[l]=Y+"Minutes",M[s]=Y+"Seconds",M[o]=Y+"Milliseconds",M)[J],$t=J===u?this.$D+(F-this.$W):F;if(J===f||J===b){var kt=this.clone().set(x,1);kt.$d[dt]($t),kt.init(),this.$d=kt.set(x,Math.min(this.$D,kt.daysInMonth())).$d}else dt&&this.$d[dt]($t);return this.init(),this},k.set=function(E,F){return this.clone().$set(E,F)},k.get=function(E){return this[nt.p(E)]()},k.add=function(E,F){var M,J=this;E=Number(E);var Y=nt.p(F),dt=function(Ot){var Ht=ft(J);return nt.w(Ht.date(Ht.date()+Math.round(Ot*E)),J)};if(Y===f)return this.set(f,this.$M+E);if(Y===b)return this.set(b,this.$y+E);if(Y===u)return dt(1);if(Y===h)return dt(7);var $t=(M={},M[l]=n,M[a]=i,M[s]=r,M)[Y]||1,kt=this.$d.getTime()+E*$t;return nt.w(kt,this)},k.subtract=function(E,F){return this.add(-1*E,F)},k.format=function(E){var F=this,M=this.$locale();if(!this.isValid())return M.invalidDate||_;var J=E||"YYYY-MM-DDTHH:mm:ssZ",Y=nt.z(this),dt=this.$H,$t=this.$m,kt=this.$M,Ot=M.weekdays,Ht=M.months,Mt=M.meridiem,Wt=function(ot,Lt,ve,At){return ot&&(ot[Lt]||ot(F,J))||ve[Lt].slice(0,At)},at=function(ot){return nt.s(dt%12||12,ot,"0")},Pt=Mt||function(ot,Lt,ve){var At=ot<12?"AM":"PM";return ve?At.toLowerCase():At};return J.replace(j,function(ot,Lt){return Lt||function(ve){switch(ve){case"YY":return String(F.$y).slice(-2);case"YYYY":return nt.s(F.$y,4,"0");case"M":return kt+1;case"MM":return nt.s(kt+1,2,"0");case"MMM":return Wt(M.monthsShort,kt,Ht,3);case"MMMM":return Wt(Ht,kt);case"D":return F.$D;case"DD":return nt.s(F.$D,2,"0");case"d":return String(F.$W);case"dd":return Wt(M.weekdaysMin,F.$W,Ot,2);case"ddd":return Wt(M.weekdaysShort,F.$W,Ot,3);case"dddd":return Ot[F.$W];case"H":return String(dt);case"HH":return nt.s(dt,2,"0");case"h":return at(1);case"hh":return at(2);case"a":return Pt(dt,$t,!0);case"A":return Pt(dt,$t,!1);case"m":return String($t);case"mm":return nt.s($t,2,"0");case"s":return String(F.$s);case"ss":return nt.s(F.$s,2,"0");case"SSS":return nt.s(F.$ms,3,"0");case"Z":return Y}return null}(ot)||Y.replace(":","")})},k.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},k.diff=function(E,F,M){var J,Y=this,dt=nt.p(F),$t=ft(E),kt=($t.utcOffset()-this.utcOffset())*n,Ot=this-$t,Ht=function(){return nt.m(Y,$t)};switch(dt){case b:J=Ht()/12;break;case f:J=Ht();break;case m:J=Ht()/3;break;case h:J=(Ot-kt)/6048e5;break;case u:J=(Ot-kt)/864e5;break;case a:J=Ot/i;break;case l:J=Ot/n;break;case s:J=Ot/r;break;default:J=Ot}return M?J:nt.a(J)},k.daysInMonth=function(){return this.endOf(f).$D},k.$locale=function(){return V[this.$L]},k.locale=function(E,F){if(!E)return this.$L;var M=this.clone(),J=mt(E,F,!0);return J&&(M.$L=J),M},k.clone=function(){return nt.w(this.$d,this)},k.toDate=function(){return new Date(this.valueOf())},k.toJSON=function(){return this.isValid()?this.toISOString():null},k.toISOString=function(){return this.$d.toISOString()},k.toString=function(){return this.$d.toUTCString()},D}(),_t=Rt.prototype;return ft.prototype=_t,[["$ms",o],["$s",s],["$m",l],["$H",a],["$W",u],["$M",f],["$y",b],["$D",x]].forEach(function(D){_t[D[1]]=function(k){return this.$g(k,D[0],D[1])}}),ft.extend=function(D,k){return D.$i||(D(k,Rt,ft),D.$i=!0),ft},ft.locale=mt,ft.isDayjs=ht,ft.unix=function(D){return ft(1e3*D)},ft.en=V[W],ft.Ls=V,ft.p={},ft})})(bh);var Tv=bh.exports;const Yn=ei(Tv);let vh;const Iv=(t,e)=>{vh=new Xe(t,{threshold:.4,distance:50,includeMatches:!0,useExtendedSearch:!0,...e})},Dv=async(t,e,r)=>{const n=Object.entries(e).filter(([,l])=>l.type==="text"||l.type==="select"||l.type==="multiselect").reduce((l,[a,u])=>{const h="$or",f=[],m=(b,x)=>{const _={};u.type==="text"?_[b]=`${x}`:_[a]=`="${b}"`,f.push(_)};return Object.entries(u.state).filter(([,b])=>b).forEach(([b,x])=>m(b,x)),f.length>0&&l.push({[h]:f}),l},[]);let i;if(!(n.length>0)&&r.matchAllWhenEmpty!==!1)i=t;else{const l={$and:[...n]},a=vh.search(l);i=r.enableHighlighting?Rv(a,"highlight",r.titleProperty):a.map(u=>u.item)}const o=Object.entries(e).filter(([,l])=>l.type==="range").reduce((l,[a,u])=>(l[a]={min:u.state.min,max:u.state.max,format:u.format},l),{});if(Object.keys(o).length>0){const l=[];for(let a=0;a<i.length;a++){const u={};for(const[h,f]of Object.entries(o)){const m=b=>f.format==="date"?Yn(b).unix():b;Object.prototype.hasOwnProperty.call(i[a],h)?Array.isArray(i[a][h])?u[h]=o[h].min<=m(i[a][h][1])&&m(i[a][h][0])<=o[h].max:m(i[a][h])>=o[h].min&&m(i[a][h])<=o[h].max?u[h]=!0:u[h]=!1:u[h]=!0}Object.values(u).every(h=>!!h)&&l.push(i[a])}i=[...l]}const s=Object.entries(e).filter(([,l])=>l.type==="spatial").reduce((l,[a,u])=>(l[a]={geometry:u.state.geometry,mode:u.state.mode},l),{});if(Object.values(s).map(l=>l.geometry).filter(l=>!!l).length>0){const l=[];for(let a=0;a<i.length;a++){const u={};for(const h of Object.keys(s)){const f=s[h].mode||"within";Object.prototype.hasOwnProperty.call(i[a],h)&&(f==="within"?Cv(i[a][h],s[h].geometry):Lv(i[a][h],s[h].geometry))?u[h]=!0:u[h]=!1}Object.values(u).every(h=>!!h)&&l.push(i[a])}i=[...l]}return i};function Fv(t,e){return[{type:"Vector",properties:{id:"draw"},source:{type:"Vector",...t&&{format:"GeoJSON"},...t&&{url:e}},zIndex:1,interactions:[{type:"draw",options:{id:"drawInteraction",type:"Box",modify:!0}}]},{type:"Tile",source:{type:"XYZ",url:"https://s2maps-tiles.eu/wmts/1.0.0/osm_3857/default/g/{z}/{y}/{x}.jpg",attribution:"{ OSM: Data &copy; OpenStreetMap contributors and others, Rendering &copy; EOX }"}}]}function xo(t){if(!t.dirty)return null;switch(t.type){case"multiselect":for(const e in t.state)t.state.hasOwnProperty(e)&&(t.state[e]=!1);break;case"range":t.state.min=t.min,t.state.max=t.max;break;case"select":for(const e in t.state)t.state.hasOwnProperty(e)&&(t.state[e]=!1);break;case"spatial":t.state.geometry=void 0;break;case"text":t.keys.forEach(e=>{t.state[e]=void 0});break}return delete t.stringifiedState,delete t.dirty,t}function Yc(t,e){return t*2+e}function Bv(t){return Object.keys(t).map(e=>({title:Q`${e}:
        <strong>${t[e].stringifiedState}</strong>`,key:e})).filter(e=>t[e.key].dirty)}function ra(t){return Object.values(t).map(e=>e.dirty).filter(e=>e).length>0}async function Nv(t,e,r){return await(await fetch(`${r.externalFilter(t,e)}`)).json()}function wh(t,e,r){let n;if(t.detail?n=t.detail.target:n=t.target,n!=null&&n.classList.contains("details-filter")){if(!n.open||e!=null&&e.expandMultipleFilters)return;r.shadowRoot.querySelectorAll("eox-itemfilter-expandcontainer").forEach(i=>{const o=i.shadowRoot.querySelector(".details-filter");o&&o!==n&&o.removeAttribute("open")})}else{if(!(n!=null&&n.open)||e!=null&&e.expandMultipleResults)return;r.querySelectorAll("details").forEach(i=>{i!==n&&i.removeAttribute("open")})}}var Nt,Zc,na,ia,xh,oa,sa,Sh,aa,$h,Ah;class Uv extends ie{constructor(){super(),ne(this,Nt),this.filterProperties={},this.unstyled=!1,this.inlineMode=!1,this.filters={},this._handleClickOutside=pt(this,Nt,xh).bind(this),this._handleKeyDown=pt(this,Nt,oa).bind(this)}static get properties(){return{filterProperties:{attribute:!1,type:Object},inlineMode:{attribute:"inline-mode",type:Boolean},unstyled:{type:Boolean},filters:{state:!0,type:Object}}}set showDropdown(e){this.renderRoot.querySelector("[popover]").togglePopover(e)}get showDropdown(){var e;return(e=this.renderRoot.querySelector("[popover]"))==null?void 0:e.matches(":popover-open")}connectedCallback(){super.connectedCallback(),this.inlineMode&&pt(this,Nt,na).call(this)}disconnectedCallback(){this.inlineMode&&pt(this,Nt,ia).call(this),super.disconnectedCallback()}_overlayCleanup(){}updateInline(){this.inlineMode&&this.requestUpdate()}updated(e){e.has("inlineMode")&&(this.inlineMode?pt(this,Nt,na).call(this):pt(this,Nt,ia).call(this))}render(){return Q`
      <style>
        ${!this.unstyled&&Qn}
      </style>
      ${this.inlineMode?Q`
            <div
              class="inline-container-wrapper"
              @click="${pt(this,Nt,sa)}"
            >
              <div class="inline-container" part="container">
                <div class="chip-container">
                  <div class="chip-wrapper">
                    <eox-itemfilter-chips
                      .items=${Bv(this.filters)}
                      .controller=${{remove:e=>pt(this,Nt,$h).call(this,e)}}
                    >
                    </eox-itemfilter-chips>
                  </div>

                  ${Jt(ra(this.filters),()=>Q`
                      <span
                        class="chip-close"
                        @click=${()=>this.dispatchEvent(new CustomEvent("reset"))}
                      ></span>
                    `)}
                </div>
                <div
                  class="input-container ${ra(this.filters)?"dirty-filter-input":""}"
                >
                  <input
                    autocomplete="off"
                    id="eox-itemfilter-input-search"
                    type="text"
                    @click="${pt(this,Nt,sa)}"
                    @focus="${pt(this,Nt,Sh)}"
                    @input="${pt(this,Nt,Ah)}"
                    placeholder="Search and add filter"
                    aria-haspopup="true"
                    aria-expanded="${this.showDropdown}"
                  />
                </div>
              </div>
              <div popover="manual">
                <div
                  class="inline-content"
                  slot="content"
                  @keydown="${pt(this,Nt,oa)}"
                  @click="${pt(this,Nt,aa)}"
                  @focus="${pt(this,Nt,aa)}"
                >
                  <slot name="section"></slot>
                </div>
              </div>
            </div>
          `:Q`<slot name="section"></slot>`}
    `}}Nt=new WeakSet,Zc=function(){setTimeout(()=>this._overlayCleanup=Rd(this))},na=function(){document.addEventListener("click",this._handleClickOutside),document.addEventListener("focusout",this._handleClickOutside),document.addEventListener("keydown",this._handleKeyDown),pt(this,Nt,Zc).call(this)},ia=function(){document.removeEventListener("click",this._handleClickOutside),document.removeEventListener("focusout",this._handleClickOutside),document.removeEventListener("keydown",this._handleKeyDown),this._overlayCleanup()},xh=function(t){Bd(t,this)},oa=function(t){Fd(t,this)},sa=function(t){Dd(t,this)},Sh=function(){Id(this)},aa=function(t){Td(t,this)},$h=function(t){cd(t,this)},Ah=function(t){ku(t,this)};customElements.define("eox-itemfilter-container",Uv);var Hv="Expected a function",Xc=NaN,Wv="[object Symbol]",qv=/^\s+|\s+$/g,zv=/^[-+]0x[0-9a-f]+$/i,Vv=/^0b[01]+$/i,Gv=/^0o[0-7]+$/i,Kv=parseInt,Jv=typeof Yt=="object"&&Yt&&Yt.Object===Object&&Yt,Yv=typeof self=="object"&&self&&self.Object===Object&&self,Zv=Jv||Yv||Function("return this")(),Xv=Object.prototype,Qv=Xv.toString,t1=Math.max,e1=Math.min,bs=function(){return Zv.Date.now()};function r1(t,e,r){var n,i,o,s,l,a,u=0,h=!1,f=!1,m=!0;if(typeof t!="function")throw new TypeError(Hv);e=Qc(e)||0,la(r)&&(h=!!r.leading,f="maxWait"in r,o=f?t1(Qc(r.maxWait)||0,e):o,m="trailing"in r?!!r.trailing:m);function b(V){var X=n,ht=i;return n=i=void 0,u=V,s=t.apply(ht,X),s}function x(V){return u=V,l=setTimeout(j,e),h?b(V):s}function _(V){var X=V-a,ht=V-u,mt=e-X;return f?e1(mt,o-ht):mt}function T(V){var X=V-a,ht=V-u;return a===void 0||X>=e||X<0||f&&ht>=o}function j(){var V=bs();if(T(V))return H(V);l=setTimeout(j,_(V))}function H(V){return l=void 0,m&&n?b(V):(n=i=void 0,s)}function N(){l!==void 0&&clearTimeout(l),u=0,n=a=i=l=void 0}function tt(){return l===void 0?s:H(bs())}function W(){var V=bs(),X=T(V);if(n=arguments,i=this,a=V,X){if(l===void 0)return x(a);if(f)return l=setTimeout(j,e),b(a)}return l===void 0&&(l=setTimeout(j,e)),s}return W.cancel=N,W.flush=tt,W}function la(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function n1(t){return!!t&&typeof t=="object"}function i1(t){return typeof t=="symbol"||n1(t)&&Qv.call(t)==Wv}function Qc(t){if(typeof t=="number")return t;if(i1(t))return Xc;if(la(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=la(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(qv,"");var r=Vv.test(t);return r||Gv.test(t)?Kv(t.slice(2),r?2:8):zv.test(t)?Xc:+t}var o1=r1;const So=ei(o1);function s1(t){const e=t.renderRoot.querySelector("input[type='text']");e.value="",xo(t.filterObject),t.requestUpdate()}function a1(t){const e=t.renderRoot.querySelector("input[type='text']");t.filterObject.keys.forEach(r=>{t.filterObject.state[r]=e.value}),t.filterObject.dirty=!0,t.filterObject.stringifiedState=e.value,t.dispatchEvent(new CustomEvent("filter")),e.value===""&&t.reset()}function l1(t){xo(t.filterObject),t.requestUpdate()}function c1(t,e){const[r,n]=t.detail.values;(r!==e.filterObject.state.min||n!==e.filterObject.state.max)&&([e.filterObject.state.min,e.filterObject.state.max]=[r,n],e.filterObject.dirty=!0),e.filterObject.dirty&&(e.filterObject.stringifiedState=`${Yn(r)} - ${Yn(n)}`),e.dispatchEvent(new CustomEvent("filter")),r===e.filterObject.min&&n===e.filterObject.max?e.reset():e.requestUpdate()}function u1(t,e,r){const n=r.filterObject.format==="date",i=r.filterObject.state[t],o=n?Yn.unix(i):i;return Q`<div class="range-${e}">${o}</div>`}function p1(t){h1(-1,t),xo(t.filterObject),t.requestUpdate()}function h1(t,e){e.selectedItems=[],Ja(e),Eh(e)}function _h(t,e){const r=e.selectedItems.indexOf(t);r>=0?e.selectedItems=e.selectedItems.filter((n,i)=>i!==r):e.type==="multiselect"?e.selectedItems=[...e.selectedItems,t]:(e.selectedItems=[t],e.showSuggestions=!1),Ja(e),Eh(e)}function f1(t,e){e.query=t.target.value,e.showSuggestions=!0}function d1(t,e){switch(t.key){case"ArrowDown":e.highlightedIndex=Math.min(e.highlightedIndex+1,e.filteredSuggestions.length-1);break;case"ArrowUp":e.highlightedIndex=Math.max(e.highlightedIndex-1,0);break;case"Enter":e.highlightedIndex>=0&&_h(e.filteredSuggestions[e.highlightedIndex],e);break;case"Escape":e.showSuggestions=!1;break}}function g1(t,e){(t.has("suggestions")||t.has("query"))&&Ja(e)}function y1(t,e){var r;const n=((r=t.filterObject)==null?void 0:r.sort)||((i,o)=>i.localeCompare(o));return e.sort(n).map(i=>i)}function Ja(t){var e,r,n;let i;t.query&&(i=new Xe(t.suggestions,{threshold:.4}).search(t.query).map(o=>o.item)),t.filteredSuggestions=y1(t,i||t.suggestions),(e=t.filterObject)!=null&&e.filterKeys&&(t.filteredSuggestions=(r=t.filterObject)==null?void 0:r.filterKeys.map(o=>`${o}`),t.filterObject.state=(n=t.filterObject)==null?void 0:n.filterKeys.map(o=>`${o}`).reduce((o,s)=>(s in o||(o[s]=void 0),o),t.filterObject.state)),t.highlightedIndex=-1}function Eh(t){Object.keys(t.filterObject.state).forEach(e=>{t.filterObject.state[e]=t.selectedItems.includes(e)}),t.filterObject.stringifiedState=Object.keys(t.filterObject.state).filter(e=>t.filterObject.state[e]).join(", ")||"",t.filterObject.dirty=t.filterObject.stringifiedState.length>0,t.dispatchEvent(new CustomEvent("filter")),t.requestUpdate()}function m1(t){xo(t.filterObject),t.renderRoot.querySelector("eox-itemfilter-spatial-filter").reset(),t.requestUpdate()}function b1(t){t.renderRoot.querySelector("#eox-map").innerHTML="",kh(t)}function v1(t,e){e.filterObject.state.mode=t;const r=new CustomEvent("filter",{detail:{[e.filterObject.key]:{}}});e.dispatchEvent(r)}function kh(t){const e=t.renderRoot.querySelector("#eox-map");e.innerHTML===""&&(e.innerHTML='<eox-map part="map" style="height: 400px"></eox-map>');const r=t.geometry&&w1(t.geometry),n=Fv(t.geometry,r);t.eoxMap=t.renderRoot.querySelector("eox-map"),setTimeout(()=>{t.eoxMap.layers=n;const i=o=>{const s=new CustomEvent("filter",{detail:{geometry:{type:"Polygon",coordinates:o.getGeometry().clone().transform("EPSG:3857","EPSG:4326").getCoordinates()}}});t.dispatchEvent(s)};t.eoxMap.interactions.drawInteraction.on("drawend",o=>{i(o.feature),t.eoxMap.removeInteraction("drawInteraction")}),t.eoxMap.interactions.drawInteraction_modify.on("modifyend",o=>{i(o.features.getArray()[0])})},1e3)}function w1(t){return`data:text/json,${encodeURIComponent(JSON.stringify({type:"FeatureCollection",features:[{type:"Feature",properties:null,geometry:t}]}))}`}var ca;class x1 extends ie{constructor(){super(),ne(this,ca,()=>{a1(this)}),ho(this,"debouncedInputHandler",So(le(this,ca),500,{leading:!0})),this.filterObject={},this.unstyled=!1,this.tabIndex=0}static get properties(){return{filterObject:{attribute:!1,type:Object},tabIndex:{attribute:!1,type:Number},unstyled:{type:Boolean}}}reset(){s1(this)}createRenderRoot(){return this}render(){return Jt(this.filterObject,()=>Q`
        <style></style>
        <div class="text-container">
          <div class="text-container-wrapper">
            <input
              type="text"
              placeholder=${this.filterObject.placeholder}
              data-cy="search"
              class="text-input"
              part="input-search"
              value="${Object.values(this.filterObject.state)[0]}"
              tabindex=${this.tabIndex}
              @input="${this.debouncedInputHandler}"
              @click=${e=>e.stopPropagation()}
            />
          </div>
        </div>
      `)}}ca=new WeakMap;customElements.define("eox-itemfilter-text",x1);class Oh extends ie{constructor(){super(...arguments),this.templates={},this._renderedTemplates={}}setBindingSyntax(e,r){this._startExpression=e,this._endExpression=r;const n=this.escapeRegex(this._startExpression),i=this.escapeRegex(this._endExpression);this._expression=new RegExp(`${n}\\s*([$\\w\\.,'"\\s()\\[\\]]+)\\s*${i}`,"g")}hasTemplate(e){return this.templates&&!!this.templates[e]}renderTemplate(e,r,n){if(!this.hasTemplate(e))return null;n=n||e;const i=Q` <slot name=${n}></slot> `,o={[e]:{...r}};if(this._renderedTemplates.hasOwnProperty(n)){const{slot:l}=this._renderedTemplates[n];this.contains(l)&&this.removeChild(l)}const s=document.createElement("div");return s.slot=n,s.dataset.generated="template",this._renderTemplate(s,this.templates[e],o),this.appendChild(s),this._renderedTemplates[n]={context:o,slot:s},i}getTemplates(){const e={};for(let r=0;r<this.children.length;r++){const n=this.children[r];if(n.nodeName==="RENDER-TEMPLATE"){const i=n;i.dataset.type?e[i.dataset.type]=i:e.default=i,i.templateOrder=r}}return e}_renderTemplate(e,r,n){let i;if(r&&r.childNodes.length){const o=r.cloneNode(!0);i=this.renderNode(o,e,n)}i&&e.appendChild(i)}expandExpressionsAsString(e,r){return e.replace(this.expression,(n,i)=>{const o=this.evalInContext(i||this.trimExpression(n),r);return o?typeof o=="object"?JSON.stringify(o):o.toString():""})}get expression(){return this._expression||this.setBindingSyntax("{{","}}"),this._expression}escapeRegex(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}evalInContext(e,r){r={...r};const n=new Function("with(this) { return "+e+";}");let i;try{i=n.call(r)}catch{}return i}trimExpression(e){return e=e.trim(),e.startsWith(this._startExpression)&&e.endsWith(this._endExpression)&&(e=e.substr(this._startExpression.length,e.length-this._startExpression.length-this._endExpression.length),e=e.trim()),e}renderNode(e,r,n){if(e.nodeName==="#text")return e.textContent=this.expandExpressionsAsString(e.textContent,n),e;if(e.nodeName==="TEMPLATE")return e.$parentTemplateContext=n,e;for(let i=0;i<e.childNodes.length;i++){const o=e.childNodes[i];this.renderNode(o,r,n)}return e}firstUpdated(){this.templates=this.getTemplates()}}function S1(t,e,r){return t.filter(n=>{const i=n[r.config.aggregateResults];let o;return r.filters[r.config.aggregateResults]&&(o=Object.keys(r.filters[r.config.aggregateResults]).filter(s=>r.filters[r.config.aggregateResults].state[s])),(!(o!=null&&o.length)||o.includes(e))&&Array.isArray(i)?i.includes(e):i===e})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const jh={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},Mh=t=>(...e)=>({_$litDirective$:t,values:e});class Ph{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,r,n){this._$Ct=e,this._$AM=r,this._$Ci=n}_$AS(e,r){return this.update(e,r)}update(e,r){return this.render(...r)}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{I:$1}=bf,tu=()=>document.createComment(""),Ln=(t,e,r)=>{var n;const i=t._$AA.parentNode,o=e===void 0?t._$AB:e._$AA;if(r===void 0){const s=i.insertBefore(tu(),o),l=i.insertBefore(tu(),o);r=new $1(s,l,t,t.options)}else{const s=r._$AB.nextSibling,l=r._$AM,a=l!==t;if(a){let u;(n=r._$AQ)==null||n.call(r,t),r._$AM=t,r._$AP!==void 0&&(u=t._$AU)!==l._$AU&&r._$AP(u)}if(s!==o||a){let u=r._$AA;for(;u!==s;){const h=u.nextSibling;i.insertBefore(u,o),u=h}}}return r},dr=(t,e,r=t)=>(t._$AI(e,r),t),A1={},_1=(t,e=A1)=>t._$AH=e,E1=t=>t._$AH,vs=t=>{var e;(e=t._$AP)==null||e.call(t,!1,!0);let r=t._$AA;const n=t._$AB.nextSibling;for(;r!==n;){const i=r.nextSibling;r.remove(),r=i}};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const eu=(t,e,r)=>{const n=new Map;for(let i=e;i<=r;i++)n.set(t[i],i);return n},k1=Mh(class extends Ph{constructor(t){if(super(t),t.type!==jh.CHILD)throw Error("repeat() can only be used in text expressions")}dt(t,e,r){let n;r===void 0?r=e:e!==void 0&&(n=e);const i=[],o=[];let s=0;for(const l of t)i[s]=n?n(l,s):s,o[s]=r(l,s),s++;return{values:o,keys:i}}render(t,e,r){return this.dt(t,e,r).values}update(t,[e,r,n]){const i=E1(t),{values:o,keys:s}=this.dt(e,r,n);if(!Array.isArray(i))return this.ut=s,o;const l=this.ut??(this.ut=[]),a=[];let u,h,f=0,m=i.length-1,b=0,x=o.length-1;for(;f<=m&&b<=x;)if(i[f]===null)f++;else if(i[m]===null)m--;else if(l[f]===s[b])a[b]=dr(i[f],o[b]),f++,b++;else if(l[m]===s[x])a[x]=dr(i[m],o[x]),m--,x--;else if(l[f]===s[x])a[x]=dr(i[f],o[x]),Ln(t,a[x+1],i[f]),f++,x--;else if(l[m]===s[b])a[b]=dr(i[m],o[b]),Ln(t,i[f],i[m]),m--,b++;else if(u===void 0&&(u=eu(s,b,x),h=eu(l,f,m)),u.has(l[f]))if(u.has(l[m])){const _=h.get(s[b]),T=_!==void 0?i[_]:null;if(T===null){const j=Ln(t,i[f]);dr(j,o[b]),a[b]=j}else a[b]=dr(T,o[b]),Ln(t,i[f],T),i[_]=null;b++}else vs(i[m]),m--;else vs(i[f]),f++;for(;b<=x;){const _=Ln(t,a[x+1]);dr(_,o[b]),a[b++]=_}for(;f<=m;){const _=i[f++];_!==null&&vs(_)}return this.ut=s,_1(t,a),Ge}});/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class ua extends Ph{constructor(e){if(super(e),this.it=vt,e.type!==jh.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===vt||e==null)return this._t=void 0,this.it=e;if(e===Ge)return e;if(typeof e!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.it)return this._t;this.it=e;const r=[e];return r.raw=r,this._t={_$litType$:this.constructor.resultType,strings:r,values:[]}}}ua.directiveName="unsafeHTML",ua.resultType=1;const ws=Mh(ua);function O1(t,e){return Q`
    <details
      class="details-results"
      @toggle=${e.handleAccordion}
      ?open=${e.config.expandResults||vt}
    >
      <summary>
        <span class="title">
          ${t}
          <span class="count"
            >${e.aggregateResults(e.results,t).length}</span
          >
        </span>
      </summary>
      <div>
        ${Lh(t,e)}
      </div>
    </details>
  `}function Lh(t,e){const r=e.results,n=t?e.aggregateResults(r,t):r,i=e.config,o=s=>{var l;return((l=e.selectedResult)==null?void 0:l[i.idProperty])===s[i.idProperty]?"highlighted":vt};return Q`
    <ul>
      ${k1(n,s=>s.id,s=>Q`
          <li class=${o(s)}>
            <span
              id="${s.id}"
              @click=${()=>{e.selectedResult===s?e.selectedResult=null:e.selectedResult=s,e.dispatchEvent(new CustomEvent("result",{detail:e.selectedResult}))}}
            >
              ${Jt(e.hasTemplate("result"),()=>e.renderTemplate("result",s,`result-${s.id}`),()=>Q`
                  ${Jt(i.subTitleProperty,()=>Q`
                      <div class="title-container">
                        <span class="title"
                          >${ws(s[i.titleProperty])}</span
                        >
                        <span class="subtitle"
                          >${ws(s[i.subTitleProperty])}</span
                        >
                      </div>
                    `,()=>Q`
                      <span class="title"
                        >${ws(s[i.titleProperty])}</span
                      >
                    `)}
                `)}
            </span>
          </li>
        `)}
    </ul>
  `}var Rn,pa,Ch;class j1 extends Oh{constructor(){super(),ne(this,Rn),this.config=null,this.filters={},this.resultAggregation=[],this.selectedResult=null}static get properties(){return{config:{attribute:!1,type:Object},results:{state:!0,type:Object},filters:{state:!0,type:Object},resultAggregation:{attribute:!1,type:Array},selectedResult:{state:!0,type:Object}}}aggregateResults(e,r){return S1(e,r,this)}createRenderRoot(){return this}handleAccordion(e){wh(e,this.config,this)}render(){return Q`
      <section id="section-results">
        <div>
          <h6 style="padding: 8px 0px;">Results</h6>
        </div>
        <div id="container-results" class="scroll">
          ${Jt(this.results.length<1,()=>Q`<small class="no-results">No matching items</small>`,()=>vt)}
          <ul id="results" part="results">
            ${Jt(this.config.aggregateResults,()=>fo(this.resultAggregation.filter(e=>this.aggregateResults(this.results,e).length),e=>Q`${Jt(this.aggregateResults(this.results,e).length===1&&this.config.autoSpreadSingle,()=>Q`<div style="margin-left: -8px">
                          ${pt(this,Rn,pa).call(this,e)}
                        </div>`,()=>pt(this,Rn,Ch).call(this,e))}`),()=>pt(this,Rn,pa).call(this))}
          </ul>
        </div>
      </section>
    `}}Rn=new WeakSet,pa=function(t){return Lh(t,this)},Ch=function(t){return O1(t,this)};customElements.define("eox-itemfilter-results",j1);const M1=`input[type="checkbox"] { appearance: none; -webkit-appearance: none; margin: 0; cursor: pointer; display: flex; flex-direction: row; align-items: center; width: 24px; height: 24px;}input[type="checkbox"]:after { display: block; content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Echeckbox-blank-outline%3C/title%3E%3Cpath d='M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z' /%3E%3C/svg%3E"); width: 20px; height: 20px; margin-right: 4px;}input[type="checkbox"]:checked:after { content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Echeckbox-marked%3C/title%3E%3Cpath d='M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z' /%3E%3C/svg%3E");}`,P1=`input[type="radio"] { appearance: none; -webkit-appearance: none; margin: 0; cursor: pointer; display: flex; flex-direction: row; align-items: center; width: 24px; height: 24px;}label span { font-size: small;}input[type="radio"]:after { display: block; content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Eradiobox-blank%3C/title%3E%3Cpath d='M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z' /%3E%3C/svg%3E"); width: 20px; height: 20px; margin-right: 4px;}input[type="radio"]:checked:after { content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Eradiobox-marked%3C/title%3E%3Cpath d='M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7Z' /%3E%3C/svg%3E");}`;var Tn,Rh,Th,Ih;class Dh extends ie{constructor(){super(),ne(this,Tn),ho(this,"debouncedInputHandler",So(pt(this,Tn,Ih),500,{leading:!0})),this.filterObject={},this.suggestions=[],this.selectedItems=[],this.query="",this.showSuggestions=!1,this.highlightedIndex=-1,this.filteredSuggestions=[],this.type="select",this.unstyled=!1,this.tabIndex=0,this.inlineMode=!1}updated(e){g1(e,this)}reset(){p1(this)}firstUpdated(){this.filterObject.state&&(this.selectedItems=Object.keys(this.filterObject.state).map(e=>this.filterObject.state[e]?e:null).filter(e=>!!e),this.filterObject.stringifiedState=this.selectedItems.join(", ")||"",this.requestUpdate())}render(){const e=this.type.includes("multi")?"checkbox":"radio",r=this.filteredSuggestions.length>5?"select-overflow":vt;return Q`
      <style>
        ${!this.unstyled&&Qn}
        ${!this.unstyled&&M1}
        ${!this.unstyled&&P1}
      </style>
      ${Jt(this.suggestions.length>10,()=>Q`<div class="autocomplete-container">
          <div class="autocomplete-container-wrapper">
            <input
              autocomplete="off"
              tabindex=${this.tabIndex}
              class="autocomplete-input"
              type="text"
              .value=${this.query}
              placeholder="${this.filterObject.placeholder||""}"
              @input=${pt(this,Tn,Rh)}
              @keydown=${pt(this,Tn,Th)}
              @blur=${()=>this.showSuggestions=!1}
              @focus=${()=>this.showSuggestions=!0}
            />
          </div>
        </div>`)}
      <div class="select-container ${r}">
        <ul class="${this.type}">
          ${this.filteredSuggestions.map(n=>Q`
              <li
                data-identifier="${n.toString().toLowerCase()}"
                data-title="${n}"
              >
                <label>
                  <input
                    type="${e}"
                    name=${n}
                    .checked=${this.selectedItems.includes(n)}
                    @change=${()=>this.debouncedInputHandler(n)}
                    @keydown=${i=>{i.key===" "&&this.inlineMode&&this.debouncedInputHandler(n)}}
                    tabindex=${this.tabIndex+1}
                  />
                  <span class="title">${n}</span>
                </label>
              </li>
            `)}
        </ul>
      </div>
    `}}Tn=new WeakSet,Rh=function(t){f1(t,this)},Th=function(t){d1(t,this)},Ih=function(t){_h(t,this)},ho(Dh,"properties",{filterObject:{attribute:!1,type:Object},suggestions:{attribute:!1,type:Array},selectedItems:{state:!0,type:Array},query:{state:!0,type:String},showSuggestions:{state:!0,type:Boolean},highlightedIndex:{state:!0,type:Number},filteredSuggestions:{state:!0,type:Array},type:{attribute:!0,type:String},unstyled:{type:Boolean},tabIndex:{attribute:!1,type:Number},inlineMode:{attribute:"inline-mode",type:Boolean}});customElements.define("eox-itemfilter-select",Dh);(()=>{var t=Object.defineProperty,e=Math.pow,r=(p,y,$)=>y in p?t(p,y,{enumerable:!0,configurable:!0,writable:!0,value:$}):p[y]=$,n=(p,y,$)=>(r(p,typeof y!="symbol"?y+"":y,$),$),i=(p,y)=>` ${y&&y.length>0?y.map($=>`<link rel="stylesheet" href="${$}" />`).join(""):""} <style> ${p} </style> <div class="range-slider-box"> <div class="row"> <div id="range-slider" class="range-slider"> <div class="container"> <div class="panel"></div> <div class="panel-fill"></div> <div class="container"> <div class="pointer" tabindex="0" role="slider"> <div class="pointer-shape"></div> </div> </div> </div> </div> </div> </div>`,o=":host{--width:300px;--height:.25rem;--opacity:.4;--panel-bg:#cbd5e1;--panel-bg-hover:#94a3b8;--panel-bg-fill:#475569;--panel-bg-border-radius:1rem;--pointer-width:1rem;--pointer-height:1rem;--pointer-bg:#fff;--pointer-bg-hover:#dcdcdc;--pointer-bg-focus:#dcdcdc;--pointer-shadow:0 0 2px rgba(0,0,0,0.8);--pointer-shadow-hover:0 0 2px #000;--pointer-shadow-focus:var(--pointer-shadow-hover);--pointer-border:1px solid hsla(0,0%,88%,0.5);--pointer-border-hover:1px solid #94a3b8;--pointer-border-focus:var(--pointer-border-hover);--pointer-border-radius:100%;--animate-onclick:.3s}:host{max-width:100%}.range-slider-box{display:flex;position:relative;flex-direction:column}.range-slider{position:relative;width:var(--width,100%);height:var(--height,0.25rem);touch-action:none;max-width:100%;box-sizing:border-box;cursor:pointer}.row{width:100%;display:flex;align-items:center}.range-slider.disabled{opacity:var(--opacity,0.4);cursor:default}.pointer.disabled{-webkit-filter:brightness(0.8);filter:brightness(0.8);cursor:default}.range-slider *{box-sizing:border-box}.container{position:absolute;width:100%;height:100%}.panel{position:absolute;z-index:10;width:100%;height:100%;background:var(--panel-bg,#2d4373);border-radius:var(--panel-bg-border-radius,1rem);overflow:hidden;transition:.3s all ease}.panel-fill{background:var(--panel-bg-fill,#000);border-radius:var(--panel-bg-border-radius,1rem);overflow:hidden;height:100%;position:absolute;z-index:10}.panel:hover{background:var(--panel-bg-hover,#5f79b7)}.disabled .panel:hover{background:var(--panel-bg,#5f79b7)}.pointer{position:absolute;z-index:20;outline:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.pointer-shape{background:var(--pointer-bg,#fff);background-size:contain;box-shadow:var(--pointer-shadow);border:var(--pointer-border);border-radius:var(--pointer-border-radius,100%);-webkit-transform:translateX(-50%);transform:translateX(-50%);width:var(--pointer-width,15px);height:var(--pointer-height,15px);transition:.3s all ease}.pointer-shape:hover{background:var(--pointer-bg-hover,#fff);background-size:contain;border:var(--pointer-border-hover);box-shadow:var(--pointer-shadow-hover)}.disabled .pointer-shape:hover{background:var(--pointer-bg,#fff);background-size:contain;border:var(--pointer-border);box-shadow:var(--pointer-shadow)}.pointer:focus .pointer-shape{background:var(--pointer-bg-focus,#fff);background-size:contain;border:var(--pointer-border-focus);box-shadow:var(--pointer-shadow-focus)}.disabled .pointer:focus .pointer-shape{background:var(--pointer-bg,#fff);background-size:contain;border:var(--pointer-border);box-shadow:var(--pointer-shadow)}.type-vertical .range-slider{--width:.25rem;--height:300px;max-height:100%}.type-vertical .range-slider .pointer{left:50%}.type-vertical .range-slider .panel-fill{width:100%}.type-vertical.range-slider-box{flex-direction:row}.type-vertical .row{flex-direction:column}.animate-on-click .pointer,.animate-on-click .panel-fill{transition:all var(--animate-onclick)}.range-dragging .panel-fill{cursor:move}",s="pointers-overlap",l="pointers-min-distance",a="pointers-max-distance",u="range-dragging",h="data",f="min",m="max",b="step",x="round",_="type",T="theme",j="rtl",H="btt",N="disabled",tt="keyboard-disabled",W="mousewheel-disabled",V="slider-width",X="slider-height",ht="slider-radius",mt="slider-bg",ft="slider-bg-hover",nt="slider-bg-fill",Rt="pointer-width",_t="pointer-height",D="pointer-radius",k="pointer-bg",E="pointer-bg-hover",F="pointer-bg-focus",M="pointer-shadow",J="pointer-shadow-hover",Y="pointer-shadow-focus",dt="pointer-border",$t="pointer-border-hover",kt="pointer-border-focus",Ot="animate-onclick",Ht="css-links",Mt="vertical",Wt="horizontal",at=(p,y,$,w,O)=>{let q=y-p;return q===0?$:(w-$)*(O-p)/q+$},Pt=p=>!isNaN(parseFloat(p))&&isFinite(p),ot=(p,y)=>Pt(p)?Number(p):y,Lt=(p,y)=>y===0?0:Math.round(p/y)*y,ve=(p,y=1/0)=>{if(y===1/0)return p;let $=e(10,y);return Math.round(p*$)/$},At=p=>p==null?!1:typeof p=="boolean"?p:p.trim().toLowerCase()==="true",_o=(p,y)=>{p.dispatchEvent(new CustomEvent("onPointerClicked",{detail:{$pointer:y}}))},ni=(p,y)=>{p.dispatchEvent(new CustomEvent("onMouseDown",{detail:{nativeEvent:y}}))},ii=(p,y)=>{p.dispatchEvent(new CustomEvent("onMouseUp",{detail:{nativeEvent:y}}))},oi=(p,y)=>{p.dispatchEvent(new CustomEvent("onKeyDown",{detail:{nativeEvent:y}}))},Eo=(p,y)=>{if(!y||y.length<=0)return;let $=y.map(O=>Pt(O)?ot(O,O):O),w={values:$||[]};w.value=$[0],w.value0=$[0],w.value1=$[0];for(let O=1;O<$.length;O++)w[`value${O+1}`]=$[O];p.dispatchEvent(new CustomEvent("change",{detail:w}))},pn=(p,y,$)=>{let w=0,O,q,z,P,C=!1,et=(G,bt,Ct,jt,Et,xt)=>{let qt=w;Ct!==void 0&&G>Ct&&(G=Ct),bt!==void 0&&G<bt&&(G=bt),w=G;let zt=w;return(jt===Mt&&xt||jt===Wt&&Et)&&(zt=100-zt),jt===Mt?y.style.top=`${zt}%`:y.style.left=`${zt}%`,qt!==w},st=G=>G===y||y.contains(G),U=(G,bt,Ct,jt)=>{O=G,q=bt,z=Ct,P=jt},lt=G=>{C=G,y.classList.toggle("disabled",C),C?y.setAttribute("aria-disabled","true"):y.hasAttribute("aria-disabled")&&y.removeAttribute("aria-disabled")},Qt=(G,bt)=>{bt==null?y.removeAttribute(G):y.setAttribute(G,bt)},It=G=>y.getAttribute(G),B=G=>{if(!C){switch(G.key){case"ArrowLeft":{G.preventDefault(),typeof O=="function"&&O($);break}case"ArrowRight":{G.preventDefault(),typeof q=="function"&&q($);break}case"ArrowUp":{G.preventDefault(),typeof z=="function"&&z($);break}case"ArrowDown":{G.preventDefault(),typeof P=="function"&&P($);break}}oi(p,G)}},it=()=>{C||_o(p,y)};return y.className=`pointer pointer-${$}`,y.addEventListener("keydown",B),y.addEventListener("click",it),{$pointer:y,get percent(){return w},get disabled(){return C},set disabled(G){lt(G)},updatePosition:et,isClicked:st,setCallbacks:U,setAttr:Qt,getAttr:It,destroy:()=>{y.removeEventListener("keydown",B),y.removeEventListener("click",it),y.remove()}}},ko=p=>{if(p==null)return;if(Array.isArray(p))return p;if(p.trim()==="")return;let y=p.split(","),$=[],w=!0;for(let O=0;O<y.length;O++){let q=y[O].trim();q!==""&&($.push(q),Pt(q)||(w=!1))}return w?$.map(O=>Number(O)):$},Oo=(p,y)=>y?y.findIndex($=>$===p||$.toString().trim()===p.toString().trim()):-1,jo=p=>({updatePosition:(y,$,w,O)=>{if($.length<=0)return;let q=$.length===1,z=$[0],P=$[$.length-1];y===Mt?(p.style.removeProperty("width"),p.style.removeProperty("right"),p.style.removeProperty("left"),q?p.style.height=`${z}%`:p.style.height=`${Math.abs(z-P)}%`,O?(p.style.bottom="0%",q?p.style.top="auto":p.style.top=`${Math.min(100-P,100-z)}%`):(p.style.bottom="auto",q?p.style.top="0%":p.style.top=`${Math.min(z,P)}%`)):(p.style.removeProperty("height"),p.style.removeProperty("top"),p.style.removeProperty("bottom"),q?p.style.width=`${z}%`:p.style.width=`${Math.abs(z-P)}%`,w?(p.style.right="0%",q?p.style.left="auto":p.style.left=`${Math.min(100-P,100-z)}%`):(p.style.right="auto",q?p.style.left="0%":p.style.left=`${Math.min(z,P)}%`))}}),si="--animate-onclick",Mo="--width",hn="--height",Po="--panel-bg-border-radius",Lo="--panel-bg",Co="--panel-bg-hover",Ro="--panel-bg-fill",To="--pointer-width",kr="--pointer-height",fn="--pointer-border-radius",ai="--pointer-bg",li="--pointer-bg-hover",pe="--pointer-bg-focus",Ne="--pointer-shadow",Io="--pointer-shadow-hover",Or="--pointer-shadow-focus",ci="--pointer-border",Do="--pointer-border-hover",Fo="--pointer-border-focus",nr=(p,y,$)=>{let w=new Map;for(let O of p.attributes){let q=O.nodeName.trim().toLowerCase();if(!y.test(q))continue;let z=q.replace(/\D/g,"").trim(),P=z===""||z==="0"||z==="1"?0:ot(z,0)-1,C=$&&typeof $=="function"?$(O.value):O.value;w.set(P,C)}return w},Bo=p=>{if(!p)return null;let y=p.getAttribute(Ht);if(!y)return null;let $=y.split(";"),w=[];for(let O of $)O.trim()!==""&&w.push(O.trim());return w},jr=[[Mo,V,"sliderWidth",null],[hn,X,"sliderHeight",null],[Po,ht,"sliderRadius",null],[Lo,mt,"sliderBg",null],[Co,ft,"sliderBgHover",null],[Ro,nt,"sliderBgFill",null],[To,Rt,"pointer#Width",/^pointer([0-9]*)-width$/],[kr,_t,"pointer#Height",/^pointer([0-9]*)-height$/],[fn,D,"pointer#Radius",/^pointer([0-9]*)-radius$/],[ai,k,"pointer#Bg",/^pointer([0-9]*)-bg$/],[li,E,"pointer#BgHover",/^pointer([0-9]*)-bg-hover$/],[pe,F,"pointer#BgFocus",/^pointer([0-9]*)-bg-focus$/],[Ne,M,"pointer#Shadow",/^pointer([0-9]*)-shadow$/],[Io,J,"pointer#ShadowHover",/^pointer([0-9]*)-shadow-hover$/],[Or,Y,"pointer#ShadowFocus",/^pointer([0-9]*)-shadow-focus$/],[ci,dt,"pointer#Border",/^pointer([0-9]*)-border$/],[Do,$t,"pointer#BorderHover",/^pointer([0-9]*)-border-hover$/],[Fo,kt,"pointer#BorderFocus",/^pointer([0-9]*)-border-focus$/]],ir=(p,y,$)=>{let w=null,O=[],q=new Map,z=(B,it=y)=>{let G=[...it.classList];for(let bt of G)bt.startsWith(B)&&y.classList.remove(bt)},P=()=>{z("shape");let B=y.querySelectorAll(".pointer");for(let it of B)z("shape",it)},C=B=>{w=B,z("theme-"),typeof B=="string"&&y.classList.add(`theme-${B}`)},et=()=>{if(P(),!(O.length<=0)){y.classList.add("shape",`shape-${O[0]}`);for(let B=1;B<O.length;B++){let it=O[B];if(!it)continue;let G=y.querySelector(`.pointer-${B}`);!G||G.classList.add("shape",`shape-${it}`)}}},st=(B,it)=>{O[B]=it,et()},U=()=>{P();let B=nr(p,/^pointer([0-9]*)-shape$/);if(!(B.size<=0)){for(let it of B){let G=it[0];O[G]=it[1]}et()}},lt=(B,it)=>`${B}-${it}`,Qt=(B,it,G)=>{let bt=$[G];if(!bt)return;let Ct=G===0?y:bt.$pointer;if(it==null){q.has(lt(B,G))&&q.delete(lt(B,G)),Ct.style.removeProperty(B);return}q.set(lt(B,G),it),Ct.style.setProperty(B,it)},It=(B,it)=>q.get(lt(B,it));return(()=>{for(let B of jr){let[it,G,bt,Ct]=B;if(Ct){let Et=nr(p,Ct);for(let xt of Et){let qt=xt[0],zt=xt[1];Qt(it,zt,qt)}}else{let Et=p.getAttribute(G);Qt(it,Et,0)}let jt=[];if(bt.indexOf("#")===-1)jt.push([bt,0]);else{jt.push([bt.replace("#",""),0]),jt.push([bt.replace("#","0"),0]),jt.push([bt.replace("#","1"),0]);for(let Et=1;Et<$.length;Et++)jt.push([bt.replace("#",(Et+1).toString()),Et])}for(let Et of jt)try{let xt=Et[0],qt=Et[1];Object.prototype.hasOwnProperty.call(p,xt)||Object.defineProperty(p,xt,{get(){return It(it,qt)},set:zt=>{Qt(it,zt,qt)}})}catch(xt){console.error(xt)}}C(p.getAttribute(T)),U()})(),{setStyle:Qt,getStyle:It,get theme(){return w},set theme(B){C(B)},get pointerShapes(){return O},setPointerShape:st}},we="animate-on-click",Mr="range-dragging",dn=(p,y,$,w)=>{let O=[],q=st=>{for(let U of O)U.update&&typeof U.update=="function"&&U.update(st)},z=()=>{for(let st of O)st.destroy&&typeof st.destroy=="function"&&st.destroy()},P=(st,U)=>{for(let lt of O)lt.onAttrChange&&typeof lt.onAttrChange=="function"&&lt.onAttrChange(st,U)},C=st=>{if(st.gettersAndSetters){for(let U of st.gettersAndSetters)if(!(!U.name||!U.attributes))try{Object.prototype.hasOwnProperty.call(p,U.name)||Object.defineProperty(p,U.name,U.attributes)}catch(lt){console.error("defineSettersGetters error:",lt)}}},et=st=>{var U;if(!st.css)return;let lt=(U=p.shadowRoot)==null?void 0:U.querySelector("style");!lt||(lt.innerHTML+=st.css)};return{init:()=>{if(window.tcRangeSliderPlugins)for(let st of window.tcRangeSliderPlugins){let U=st();O.push(U),U.init&&typeof U.init=="function"&&(U.init(p,y,$,w),C(U),et(U))}},update:q,onAttrChange:P,destroy:z}},or=10,ui=20,No=(p,y)=>{let $=new Map,w=/^value([0-9]*)$/;for(let P of p.attributes){let C=P.nodeName.trim().toLowerCase();if(!w.test(C))continue;let et=C.replace("value","").trim(),st=et===""||et==="0"||et==="1"?0:ot(et,0)-1,U=Pt(P.value)?ot(P.value,0):P.value;$.set(st,U)}let O=Math.max(...Array.from($.keys())),q=[];q.push([pn(p,y,0),$.get(0)]);let z=y;for(let P=1;P<=O;P++){let C=y.cloneNode(!0);z.after(C),z=C,q.push([pn(p,C,P),$.get(P)])}return q},pi=(p,y,$,w,O,q,z)=>{try{Object.defineProperty(p,w,{configurable:!0,get(){if(!y)return;let P=y.pointers[$];if(!P)return;let C=y.getTextValue(P.percent);return Pt(C)?ot(C,C):C},set:P=>{y.pointers[$]?y==null||y.setValue(P,$):y==null||y.addPointer(P)}}),Object.defineProperty(p,O,{configurable:!0,get(){var P,C;return(C=(P=y==null?void 0:y.pointers[$])==null?void 0:P.getAttr("aria-label"))!=null?C:void 0},set:P=>{!y||y.setAriaLabel($,P)}}),Object.defineProperty(p,q,{configurable:!0,get(){var P,C;return(C=(P=y==null?void 0:y.styles)==null?void 0:P.pointerShapes[$])!=null?C:null},set:P=>{!y||!y.styles||y.styles.setPointerShape($,P)}}),Object.defineProperty(p,z,{configurable:!0,get(){var P;return(P=y==null?void 0:y.pointers[$].disabled)!=null?P:!1},set:P=>{if(!y)return;let C=y==null?void 0:y.pointers[$];!C||(C.disabled=P)}})}catch(P){console.error(P)}},Uo=(p,y)=>{let $=[["value","ariaLabel","pointerShape","pointerDisabled",0],["value0","ariaLabel0","pointerShape0","pointer0Disabled",0],["value1","ariaLabel1","pointerShape1","pointer1Disabled",0]];for(let w=2;w<or;w++)$.push([`value${w}`,`ariaLabel${w}`,`pointer${w}Shape`,`pointer${w}Disabled`,w-1]);for(let w of $)pi(p,y,w[4],w[0],w[1],w[2],w[3])},hi=(p,y,$)=>{var w;let O=(w=$.shadowRoot)==null?void 0:w.querySelector(".container");if(O)for(let q of p)y?O.prepend(q.$pointer):O.append(q.$pointer)},Pr=(p,y)=>{if(!(!y||p.length<=1)){for(let $ of p)$.$pointer.style.zIndex=ui.toString();y.$pointer.style.zIndex=(ui*2).toString()}},sr=0,Ue=100,Xt=2,fi="0.3s",Ho=(p,y,$)=>{let w=$.map(g=>g[0]),O=null,q=null,z=null,P=null,C=sr,et=Ue,st,U,lt=Wt,Qt=Xt,It=!1,B=!1,it=!1,G=0,bt=1/0,Ct=!1,jt,Et,xt=!1,qt=!1,zt=!1,xe=fi,di=[],yn=g=>{xt||(g.preventDefault&&g.preventDefault(),Me(g),window.addEventListener("mousemove",Me),window.addEventListener("mouseup",Lr),ni(p,g))},Lr=g=>{xt||(jt=void 0,Et=void 0,window.removeEventListener("mousemove",Me),window.removeEventListener("mouseup",Lr),xe&&y.classList.add(we),ii(p,g))},zo=(g,S)=>{if(w.length<=0)return;if(w.length===1)return w[0].isClicked(g)&&xe&&y.classList.remove(we),w[0];let R=Go(g);if(Ct){let ut=S,Kt=cr(ut);Kt!==void 0&&(ut=Lt(ut,Kt)),R?(jt=ut,Et=0,xe&&y.classList.remove(we)):jt!==void 0&&(Et=ut-jt,jt=ut)}if(!Vo(g)&&!R){for(let ut of w)if(!(!ut.isClicked(g)||ut.disabled))return xe&&y.classList.remove(we),ut;for(let ut of w)if(O===ut)return ut}let rt=1/0,gt=null;for(let ut of w){if(ut.disabled)continue;let Kt=Math.abs(S-ut.percent);Kt<rt&&(rt=Kt,gt=ut)}return gt},Cr=()=>w.findIndex(g=>O===g&&!g.disabled),Me=g=>{let S;if(lt===Mt){let{height:rt,top:gt}=y.getBoundingClientRect(),ut=g.type.indexOf("mouse")!==-1?g.clientY:g.touches[0].clientY;S=Math.min(Math.max(0,ut-gt),rt)*100/rt}else{let{width:rt,left:gt}=y.getBoundingClientRect(),ut=g.type.indexOf("mouse")!==-1?g.clientX:g.touches[0].clientX;S=Math.min(Math.max(0,ut-gt),rt)*100/rt}if((It||B)&&(S=100-S),O=zo(g.target,S),O&&Pr(w,O),Ct&&w.length>1&&Et!==void 0){let rt=w[0],gt=w[w.length-1],ut=rt.percent+Et<0,Kt=gt.percent+Et>100;if(ut||Kt)return;for(let Te=0;Te<w.length;Te++)Tt(Te,w[Te].percent+Et);return}let R=Cr();R!==-1&&(Tt(R,S),O==null||O.$pointer.focus())},Rr=g=>{if(xt||document.activeElement!==p||O!=null&&O.disabled)return;g.stopPropagation(),g.preventDefault();let S=g.deltaY<0,R=It||B,rt=S?!R:R,gt=Cr();gt!==-1&&(rt?ar(gt,w[gt].percent):lr(gt,w[gt].percent))},gi=g=>{xt||qt||(lt===Mt?B?Tt(g,100):Tt(g,0):It?lr(g,w[g].percent):ar(g,w[g].percent))},yi=g=>{xt||qt||(lt===Mt?B?Tt(g,0):Tt(g,100):It?ar(g,w[g].percent):lr(g,w[g].percent))},mi=g=>{xt||qt||(lt===Mt?B?lr(g,w[g].percent):ar(g,w[g].percent):It?Tt(g,100):Tt(g,0))},bi=g=>{xt||qt||(lt===Mt?B?ar(g,w[g].percent):lr(g,w[g].percent):It?Tt(g,0):Tt(g,100))},Vo=g=>g.classList.contains("panel"),Go=g=>g.classList.contains("panel-fill"),ar=(g,S)=>{if(S===void 0)return;let R=cr(S);R==null&&(R=1),S-=R,S<0&&(S=0),Tt(g,S)},lr=(g,S)=>{if(S===void 0)return;let R=cr(S);R==null&&(R=1),S+=R,S>100&&(S=100),Tt(g,S)},Pe=()=>{!P||P.update({percents:wi(),values:xi(),$pointers:bn(),min:ur(),max:Si(),data:vn(),step:mn(),round:Ir(),type:wn(),textMin:Tr(),textMax:Le(),rightToLeft:he(),bottomToTop:Sn(),pointersOverlap:hr(),pointersMinDistance:Dr(),pointersMaxDistance:xn(),rangeDragging:te(),disabled:$n(),keyboardDisabled:pr(),mousewheelDisabled:Br()})},vi=()=>{Pe()},Ko=g=>{if(!(it||w.length<=1||et===C))if(g===0){let S=bt*100/(et-C);return Math.max(0,w[g+1].percent-S)}else{let S=G*100/(et-C);return Math.min(w[g-1].percent+S,100)}},Jo=g=>{if(!(it||w.length<=1||et===C))if(g===w.length-1){let S=bt*100/(et-C);return Math.min(w[g-1].percent+S,100)}else{let S=G*100/(et-C);return Math.max(0,w[g+1].percent-S)}},cr=g=>{let S;if(typeof st=="function"){let R=at(0,100,C,et,g);S=st(R,g)}else S=st;if(Pt(S)){let R=et-C;return S=R===0?0:S*100/R,S}},He=g=>{if(g===void 0)return;let S=at(0,100,C,et,g);return U!==void 0?U[Math.round(S)]:ve(S,Qt)},Tr=()=>U!==void 0?U[C]:C,Le=()=>U!==void 0?U[et]:et,mn=()=>st,We=g=>{var S;return g<=0||it?Tr():(S=He(w[g-1].percent))!=null?S:""},Se=g=>{var S;return w.length<=1||g>=w.length-1||it?Le():(S=He(w[g+1].percent))!=null?S:""},wi=()=>w.map(g=>g.percent),xi=()=>w.map(g=>He(g.percent)),bn=()=>w.map(g=>g.$pointer),ur=()=>C,Si=()=>et,vn=()=>U,wn=()=>lt,Ir=()=>Qt,Dr=()=>G,xn=()=>bt,Fr=g=>di[g],he=()=>It,Sn=()=>B,$n=()=>xt,pr=()=>qt,Br=()=>zt,hr=()=>it,te=()=>Ct,Tt=(g,S)=>{if(S===void 0)return;let R=cr(S);R!==void 0&&(S=Lt(S,R));let rt=w[g];if(!rt)return;let gt=rt.updatePosition(S,Ko(g),Jo(g),lt,It,B);q==null||q.updatePosition(lt,w.map(ut=>ut.percent),It,B),Pe();for(let ut of w){let Kt=He(ut.percent);Kt!==void 0&&(ut.setAttr("aria-valuenow",Kt.toString()),ut.setAttr("aria-valuetext",Kt.toString()))}An(),gt&&Eo(p,w.map(ut=>He(ut.percent)))},ae=()=>{for(let g=0;g<w.length;g++)Tt(g,w[g].percent)},$i=(g,S)=>{C=U!==void 0?0:ot(g,sr),et=U!==void 0?U.length-1:ot(S,Ue),Ce(C),Re(et)},An=()=>{var g,S;for(let R=0;R<w.length;R++){let rt=w[R];rt.setAttr("aria-valuemin",((g=We(R))!=null?g:"").toString()),rt.setAttr("aria-valuemax",((S=Se(R))!=null?S:"").toString())}},Ce=g=>{C=ot(g,sr),C>et&&(et=C+Ue),ae()},Re=g=>{et=ot(g,Ue),et<C&&(et=C+Ue),ae()},Nr=g=>{it=!0;for(let S=0;S<g.length;S++)Ur(g[S],S);it=!1;for(let S=0;S<g.length;S++)Ur(g[S],S)},Ur=(g,S)=>{let R;U!==void 0?(R=g==null?0:Oo(g,U),R===-1&&(R=0)):(R=ot(g,C),R<C&&(R=C),R>et&&(R=et));let rt=at(C,et,0,100,R);Tt(S,rt)},Hr=g=>{if(g==null){st=void 0;return}if(typeof g=="function"){st=g,ae();return}if(Pt(g)){st=ot(g,1);let S=Math.abs(et-C);st>S&&(st=void 0),ae();return}st=void 0},_n=g=>{it=g,ae()},En=g=>{(!Pt(g)||g<0)&&(g=0),G=g},qe=g=>{(!Pt(g)||g<0)&&(g=1/0),bt=g},kn=g=>{xt=g,y.classList.toggle("disabled",xt),xt?y.setAttribute("aria-disabled","true"):y.hasAttribute("aria-disabled")&&y.removeAttribute("aria-disabled")},Ai=g=>{qt=g},c=g=>{zt=g,zt?document.removeEventListener("wheel",Rr):document.addEventListener("wheel",Rr,{passive:!1})},d=g=>{if(g==null){U=void 0;return}if(U=ko(g),U===void 0||U.length<=0){U=void 0;return}Ce(0),Re(U.length-1),st===void 0&&Hr(1)},v=g=>{var S;typeof g=="string"?lt=g.trim().toLowerCase()===Mt?Mt:Wt:lt=Wt;let R=(S=p.shadowRoot)==null?void 0:S.querySelector(".range-slider-box");if(!R)return;R.className=`range-slider-box type-${lt}`,ae();let rt=lt===Mt?"vertical":"horizontal";for(let gt of w)gt.setAttr("aria-orientation",rt)},A=g=>{It=g,w.length>1&&hi(w,It,p),ae(),Pe()},I=g=>{B=g,w.length>1&&hi(w,B,p),ae(),Pe()},L=g=>{Qt=ot(g,Xt),Qt<0&&(Qt=Xt),Pe()},K=g=>{g==null||g.toString().trim().toLowerCase()==="false"?(xe=void 0,y.style.removeProperty(si),y.classList.remove(we)):(xe=g.toString(),y.style.setProperty(si,xe),y.classList.add(we))},St=(g,S)=>{let R=w[g];!R||(R.setAttr("aria-label",S),di[g]=S)},wt=g=>{if(jt=void 0,w.length<=1){Ct=!1,y.classList.remove(Mr);return}Ct=g,y.classList.toggle(Mr,Ct)},Dt=()=>{kn(At(p.getAttribute(N))),qt=At(p.getAttribute(tt)),zt=At(p.getAttribute(W));let g=nr(p,/^pointer([0-9]*)-disabled$/,S=>At(S));for(let S of g){let R=S[0];!w[R]||(w[R].disabled=S[1])}},Vt=()=>{let g=nr(p,/^aria-label([0-9]*)$/);for(let S of g){let R=S[0];St(R,S[1])}},Gt=g=>{let S=w.length,R=w[S-1].$pointer,rt=R.cloneNode(!0);R.after(rt);let gt=pn(p,rt,S);return gt.setCallbacks(gi,yi,mi,bi),w.push(gt),Ur(g,S),ae(),Pe(),S},Bt=()=>{let g=w.length,S=w[g-1];return S?(S.destroy(),w.pop(),w.length<=1&&wt(!1),ae(),Pe(),g-1):-1};return(()=>{var g,S;for(let rt of w)rt.setCallbacks(gi,yi,mi,bi);let R=(g=p.shadowRoot)==null?void 0:g.querySelector(".panel-fill");R&&(q=jo(R)),v(p.getAttribute(_)),A(At(p.getAttribute(j))),I(At(p.getAttribute(H))),$i(p.getAttribute(f),p.getAttribute(m)),Hr(p.getAttribute(b)),d(p.getAttribute(h)),Nr($.map(rt=>rt[1])),_n(At(p.getAttribute(s))),En(ot(p.getAttribute(l),0)),qe(ot(p.getAttribute(a),1/0)),wt(At(p.getAttribute(u))),L(ot(p.getAttribute(x),Xt)),Dt(),Vt(),z=ir(p,y,w),K((S=p.getAttribute(Ot))!=null?S:fi),y.addEventListener("mousedown",yn),y.addEventListener("mouseup",Lr),y.addEventListener("touchmove",Me),y.addEventListener("touchstart",Me),zt||document.addEventListener("wheel",Rr,{passive:!1}),P=dn(p,vi,{setValues:Nr,setMin:Ce,setMax:Re,setStep:Hr,setPointersOverlap:_n,setPointersMinDistance:En,setPointersMaxDistance:qe,setDisabled:kn,setType:v,setRightToLeft:A,setBottomToTop:I,setRound:L,setKeyboardDisabled:Ai,setMousewheelDisabled:c,setRangeDragging:wt,setData:d},{getPercents:wi,getValues:xi,getPointerElements:bn,getMin:ur,getMax:Si,getStep:mn,getData:vn,getType:wn,getRound:Ir,getTextMin:Tr,getTextMax:Le,isRightToLeft:he,isBottomToTop:Sn,isDisabled:$n,isKeyboardDisabled:pr,isMousewheelDisabled:Br,isPointersOverlap:hr,isRangeDraggingEnabled:te,getPointersMinDistance:Dr,getPointersMaxDistance:xn}),P.init()})(),{get pointers(){return w},get styles(){return z},get pluginsManager(){return P},get min(){return Tr()},get max(){return Le()},get step(){return mn()},get pointersOverlap(){return hr()},set pointersOverlap(g){_n(g)},get pointersMinDistance(){return Dr()},set pointersMinDistance(g){En(g)},get pointersMaxDistance(){return xn()},set pointersMaxDistance(g){qe(g)},get disabled(){return $n()},set disabled(g){kn(g)},get data(){return vn()},get type(){return wn()},set type(g){v(g)},get rightToLeft(){return he()},set rightToLeft(g){A(g)},get bottomToTop(){return Sn()},set bottomToTop(g){I(g)},get round(){return Ir()},set round(g){L(g)},get animateOnClick(){return xe},set animateOnClick(g){K(g)},get keyboardDisabled(){return pr()},set keyboardDisabled(g){Ai(g)},get mousewheelDisabled(){return Br()},set mousewheelDisabled(g){c(g)},get rangeDragging(){return te()},set rangeDragging(g){wt(g)},setMin:Ce,setMax:Re,setValue:Ur,setStep:Hr,setData:d,getTextValue:He,setAriaLabel:St,getAriaLabel:Fr,addPointer:Gt,removePointer:Bt,destroy:()=>{y.removeEventListener("mousedown",yn),y.removeEventListener("mouseup",Lr),y.removeEventListener("touchmove",Me),y.removeEventListener("touchstart",Me),document.removeEventListener("wheel",Rr);for(let g of w)g.destroy();P==null||P.destroy()}}},Wo=(p,y,$)=>{let w=jr.find(([P,C,et,st])=>C.replace("#","")===y.replace(/\d+/g,""));if(w&&p.styles){let[P,C,et,st]=w,U=y.replace(/\D/g,"").trim(),lt=U===""||U==="0"||U==="1"?0:ot(U,0)-1;p.styles.setStyle(P,$,lt);return}switch(p&&p.pluginsManager&&p.pluginsManager.onAttrChange(y,$),y){case f:{p.setMin($);break}case m:{p.setMax($);break}case b:{p.setStep($);break}case s:{p.pointersOverlap=At($);break}case l:{p.pointersMinDistance=ot($,0);break}case u:{p.rangeDragging=At($);break}case a:{p.pointersMaxDistance=ot($,1/0);break}case N:{p.disabled=At($);break}case tt:{p.keyboardDisabled=At($);break}case W:{p.mousewheelDisabled=At($);break}case h:{p.setData($);break}case _:{p.type=$;break}case j:{p.rightToLeft=At($);break}case H:{p.bottomToTop=At($);break}case x:{p.round=ot($,Xt);break}case T:{p.styles&&(p.styles.theme=$);break}case Ot:{p.animateOnClick=$;break}}let O=null;if(/^value([0-9]*)$/.test(y)&&(O="value"),/^pointer([0-9]*)-disabled$/.test(y)&&(O="pointer-disabled"),/^aria-label([0-9]*)$/.test(y)&&(O="aria-label"),/^pointer([0-9]*)-shape$/.test(y)&&(O="pointer-shape"),!O)return;let q=y.replace(/\D/g,"").trim(),z=q===""||q==="0"||q==="1"?0:ot(q,0)-1;switch(O){case"value":{p.setValue($,z);break}case"pointer-disabled":{let P=p==null?void 0:p.pointers[z];if(!P)return;P.disabled=At($);break}case"aria-label":{p.setAriaLabel(z,$);break}case"pointer-shape":{p.styles&&p.styles.setPointerShape(z,$);break}}},qo=class extends HTMLElement{constructor(){super(),n(this,"slider"),n(this,"_externalCSSList",[]),n(this,"_observer",null),this.attachShadow({mode:"open"})}set step(p){this.slider&&this.slider.setStep(p)}get step(){var p;return(p=this.slider)==null?void 0:p.step}set disabled(p){this.slider&&(this.slider.disabled=p)}get disabled(){var p,y;return(y=(p=this.slider)==null?void 0:p.disabled)!=null?y:!1}set data(p){var y;(y=this.slider)==null||y.setData(p)}get data(){var p;return(p=this.slider)==null?void 0:p.data}set min(p){var y;(y=this.slider)==null||y.setMin(p)}get min(){var p;return(p=this.slider)==null?void 0:p.min}set max(p){var y;(y=this.slider)==null||y.setMax(p)}get max(){var p;return(p=this.slider)==null?void 0:p.max}set round(p){!this.slider||(this.slider.round=p)}get round(){var p,y;return(y=(p=this.slider)==null?void 0:p.round)!=null?y:Xt}set type(p){!this.slider||(this.slider.type=p??Wt)}get type(){var p;return((p=this.slider)==null?void 0:p.type)||Wt}set pointersOverlap(p){!this.slider||(this.slider.pointersOverlap=p)}get pointersOverlap(){var p,y;return(y=(p=this.slider)==null?void 0:p.pointersOverlap)!=null?y:!1}set pointersMinDistance(p){!this.slider||(this.slider.pointersMinDistance=p)}get pointersMinDistance(){var p,y;return(y=(p=this.slider)==null?void 0:p.pointersMinDistance)!=null?y:0}set pointersMaxDistance(p){!this.slider||(this.slider.pointersMaxDistance=p)}get pointersMaxDistance(){var p,y;return(y=(p=this.slider)==null?void 0:p.pointersMaxDistance)!=null?y:1/0}set theme(p){!this.slider||!this.slider.styles||(this.slider.styles.theme=p)}get theme(){var p,y,$;return($=(y=(p=this.slider)==null?void 0:p.styles)==null?void 0:y.theme)!=null?$:null}set rtl(p){!this.slider||(this.slider.rightToLeft=p)}get rtl(){var p,y;return(y=(p=this.slider)==null?void 0:p.rightToLeft)!=null?y:!1}set btt(p){!this.slider||(this.slider.bottomToTop=p)}get btt(){var p,y;return(y=(p=this.slider)==null?void 0:p.bottomToTop)!=null?y:!1}set keyboardDisabled(p){!this.slider||(this.slider.keyboardDisabled=p)}get keyboardDisabled(){var p,y;return(y=(p=this.slider)==null?void 0:p.keyboardDisabled)!=null?y:!1}set mousewheelDisabled(p){!this.slider||(this.slider.mousewheelDisabled=p)}get mousewheelDisabled(){var p,y;return(y=(p=this.slider)==null?void 0:p.mousewheelDisabled)!=null?y:!1}set animateOnClick(p){!this.slider||(this.slider.animateOnClick=p)}get animateOnClick(){var p;return(p=this.slider)==null?void 0:p.animateOnClick}get rangeDragging(){var p,y;return(y=(p=this.slider)==null?void 0:p.rangeDragging)!=null?y:!1}set rangeDragging(p){this.slider&&(this.slider.rangeDragging=At(p))}get externalCSSList(){return this._externalCSSList}addPointer(p){var y,$;if(!this.slider)return;let w=($=(y=this.slider)==null?void 0:y.addPointer(p))!=null?$:0;pi(this,this.slider,w,`value${w+1}`,`ariaLabel${w+1}`,`pointerShape${w+1}`,`pointer${w+1}Disabled`)}removePointer(){var p;!this.slider||(p=this.slider)==null||p.removePointer()}addCSS(p){if(!this.shadowRoot)return;let y=document.createElement("style");y.textContent=p,this.shadowRoot.appendChild(y)}connectedCallback(){var p,y;if(!this.shadowRoot)return;this._externalCSSList=Bo(this),this.shadowRoot.innerHTML=i(o,this._externalCSSList);let $=(p=this.shadowRoot)==null?void 0:p.querySelector(".pointer");if(!$)return;let w=(y=this.shadowRoot)==null?void 0:y.getElementById("range-slider");if(!w)return;let O=No(this,$);this.slider=Ho(this,w,O),Uo(this,this.slider),this._observer=new MutationObserver(q=>{q.forEach(z=>{var P;if(!this.slider||z.type!=="attributes")return;let C=z.attributeName;!C||Wo(this.slider,C,(P=this.getAttribute(C))!=null?P:"")})}),this._observer.observe(this,{attributes:!0})}disconnectedCallback(){this._observer&&this._observer.disconnect(),this.slider&&this.slider.destroy()}},gn=qo;window.tcRangeSlider=gn,customElements.get("toolcool-range-slider")||customElements.define("toolcool-range-slider",gn),customElements.get("tc-range-slider")||customElements.define("tc-range-slider",class extends gn{})})();var In,Fh,ha;class Bh extends ie{constructor(){super(),ne(this,In),this.filterObject={},this.tabIndex=0,this.inputHandler=pt(this,In,Fh).bind(this),this.debouncedInputHandler=So(this.inputHandler,0,{leading:!0})}reset(){l1(this)}createRenderRoot(){return this}render(){return Jt(this.filterObject,()=>Q`
        ${pt(this,In,ha).call(this,"min","before")}
        <tc-range-slider
          min="${this.filterObject.min}"
          max="${this.filterObject.max}"
          value1="${this.filterObject.state.min}"
          value2="${this.filterObject.state.max}"
          step="1"
          @change=${this.debouncedInputHandler}
        ></tc-range-slider>
        ${pt(this,In,ha).call(this,"max","after")}
      `)}}In=new WeakSet,Fh=function(t){c1(t,this)},ha=function(t,e){return u1(t,e,this)},ho(Bh,"properties",{filterObject:{attribute:!1,type:Object},tabIndex:{attribute:!1,type:Number}});customElements.define("eox-itemfilter-range",Bh);var fa,Nh;class L1 extends ie{constructor(){super(),ne(this,fa),this.filterObject={},this.tabIndex=0}static get properties(){return{filterObject:{type:Object},tabIndex:{attribute:!1,type:Number}}}reset(){m1(this)}createRenderRoot(){return this}render(){return Jt(this.filterObject,()=>{var e;return Q`
        <form style="display: inline">
          ${fo(["intersects","within"],r=>Q`
              <label>
                <input
                  tabindex=${this.tabIndex}
                  type="radio"
                  name="mode"
                  .checked="${(this.filterObject.state.mode||"")===r||vt}"
                  value="${r}"
                  @click=${()=>pt(this,fa,Nh).call(this,r)}
                />
                <small>${r} filter geometry</small>
              </label>
            `)}
        </form>
        <eox-itemfilter-spatial-filter
          exportparts="map: spatial-filter-map"
          .geometry="${(e=this.filterObject.state)==null?void 0:e.geometry}"
          @filter="${r=>{this.filterObject.state.geometry=r.detail.geometry,this.filterObject.dirty=!0,this.filterObject.stringifiedState="Polygon",this.dispatchEvent(new CustomEvent("filter"))}}"
        ></eox-itemfilter-spatial>
      `})}}fa=new WeakSet,Nh=function(t){v1(t,this)};customElements.define("eox-itemfilter-spatial",L1);var da,Uh;class C1 extends ie{constructor(){super(),ne(this,da),this.geometry=null,this.eoxMap=null}static get properties(){return{geometry:{type:Object},eoxMap:{type:Object}}}firstUpdated(){pt(this,da,Uh).call(this)}reset(){b1(this)}render(){return Q`<div id="eox-map"></div>`}}da=new WeakSet,Uh=function(){kh(this)};customElements.define("eox-itemfilter-spatial-filter",C1);function R1(t,e){e.renderRoot.querySelectorAll(".chip").forEach(r=>{r.classList.remove("highlighted")}),t.target.classList.add("highlighted"),e.requestUpdate()}function T1(t,e){const{code:r,target:n}=t;n.id==="eox-itemfilter-input-search"&&(e.parentElement.classList.contains("hidden")&&["ArrowLeft","ArrowRight","Backspace"].includes(r)||(r==="Space"&&t.preventDefault(),["Escape","Space","Enter"].includes(r)||t.stopPropagation(),["ArrowLeft","ArrowRight","Escape","Backspace"].includes(r)&&I1(r,t.target.value??"",e)))}function I1(t,e,r){const n=r.renderRoot.querySelector(".chip.highlighted");if((t==="Escape"||e)&&n&&n.classList.remove("highlighted"),t==="Backspace"&&!e){if(r.items.length){n&&(n.querySelector(".chip-item-close").click(),r.items.splice(Array.from(r.renderRoot.querySelectorAll(".chip")).indexOf(n),1));const i=r.renderRoot.querySelectorAll(".chip")[r.renderRoot.querySelectorAll(".chip").length-1];i.classList.contains("highlighted")||i.classList.add("highlighted"),r.requestUpdate()}r._dispatchEvent()}if((t==="ArrowLeft"||t==="ArrowRight")&&!e){if(r.renderRoot.querySelectorAll(".chip").length<1)return;let i=0;const o=r.renderRoot.querySelector(".chip.highlighted");o&&(i=Array.from(r.renderRoot.querySelectorAll(".chip")).indexOf(o),o.classList.remove("highlighted")),i=i+(t==="ArrowLeft"?-1:1),t==="ArrowLeft"&&i<0&&(i=r.renderRoot.querySelectorAll(".chip").length-1),t==="ArrowRight"&&i>r.renderRoot.querySelectorAll(".chip").length-1&&(i=0),Array.from(r.renderRoot.querySelectorAll(".chip"))[i].classList.add("highlighted")}}var Dn,ga,Hh;class D1 extends ie{constructor(){super(),ne(this,Dn),this.items={},this.controller={}}static get properties(){return{items:{attribute:!1,type:Object},controller:{attribute:!1,type:Object}}}connectedCallback(){super.connectedCallback(),this.getRootNode().addEventListener("keydown",pt(this,Dn,ga).bind(this))}disconnectedCallback(){super.disconnectedCallback(),this.getRootNode().removeEventListener("keydown",pt(this,Dn,ga).bind(this))}_dispatchEvent(){this.dispatchEvent(new CustomEvent("items-selected",{detail:this.items}))}render(){return Q`
      <style>
        ${Qn}
      </style>
      <span class="chip-container">
        ${fo(this.items,e=>Q`
            <span class="chip" @click=${pt(this,Dn,Hh).bind(this)}>
              <span class="chip-title">${e.title}</span>
                <span
                  class="chip-item-close hidden"
                  data-close=${e.key}
                  @click=${r=>{r.stopPropagation(),this.controller.remove(r),this.requestUpdate()}}
                ></span>
            </span>
            </span>
          `)}
      </span>
    `}}Dn=new WeakSet,ga=function(t){T1(t,this)},Hh=function(t){R1(t,this)};customElements.define("eox-itemfilter-chips",D1);const F1=Object.freeze({aggregateResults:void 0,autoSpreadSingle:!1,enableHighlighting:!1,externalFilter:()=>{},filterProperties:[],fuseConfig:{},inlineMode:!1,matchAllWhenEmpty:!0,showResults:!0,idProperty:"id",titleProperty:"title",subTitleProperty:void 0,expandMultipleFilters:!0,expandResults:!0,expandMultipleResults:!0}),ru=["aggregateResults","autoSpreadSingle","enableHighlighting","externalFilter","filterProperties","fuseConfig","inlineMode","matchAllWhenEmpty","showResults","titleProperty","subTitleProperty","idProperty","expandMultipleFilters","expandResults","expandMultipleResults","items"];var B1=200,Ya="__lodash_hash_undefined__",N1=1/0,U1="[object Function]",H1="[object GeneratorFunction]",W1=/[\\^$.*+?()[\]{}|]/g,q1=/^\[object .+?Constructor\]$/,z1=typeof Yt=="object"&&Yt&&Yt.Object===Object&&Yt,V1=typeof self=="object"&&self&&self.Object===Object&&self,Za=z1||V1||Function("return this")();function G1(t,e){var r=t?t.length:0;return!!r&&J1(t,e,0)>-1}function K1(t,e,r,n){for(var i=t.length,o=r+-1;++o<i;)if(e(t[o],o,t))return o;return-1}function J1(t,e,r){if(e!==e)return K1(t,Y1,r);for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function Y1(t){return t!==t}function Z1(t,e){return t.has(e)}function X1(t,e){return t==null?void 0:t[e]}function Q1(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}function Wh(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var tw=Array.prototype,ew=Function.prototype,qh=Object.prototype,xs=Za["__core-js_shared__"],nu=function(){var t=/[^.]+$/.exec(xs&&xs.keys&&xs.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),zh=ew.toString,Xa=qh.hasOwnProperty,rw=qh.toString,nw=RegExp("^"+zh.call(Xa).replace(W1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),iw=tw.splice,ow=Qa(Za,"Map"),Ss=Qa(Za,"Set"),Zn=Qa(Object,"create");function Ar(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function sw(){this.__data__=Zn?Zn(null):{}}function aw(t){return this.has(t)&&delete this.__data__[t]}function lw(t){var e=this.__data__;if(Zn){var r=e[t];return r===Ya?void 0:r}return Xa.call(e,t)?e[t]:void 0}function cw(t){var e=this.__data__;return Zn?e[t]!==void 0:Xa.call(e,t)}function uw(t,e){var r=this.__data__;return r[t]=Zn&&e===void 0?Ya:e,this}Ar.prototype.clear=sw;Ar.prototype.delete=aw;Ar.prototype.get=lw;Ar.prototype.has=cw;Ar.prototype.set=uw;function cn(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function pw(){this.__data__=[]}function hw(t){var e=this.__data__,r=$o(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():iw.call(e,r,1),!0}function fw(t){var e=this.__data__,r=$o(e,t);return r<0?void 0:e[r][1]}function dw(t){return $o(this.__data__,t)>-1}function gw(t,e){var r=this.__data__,n=$o(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}cn.prototype.clear=pw;cn.prototype.delete=hw;cn.prototype.get=fw;cn.prototype.has=dw;cn.prototype.set=gw;function un(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function yw(){this.__data__={hash:new Ar,map:new(ow||cn),string:new Ar}}function mw(t){return Ao(this,t).delete(t)}function bw(t){return Ao(this,t).get(t)}function vw(t){return Ao(this,t).has(t)}function ww(t,e){return Ao(this,t).set(t,e),this}un.prototype.clear=yw;un.prototype.delete=mw;un.prototype.get=bw;un.prototype.has=vw;un.prototype.set=ww;function uo(t){var e=-1,r=t?t.length:0;for(this.__data__=new un;++e<r;)this.add(t[e])}function xw(t){return this.__data__.set(t,Ya),this}function Sw(t){return this.__data__.has(t)}uo.prototype.add=uo.prototype.push=xw;uo.prototype.has=Sw;function $o(t,e){for(var r=t.length;r--;)if(Mw(t[r][0],e))return r;return-1}function $w(t){if(!Vh(t)||kw(t))return!1;var e=Pw(t)||Q1(t)?nw:q1;return e.test(Ow(t))}function Aw(t,e,r){var n=-1,i=G1,o=t.length,s=!0,l=[],a=l;if(o>=B1){var u=_w(t);if(u)return Wh(u);s=!1,i=Z1,a=new uo}else a=l;t:for(;++n<o;){var h=t[n],f=h;if(h=h!==0?h:0,s&&f===f){for(var m=a.length;m--;)if(a[m]===f)continue t;l.push(h)}else i(a,f,r)||(a!==l&&a.push(f),l.push(h))}return l}var _w=Ss&&1/Wh(new Ss([,-0]))[1]==N1?function(t){return new Ss(t)}:Lw;function Ao(t,e){var r=t.__data__;return Ew(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Qa(t,e){var r=X1(t,e);return $w(r)?r:void 0}function Ew(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function kw(t){return!!nu&&nu in t}function Ow(t){if(t!=null){try{return zh.call(t)}catch{}try{return t+""}catch{}}return""}function jw(t){return t&&t.length?Aw(t):[]}function Mw(t,e){return t===e||t!==t&&e!==e}function Pw(t){var e=Vh(t)?rw.call(t):"";return e==U1||e==H1}function Vh(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Lw(){}var Cw=jw;const Gh=ei(Cw);var po={exports:{}};po.exports;(function(t,e){var r=200,n="Expected a function",i="__lodash_hash_undefined__",o=1,s=2,l=1/0,a=9007199254740991,u="[object Arguments]",h="[object Array]",f="[object Boolean]",m="[object Date]",b="[object Error]",x="[object Function]",_="[object GeneratorFunction]",T="[object Map]",j="[object Number]",H="[object Object]",N="[object Promise]",tt="[object RegExp]",W="[object Set]",V="[object String]",X="[object Symbol]",ht="[object WeakMap]",mt="[object ArrayBuffer]",ft="[object DataView]",nt="[object Float32Array]",Rt="[object Float64Array]",_t="[object Int8Array]",D="[object Int16Array]",k="[object Int32Array]",E="[object Uint8Array]",F="[object Uint8ClampedArray]",M="[object Uint16Array]",J="[object Uint32Array]",Y=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dt=/^\w*$/,$t=/^\./,kt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ot=/[\\^$.*+?()[\]{}|]/g,Ht=/\\(\\)?/g,Mt=/^\[object .+?Constructor\]$/,Wt=/^(?:0|[1-9]\d*)$/,at={};at[nt]=at[Rt]=at[_t]=at[D]=at[k]=at[E]=at[F]=at[M]=at[J]=!0,at[u]=at[h]=at[mt]=at[f]=at[ft]=at[m]=at[b]=at[x]=at[T]=at[j]=at[H]=at[tt]=at[W]=at[V]=at[ht]=!1;var Pt=typeof Yt=="object"&&Yt&&Yt.Object===Object&&Yt,ot=typeof self=="object"&&self&&self.Object===Object&&self,Lt=Pt||ot||Function("return this")(),ve=e&&!e.nodeType&&e,At=ve&&!0&&t&&!t.nodeType&&t,_o=At&&At.exports===ve,ni=_o&&Pt.process,ii=function(){try{return ni&&ni.binding("util")}catch{}}(),oi=ii&&ii.isTypedArray;function Eo(c,d){for(var v=-1,A=c?c.length:0,I=Array(A);++v<A;)I[v]=d(c[v],v,c);return I}function pn(c,d){for(var v=-1,A=d.length,I=c.length;++v<A;)c[I+v]=d[v];return c}function ko(c,d){for(var v=-1,A=c?c.length:0;++v<A;)if(d(c[v],v,c))return!0;return!1}function Oo(c){return function(d){return d==null?void 0:d[c]}}function jo(c,d){for(var v=-1,A=Array(c);++v<c;)A[v]=d(v);return A}function si(c){return function(d){return c(d)}}function Mo(c,d){return c==null?void 0:c[d]}function hn(c){var d=!1;if(c!=null&&typeof c.toString!="function")try{d=!!(c+"")}catch{}return d}function Po(c){var d=-1,v=Array(c.size);return c.forEach(function(A,I){v[++d]=[I,A]}),v}function Lo(c,d){return function(v){return c(d(v))}}function Co(c){var d=-1,v=Array(c.size);return c.forEach(function(A){v[++d]=A}),v}var Ro=Array.prototype,To=Function.prototype,kr=Object.prototype,fn=Lt["__core-js_shared__"],ai=function(){var c=/[^.]+$/.exec(fn&&fn.keys&&fn.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),li=To.toString,pe=kr.hasOwnProperty,Ne=kr.toString,Io=RegExp("^"+li.call(pe).replace(Ot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Or=Lt.Symbol,ci=Lt.Uint8Array,Do=kr.propertyIsEnumerable,Fo=Ro.splice,nr=Or?Or.isConcatSpreadable:void 0,Bo=Lo(Object.keys,Object),jr=We(Lt,"DataView"),ir=We(Lt,"Map"),we=We(Lt,"Promise"),Mr=We(Lt,"Set"),dn=We(Lt,"WeakMap"),or=We(Object,"create"),ui=he(jr),No=he(ir),pi=he(we),Uo=he(Mr),hi=he(dn),Pr=Or?Or.prototype:void 0,sr=Pr?Pr.valueOf:void 0,Ue=Pr?Pr.toString:void 0;function Xt(c){var d=-1,v=c?c.length:0;for(this.clear();++d<v;){var A=c[d];this.set(A[0],A[1])}}function fi(){this.__data__=or?or(null):{}}function Ho(c){return this.has(c)&&delete this.__data__[c]}function Wo(c){var d=this.__data__;if(or){var v=d[c];return v===i?void 0:v}return pe.call(d,c)?d[c]:void 0}function qo(c){var d=this.__data__;return or?d[c]!==void 0:pe.call(d,c)}function gn(c,d){var v=this.__data__;return v[c]=or&&d===void 0?i:d,this}Xt.prototype.clear=fi,Xt.prototype.delete=Ho,Xt.prototype.get=Wo,Xt.prototype.has=qo,Xt.prototype.set=gn;function p(c){var d=-1,v=c?c.length:0;for(this.clear();++d<v;){var A=c[d];this.set(A[0],A[1])}}function y(){this.__data__=[]}function $(c){var d=this.__data__,v=xt(d,c);if(v<0)return!1;var A=d.length-1;return v==A?d.pop():Fo.call(d,v,1),!0}function w(c){var d=this.__data__,v=xt(d,c);return v<0?void 0:d[v][1]}function O(c){return xt(this.__data__,c)>-1}function q(c,d){var v=this.__data__,A=xt(v,c);return A<0?v.push([c,d]):v[A][1]=d,this}p.prototype.clear=y,p.prototype.delete=$,p.prototype.get=w,p.prototype.has=O,p.prototype.set=q;function z(c){var d=-1,v=c?c.length:0;for(this.clear();++d<v;){var A=c[d];this.set(A[0],A[1])}}function P(){this.__data__={hash:new Xt,map:new(ir||p),string:new Xt}}function C(c){return Le(this,c).delete(c)}function et(c){return Le(this,c).get(c)}function st(c){return Le(this,c).has(c)}function U(c,d){return Le(this,c).set(c,d),this}z.prototype.clear=P,z.prototype.delete=C,z.prototype.get=et,z.prototype.has=st,z.prototype.set=U;function lt(c){var d=-1,v=c?c.length:0;for(this.__data__=new z;++d<v;)this.add(c[d])}function Qt(c){return this.__data__.set(c,i),this}function It(c){return this.__data__.has(c)}lt.prototype.add=lt.prototype.push=Qt,lt.prototype.has=It;function B(c){this.__data__=new p(c)}function it(){this.__data__=new p}function G(c){return this.__data__.delete(c)}function bt(c){return this.__data__.get(c)}function Ct(c){return this.__data__.has(c)}function jt(c,d){var v=this.__data__;if(v instanceof p){var A=v.__data__;if(!ir||A.length<r-1)return A.push([c,d]),this;v=this.__data__=new z(A)}return v.set(c,d),this}B.prototype.clear=it,B.prototype.delete=G,B.prototype.get=bt,B.prototype.has=Ct,B.prototype.set=jt;function Et(c,d){var v=te(c)||hr(c)?jo(c.length,String):[],A=v.length,I=!!A;for(var L in c)pe.call(c,L)&&!(I&&(L=="length"||bn(L,A)))&&v.push(L);return v}function xt(c,d){for(var v=c.length;v--;)if(Br(c[v][0],d))return v;return-1}var qt=Ko(di);function zt(c,d,v,A,I){var L=-1,K=c.length;for(v||(v=xi),I||(I=[]);++L<K;){var St=c[L];v(St)?pn(I,St):I[I.length]=St}return I}var xe=Jo();function di(c,d){return c&&xe(c,d,qe)}function yn(c,d){d=ur(d,c)?[d]:vi(d);for(var v=0,A=d.length;c!=null&&v<A;)c=c[Fr(d[v++])];return v&&v==A?c:void 0}function Lr(c){return Ne.call(c)}function zo(c,d){return c!=null&&d in Object(c)}function Cr(c,d,v,A,I){return c===d?!0:c==null||d==null||!Ce(c)&&!Re(d)?c!==c&&d!==d:Me(c,d,Cr,v,A,I)}function Me(c,d,v,A,I,L){var K=te(c),St=te(d),wt=h,Dt=h;K||(wt=Se(c),wt=wt==u?H:wt),St||(Dt=Se(d),Dt=Dt==u?H:Dt);var Vt=wt==H&&!hn(c),Gt=Dt==H&&!hn(d),Bt=wt==Dt;if(Bt&&!Vt)return L||(L=new B),K||Ur(c)?cr(c,d,v,A,I,L):He(c,d,wt,v,A,I,L);if(!(I&s)){var g=Vt&&pe.call(c,"__wrapped__"),S=Gt&&pe.call(d,"__wrapped__");if(g||S){var R=g?c.value():c,rt=S?d.value():d;return L||(L=new B),v(R,rt,A,I,L)}}return Bt?(L||(L=new B),Tr(c,d,v,A,I,L)):!1}function Rr(c,d,v,A){var I=v.length,L=I;if(c==null)return!L;for(c=Object(c);I--;){var K=v[I];if(K[2]?K[1]!==c[K[0]]:!(K[0]in c))return!1}for(;++I<L;){K=v[I];var St=K[0],wt=c[St],Dt=K[1];if(K[2]){if(wt===void 0&&!(St in c))return!1}else{var Vt=new B,Gt;if(!(Gt===void 0?Cr(Dt,wt,A,o|s,Vt):Gt))return!1}}return!0}function gi(c){if(!Ce(c)||vn(c))return!1;var d=$i(c)||hn(c)?Io:Mt;return d.test(he(c))}function yi(c){return Re(c)&&An(c.length)&&!!at[Ne.call(c)]}function mi(c){return typeof c=="function"?c:c==null?kn:typeof c=="object"?te(c)?ar(c[0],c[1]):Go(c):Ai(c)}function bi(c){if(!wn(c))return Bo(c);var d=[];for(var v in Object(c))pe.call(c,v)&&v!="constructor"&&d.push(v);return d}function Vo(c,d){var v=-1,A=Tt(c)?Array(c.length):[];return qt(c,function(I,L,K){A[++v]=d(I,L,K)}),A}function Go(c){var d=mn(c);return d.length==1&&d[0][2]?Dr(d[0][0],d[0][1]):function(v){return v===c||Rr(v,c,d)}}function ar(c,d){return ur(c)&&Ir(d)?Dr(Fr(c),d):function(v){var A=_n(v,c);return A===void 0&&A===d?En(v,c):Cr(d,A,void 0,o|s)}}function lr(c){return function(d){return yn(d,c)}}function Pe(c){if(typeof c=="string")return c;if(Nr(c))return Ue?Ue.call(c):"";var d=c+"";return d=="0"&&1/c==-l?"-0":d}function vi(c){return te(c)?c:xn(c)}function Ko(c,d){return function(v,A){if(v==null)return v;if(!Tt(v))return c(v,A);for(var I=v.length,L=-1,K=Object(v);++L<I&&A(K[L],L,K)!==!1;);return v}}function Jo(c){return function(d,v,A){for(var I=-1,L=Object(d),K=A(d),St=K.length;St--;){var wt=K[++I];if(v(L[wt],wt,L)===!1)break}return d}}function cr(c,d,v,A,I,L){var K=I&s,St=c.length,wt=d.length;if(St!=wt&&!(K&&wt>St))return!1;var Dt=L.get(c);if(Dt&&L.get(d))return Dt==d;var Vt=-1,Gt=!0,Bt=I&o?new lt:void 0;for(L.set(c,d),L.set(d,c);++Vt<St;){var g=c[Vt],S=d[Vt];if(A)var R=K?A(S,g,Vt,d,c,L):A(g,S,Vt,c,d,L);if(R!==void 0){if(R)continue;Gt=!1;break}if(Bt){if(!ko(d,function(rt,gt){if(!Bt.has(gt)&&(g===rt||v(g,rt,A,I,L)))return Bt.add(gt)})){Gt=!1;break}}else if(!(g===S||v(g,S,A,I,L))){Gt=!1;break}}return L.delete(c),L.delete(d),Gt}function He(c,d,v,A,I,L,K){switch(v){case ft:if(c.byteLength!=d.byteLength||c.byteOffset!=d.byteOffset)return!1;c=c.buffer,d=d.buffer;case mt:return!(c.byteLength!=d.byteLength||!A(new ci(c),new ci(d)));case f:case m:case j:return Br(+c,+d);case b:return c.name==d.name&&c.message==d.message;case tt:case V:return c==d+"";case T:var St=Po;case W:var wt=L&s;if(St||(St=Co),c.size!=d.size&&!wt)return!1;var Dt=K.get(c);if(Dt)return Dt==d;L|=o,K.set(c,d);var Vt=cr(St(c),St(d),A,I,L,K);return K.delete(c),Vt;case X:if(sr)return sr.call(c)==sr.call(d)}return!1}function Tr(c,d,v,A,I,L){var K=I&s,St=qe(c),wt=St.length,Dt=qe(d),Vt=Dt.length;if(wt!=Vt&&!K)return!1;for(var Gt=wt;Gt--;){var Bt=St[Gt];if(!(K?Bt in d:pe.call(d,Bt)))return!1}var g=L.get(c);if(g&&L.get(d))return g==d;var S=!0;L.set(c,d),L.set(d,c);for(var R=K;++Gt<wt;){Bt=St[Gt];var rt=c[Bt],gt=d[Bt];if(A)var ut=K?A(gt,rt,Bt,d,c,L):A(rt,gt,Bt,c,d,L);if(!(ut===void 0?rt===gt||v(rt,gt,A,I,L):ut)){S=!1;break}R||(R=Bt=="constructor")}if(S&&!R){var Kt=c.constructor,Te=d.constructor;Kt!=Te&&"constructor"in c&&"constructor"in d&&!(typeof Kt=="function"&&Kt instanceof Kt&&typeof Te=="function"&&Te instanceof Te)&&(S=!1)}return L.delete(c),L.delete(d),S}function Le(c,d){var v=c.__data__;return Si(d)?v[typeof d=="string"?"string":"hash"]:v.map}function mn(c){for(var d=qe(c),v=d.length;v--;){var A=d[v],I=c[A];d[v]=[A,I,Ir(I)]}return d}function We(c,d){var v=Mo(c,d);return gi(v)?v:void 0}var Se=Lr;(jr&&Se(new jr(new ArrayBuffer(1)))!=ft||ir&&Se(new ir)!=T||we&&Se(we.resolve())!=N||Mr&&Se(new Mr)!=W||dn&&Se(new dn)!=ht)&&(Se=function(c){var d=Ne.call(c),v=d==H?c.constructor:void 0,A=v?he(v):void 0;if(A)switch(A){case ui:return ft;case No:return T;case pi:return N;case Uo:return W;case hi:return ht}return d});function wi(c,d,v){d=ur(d,c)?[d]:vi(d);for(var A,I=-1,K=d.length;++I<K;){var L=Fr(d[I]);if(!(A=c!=null&&v(c,L)))break;c=c[L]}if(A)return A;var K=c?c.length:0;return!!K&&An(K)&&bn(L,K)&&(te(c)||hr(c))}function xi(c){return te(c)||hr(c)||!!(nr&&c&&c[nr])}function bn(c,d){return d=d??a,!!d&&(typeof c=="number"||Wt.test(c))&&c>-1&&c%1==0&&c<d}function ur(c,d){if(te(c))return!1;var v=typeof c;return v=="number"||v=="symbol"||v=="boolean"||c==null||Nr(c)?!0:dt.test(c)||!Y.test(c)||d!=null&&c in Object(d)}function Si(c){var d=typeof c;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?c!=="__proto__":c===null}function vn(c){return!!ai&&ai in c}function wn(c){var d=c&&c.constructor,v=typeof d=="function"&&d.prototype||kr;return c===v}function Ir(c){return c===c&&!Ce(c)}function Dr(c,d){return function(v){return v==null?!1:v[c]===d&&(d!==void 0||c in Object(v))}}var xn=pr(function(c){c=Hr(c);var d=[];return $t.test(c)&&d.push(""),c.replace(kt,function(v,A,I,L){d.push(I?L.replace(Ht,"$1"):A||v)}),d});function Fr(c){if(typeof c=="string"||Nr(c))return c;var d=c+"";return d=="0"&&1/c==-l?"-0":d}function he(c){if(c!=null){try{return li.call(c)}catch{}try{return c+""}catch{}}return""}function Sn(c,d){return zt($n(c,d))}function $n(c,d){var v=te(c)?Eo:Vo;return v(c,mi(d))}function pr(c,d){if(typeof c!="function"||d&&typeof d!="function")throw new TypeError(n);var v=function(){var A=arguments,I=d?d.apply(this,A):A[0],L=v.cache;if(L.has(I))return L.get(I);var K=c.apply(this,A);return v.cache=L.set(I,K),K};return v.cache=new(pr.Cache||z),v}pr.Cache=z;function Br(c,d){return c===d||c!==c&&d!==d}function hr(c){return ae(c)&&pe.call(c,"callee")&&(!Do.call(c,"callee")||Ne.call(c)==u)}var te=Array.isArray;function Tt(c){return c!=null&&An(c.length)&&!$i(c)}function ae(c){return Re(c)&&Tt(c)}function $i(c){var d=Ce(c)?Ne.call(c):"";return d==x||d==_}function An(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=a}function Ce(c){var d=typeof c;return!!c&&(d=="object"||d=="function")}function Re(c){return!!c&&typeof c=="object"}function Nr(c){return typeof c=="symbol"||Re(c)&&Ne.call(c)==X}var Ur=oi?si(oi):yi;function Hr(c){return c==null?"":Pe(c)}function _n(c,d,v){var A=c==null?void 0:yn(c,d);return A===void 0?v:A}function En(c,d){return c!=null&&wi(c,d,zo)}function qe(c){return Tt(c)?Et(c):bi(c)}function kn(c){return c}function Ai(c){return ur(c)?Oo(Fr(c)):lr(c)}t.exports=Sn})(po,po.exports);var Rw=po.exports;const Kh=ei(Rw);function Tw(t,e,r){let n=[];t.filterProperties.length&&t.filterProperties.forEach(o=>{const s={},l=u=>o.format==="date"?Yn(u).unix():parseInt(u,10);e.forEach(u=>{var h;if(o.type==="range"){if(Array.isArray(u[o.key])){const f=[l(u[o.key][0]),l(u[o.key][1])];s.min=s.min!==void 0?Math.min(s.min,f[0]):f[0],s.max=s.max!==void 0?Math.max(s.max,f[1]):f[1]}else{const f=l(u[o.key]);s.min=s.min!==void 0?Math.min(s.min,f):f,s.max=s.max!==void 0?Math.max(s.max,f):f}return}Array.isArray(u[o.key])?u[o.key].forEach(f=>{s[f]=void 0}):o.type==="spatial"?(s.geometry=void 0,s.mode=o.mode||"intersects"):(h=o.key)!=null&&h.includes(".")?Gh(Kh(r.items,o.key)).filter(f=>f).forEach(f=>{s[f]=void 0}):s[u[o.key]]=void 0});const a=o.key||o.keys.join("|");r.filters[a]=Object.assign({type:o.type||"multiselect",dirty:o.state?!1:void 0,key:a},o.type==="range"?{min:s.min,max:s.max,format:o.format}:{},o),r.filters[a].state=Object.assign({},s,o.state)}),t.matchAllWhenEmpty!==!1&&(r.results=r.sortResults(e),r.requestUpdate()),t.aggregateResults&&(n=Array.from(new Set(e.reduce((o,s)=>o.concat(s[t.aggregateResults]),[]))).sort((o,s)=>o.localeCompare(s)));const i=[];return Object.values(r.filters).forEach(o=>{o.type==="text"?o.keys.forEach(s=>{i.includes(s)||i.push(s)}):(o.type==="select"||o.type==="multiselect")&&(i.includes(o.key)||i.push(o.key))}),Iv(e,Object.assign({keys:i},t.fuseConfig)),n}async function Iw(t,e,r){let n;r.externalFilter?n=await Nv(e,r.filters,t):n=await Dv(e,r.filters,t),r.results=r.sortResults(n)}function Dw(t,e,r){const n=`filter-${t.key}`.replace("|","-");switch(t.type){case"text":return Q`<eox-itemfilter-text
        data-type="filter"
        slot="filter"
        id="${n}"
        .tabIndex=${e}
        .filterObject=${t}
        .unstyled=${r.unstyled}
        @filter=${()=>r.search()}
      ></eox-itemfilter-text>`;case"multiselect":case"select":return Q`
        <eox-itemfilter-select
          .inlineMode=${r.inlineMode||!1}
          data-type="filter"
          id="${n}"
          .tabIndex=${e}
          .filterObject=${t}
          slot="filter"
          .suggestions="${Gh(Kh(r.items,t.key)).filter(i=>i)}"
          type="${t.type}"
          .unstyled=${r.unstyled}
          @filter=${()=>r.search()}
        ></eox-itemfilter-select>
      `;case"range":return Q`
        <eox-itemfilter-range
          id="${n}"
          data-type="filter"
          .tabIndex=${e}
          .filterObject=${t}
          slot="filter"
          .unstyled=${r.unstyled}
          @filter=${()=>r.search()}
        ></eox-itemfilter-range>
      `;case"spatial":return Q`
        <eox-itemfilter-spatial
          id="${n}"
          data-type="filter"
          .tabIndex=${e}
          .filterObject=${t}
          slot="filter"
          @filter=${()=>r.search()}
        ></eox-itemfilter-spatial>
      `;default:return Q``}}function Fw(t,e){return[...t].sort((r,n)=>r[e.titleProperty].localeCompare(n[e.titleProperty]))}function Bw(t,e,r){return Q`
    ${Jt(t.dirty,()=>Q`
        <button
          type="button"
          tabindex=${e}
          slot="reset-button"
          class="reset-icon icon"
          @click=${n=>{const i=n.target.parentElement.querySelector("[slot=filter]");i&&typeof i.reset=="function"&&i.reset(),r.search(),r.requestUpdate()}}
        >
          ${r.unstyled?"Reset":vt}
        </button>
      `)}
  `}function Nw(t){t.renderRoot.querySelectorAll("[data-type='filter']").forEach(e=>{typeof e.reset=="function"&&e.reset()}),t.search()}var Wi,Fn,de,qi,Jh,Yh;class Uw extends Oh{constructor(){super(),ne(this,qi),ne(this,Wi,[]),ne(this,Fn,[]),ne(this,de,F1),this.items=null,this.filters={},this.results=[],this.selectedResult=null,this.search=So(this.searchHandler,100,{leading:!0}),this.aggregateResults=void 0,this.autoSpreadSingle=!1,this.enableHighlighting=!1,this.externalFilter=null,this.filterProperties=[],this.fuseConfig={},this.inlineMode=!1,this.matchAllWhenEmpty=!0,this.showResults=!0,this.titleProperty="title",this.subTitleProperty=void 0,this.idProperty="id",this.expandMultipleFilters=!0,this.expandResults=!0,this.expandMultipleResults=!0,this.unstyled=!1}static get properties(){return{items:{attribute:!1,type:Object},results:{state:!0,attribute:!1,type:Object},filters:{state:!0,attribute:!1,type:Object},selectedResult:{attribute:!1,type:Object},aggregateResults:{attribute:"aggregate-results",type:String},autoSpreadSingle:{attribute:"auto-spread-single",type:Boolean},enableHighlighting:{attribute:"enable-highlighting",type:Boolean},filterProperties:{attribute:!1,type:Array},fuseConfig:{attribute:!1,type:Object},inlineMode:{attribute:"inline-mode",type:Boolean},matchAllWhenEmpty:{attribute:"match-all-when-empty",type:Boolean},showResults:{attribute:"show-result",type:Boolean},idProperty:{attribute:"id-property",type:String},titleProperty:{attribute:"title-property",type:String},subTitleProperty:{attribute:"sub-title-property",type:String},expandMultipleFilters:{attribute:"enable-multiple-filter",type:Boolean},expandResults:{attribute:"expand-result",type:Boolean},expandMultipleResults:{attribute:"expand-multiple-results",type:Boolean},externalFilter:{attribute:!1,type:Function},unstyled:{type:Boolean}}}apply(){Yo(this,Wi,Tw(le(this,de),le(this,Fn),this)),this.search()}async searchHandler(){await Iw(le(this,de),le(this,Fn),this),this.dispatchEvent(new CustomEvent("filter",{detail:{results:this.results,filters:this.filters},bubbles:!0,composed:!0})),this.inlineMode&&this.renderRoot.querySelector("eox-itemfilter-container").updateInline(),this.requestUpdate()}sortResults(e){return Fw(e,le(this,de))}resetFilters(){Nw(this)}firstUpdated(e){var r;let n={};ru.map(i=>{n={...n,[i]:this[i]}}),Yo(this,de,n),Yo(this,Fn,((r=this.items)==null?void 0:r.map((i,o)=>Object.assign({id:i[this.idProperty]||`item-${o}`},i)))||[]),this.apply()}updated(e){ru.map(r=>{if(e.has(r))return this.firstUpdated(),!0})}updateResult(e){this.selectedResult=e.detail,this.dispatchEvent(new CustomEvent("select",{detail:this.selectedResult,bubbles:!0,composed:!0})),this.requestUpdate()}render(){var e;return Q`
      <style>
        ${wf}
        ${!this.unstyled&&Qn}
        ${!this.unstyled&&xf}
        ${this.styleOverride}
      </style>
      <form
        id="itemfilter"
        class=${this.inlineMode?"inline":vt}
        @submit="${r=>r.preventDefault()}"
      >
        ${Jt(this.filterProperties,()=>Q`
            <eox-itemfilter-container
              .filters=${this.filters}
              .filterProperties=${this.filterProperties}
              .inlineMode=${this.inlineMode||!1}
              @reset=${()=>this.resetFilters()}
              @filter=${()=>this.search()}
            >
              <section slot="section">
                ${Jt(!this.inlineMode,()=>Q`
                    <slot name="filterstitle"
                      ><h6 class="main-heading">Filters</h6></slot
                    >
                  `)}
                <ul id="filters">
                  ${fo(Object.values(this.filters),(r,n)=>Q` <li>
                        <eox-itemfilter-expandcontainer
                          .filterObject=${r}
                          @details-toggled=${i=>wh(i,le(this,de),this)}
                          data-details="${r.key}"
                        >
                          ${pt(this,qi,Yh).call(this,r,Yc(n,1))}
                          ${pt(this,qi,Jh).call(this,r,Yc(n,2))}
                        </eox-itemfilter-expandcontainer>
                      </li>`)}
                </ul>
                ${Jt(!this.inlineMode&&le(this,de).filterProperties&&!this.inlineMode&&le(this,de).filterProperties&&ra(this.filters),()=>Q`
                    <button
                      type="button"
                      id="filter-reset"
                      class="outline small icon-text reset-icon"
                      data-cy="filter-reset"
                      @click=${()=>this.resetFilters()}
                    >
                      Reset all
                    </a>
                  `)}
              </section>
            </eox-itemfilter-container>
          `)}
        ${Jt(((e=le(this,de))==null?void 0:e.showResults)&&this.results,()=>Q`
            <eox-itemfilter-results
              .config=${le(this,de)}
              .results=${this.results}
              .filters=${this.filters}
              .resultAggregation=${le(this,Wi)}
              .selectedResult=${this.selectedResult}
              @result=${this.updateResult}
            ></eox-itemfilter-results>
          `)}
      </form>
    `}}Wi=new WeakMap,Fn=new WeakMap,de=new WeakMap,qi=new WeakSet,Jh=function(t,e){return Dw(t,e,this)},Yh=function(t,e){return Bw(t,e,this)};customElements.define("eox-itemfilter",Uw);const Hw={slot:"filterstitle",style:{margin:"14px 8px"}},Ww={slot:"resultstitle",style:{margin:"14px 8px"}},$s="float:right; height:15px; padding:4px;  margin-top:-4px; background-color:white;",qw="float:right; height:15px; padding:4px;  margin-top:-4px; background-color:#9bcaeb;",Gw={__name:"EodashItemFilter",props:{enableCompare:{type:Boolean,default:!1},filtersTitle:{type:String,default:"Indicators"},resultsTitle:{type:String,default:""},titleProperty:{type:String,default:"title"},aggregateResults:{type:String,default:"themes"},enableHighlighting:{type:Boolean,default:!0},expandMultipleFilters:{type:Boolean,default:!0},expandMultipleResults:{type:Boolean,default:!0},filterProperties:{type:Array,default:()=>[{keys:["title","themes","description"],title:"Search",type:"text"},{key:"themes",title:"Theme Filter",type:"multiselect"}]}},setup(t){const e=t,r=async l=>{var u,h;(h=(u=i.value)==null?void 0:u.shadowRoot)==null||h.querySelectorAll(".compareMapButton").forEach(f=>f.setAttribute("style",$s));const a=l.detail;a&&await o.loadSelectedSTAC(a.href)},n={titleProperty:e.titleProperty,filterProperties:e.filterProperties,aggregateResults:e.aggregateResults,enableHighlighting:e.enableHighlighting,expandMultipleFilters:e.expandMultipleFilters,expandMultipleResults:e.expandMultipleResults},i=Xh(null),o=Zh(),s=()=>{setTimeout(()=>{var l,a;(l=i.value)==null||l.shadowRoot.querySelectorAll("details>summary").forEach(u=>u.setAttribute("style","width: 100%")),(a=i.value)==null||a.shadowRoot.querySelectorAll("details>div li").forEach(u=>{let h=document.createElement("button");h.className="compareMapButton",h.dataset.id=u.children[0].id,h.onclick=async b=>{var T,j,H;(j=(T=i.value)==null?void 0:T.shadowRoot)==null||j.querySelectorAll(".compareMapButton").forEach(N=>{N.setAttribute("style",$s)});const x=b.currentTarget;x==null||x.setAttribute("style",qw);const _=(H=i.value)==null?void 0:H.items.find(N=>N.id===(x==null?void 0:x.dataset.id));_&&await o.loadSelectedCompareSTAC(_.href)},h.setAttribute("style",$s);const f=document.createElementNS("http://www.w3.org/2000/svg","svg"),m=document.createElementNS("http://www.w3.org/2000/svg","path");f.setAttribute("width","15"),f.setAttribute("height","15"),f.setAttribute("viewBox","0 0 24 24"),m.setAttribute("d","M19,3H14V5H19V18L14,12V21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M10,18H5L10,12M10,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H10V23H12V1H10V3Z"),f.appendChild(m),h.appendChild(f),u.append(h)})},100)};return Qh(()=>{var u,h,f;const l=document.createElement("style");l.innerHTML=`
    section {
      margin: 0 !important;
    }
    section button#filter-reset {
      padding: 0 8px;
      top: 8px;
      right: 8px;
    }
  `,(h=(u=i.value)==null?void 0:u.shadowRoot)==null||h.appendChild(l);const a=(f=o.stac)==null?void 0:f.filter(m=>m.rel==="child");i.value.items=a,e.enableCompare&&s()}),(l,a)=>(tf(),ef("eox-itemfilter",rf({class:"fill-height"},n,{ref_key:"eoxItemFilter",ref:i,style:{overflow:"auto"},onSelect:r}),[tl("h4",Hw,el(t.filtersTitle),1),tl("h4",Ww,el(t.resultsTitle),1)],16))}};export{Gw as default};
