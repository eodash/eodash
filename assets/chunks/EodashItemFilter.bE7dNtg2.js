import{useSTAcStore as h}from"@/store/stac";import"@eox/itemfilter";import{u as S}from"./display.26MhZSeJ.js";import{h as x,p as T,c as P,o as b,j as o,t as n,K as _,k as C}from"./framework.CELFSZoh.js";const k=[".items"],B={slot:"filterstitle",style:{margin:"14px 8px"}},F={slot:"resultstitle",style:{margin:"14px 8px"}},v={__name:"EodashItemFilter",props:{enableCompare:{type:Boolean,default:!1},filtersTitle:{type:String,default:"Indicators"},resultsTitle:{type:String,default:"Results"},titleProperty:{type:String,default:"title"},aggregateResults:{type:String,default:void 0},imageProperty:{type:String,default:""},subTitleProperty:{type:String,default:""},resultType:{type:String,default:""},cssVars:{type:[String,Object],default:""},enableHighlighting:{type:Boolean,default:!0},expandMultipleFilters:{type:Boolean,default:!0},expandMultipleResults:{type:Boolean,default:!0},filterProperties:{type:Array,default:()=>[{keys:["title","themes","description"],title:"Search",type:"text"},{key:"themes",title:"Theme Filter",type:"multiselect"}]}},emits:["select"],setup(s,{emit:p}){const i=p,e=s,u=async t=>{t?(l.resetSelectedCompareSTAC(),await l.loadSelectedSTAC(t.href),i("select",t)):l.selectedStac=null},c=t=>{t&&(l.loadSelectedCompareSTAC(t.href),i("select",t))},d=async t=>{const r=t.detail;e.enableCompare?c(r):u(r)},{smAndDown:f}=S(),y=x(()=>({titleProperty:e.titleProperty,enableHighlighting:e.enableHighlighting,expandMultipleFilters:e.expandMultipleFilters,expandMultipleResults:e.expandMultipleResults,subTitleProperty:e.subTitleProperty,resultType:e.resultType,imageProperty:e.imageProperty,aggregateResults:e.aggregateResults,style:e.cssVars,filterProperties:f.value?"":e.filterProperties})),g=T(null),l=h();return(t,r)=>{var a;return b(),P("eox-itemfilter",_({class:"fill-height"},y.value,{ref_key:"eoxItemFilter",ref:g,style:{overflow:"auto","--background-color":"none"},onSelect:d,".items":(a=C(l).stac)==null?void 0:a.filter(m=>m.rel==="child")}),[o("h4",B,n(s.filtersTitle),1),o("h4",F,n(s.resultsTitle),1)],48,k)}}};export{v as default};
