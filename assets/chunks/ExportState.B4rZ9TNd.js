import{d as O,e as z}from"./mdi.BUDpP7ob.js";import A from"./PopUp.dhe1llxp.js";import{copyToClipBoard as u}from"@/utils";import{getLayers as M}from"@/store/Actions";import{mapPosition as h}from"@/store/States";import{removeUnneededProperties as y}from"@/utils/helpers";import{_ as J,at as j,au as D,s as P,h as C,o as f,b as U,w as o,D as t,I as e,j as i,t as S,k as v,c as w,e as q,E as G,a as b,F as H,p as K,l as Q}from"./framework.BYFNpNrI.js";import"@/composables/DefineWidgets";const x=s=>(K("data-v-af159afa"),s=s(),Q(),s),R=x(()=>i("h5",{class:"text-h5"},"Storytelling map configuration",-1)),W=x(()=>i("p",{class:"text-body-2"}," Copy and paste this code into the map layers field of the storytelling editor: ",-1)),X={class:"pa-3 code-block"},Y={style:{position:"absolute",bottom:"15px"}},Z={key:0,class:"text-success mr-3"},ee=x(()=>i("small",null,"copied!",-1)),te={__name:"ExportState",props:j({getLayers:{type:Function,default:M}},{modelValue:{type:Boolean,required:!0,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(s){const p=D(s,"modelValue"),_=s,d=P(!1),$=[{id:Symbol(),copyFn:async()=>await u(V.value,d),copyAs:"simple map"},{id:Symbol(),copyFn:async()=>await u(JSON.stringify(_.getLayers()),d),copyAs:"layers configuration"},{id:Symbol(),copyFn:async()=>await u(k.value,d),copyAs:"map tour section"}],k=C(()=>{const[m,a,c]=h.value,l="### <!--{ layers=",r=`zoom="${c}" center=[${[m,a]}] animationOptions={duration:500}}-->
#### Tour step title
Text describing the current step of the tour and why it is interesting what the map shows currently
`;return`${l}'${JSON.stringify(y(_.getLayers()))}' ${r}`}),V=C(()=>{const[m,a,c]=h.value,l='## Map Example <!--{as="eox-map" style="width: 100%; height: 500px;" layers=',r=`zoom="${c}" center=[${[m,a]}] }-->`;return`${l}'${JSON.stringify(y(_.getLayers()))}' ${r}`});return(m,a)=>{const c=t("v-card-title"),l=t("v-icon"),r=t("v-expand-transition"),g=t("v-btn"),T=t("v-col"),B=t("v-row"),F=t("v-card-text"),L=t("v-divider"),N=t("v-spacer"),E=t("v-card-actions"),I=t("v-card");return f(),U(A,{modelValue:p.value,"onUpdate:modelValue":a[1]||(a[1]=n=>p.value=n)},{default:o(()=>[e(I,{style:{"max-height":"498px"}},{default:o(()=>[e(c,{class:"bg-primary",style:{"max-height":"49px"}},{default:o(()=>[R]),_:1}),e(F,{class:"py-5 overflow-auto",style:{height:"400px"}},{default:o(()=>[W,i("div",X,S(v(y)(s.getLayers())),1),i("div",Y,[e(r,null,{default:o(()=>[d.value?(f(),w("div",Z,[e(l,{color:"success",left:"",icon:[v(O)]},null,8,["icon"]),ee])):q("",!0)]),_:1})]),e(B,{class:"d-flex pt-3 justify-end"},{default:o(()=>[e(T,{cols:"6",class:"flex-column align-center text-end"},{default:o(()=>[(f(),w(H,null,G($,n=>e(g,{class:"text-body-2",onClick:n.copyFn,key:n.id,small:"",variant:"text","prepend-icon":[v(z)]},{default:o(()=>[b(" copy as "+S(n.copyAs),1)]),_:2},1032,["onClick","prepend-icon"])),64))]),_:1})]),_:1})]),_:1}),e(L),e(E,{style:{"max-height":"49px"}},{default:o(()=>[e(N),e(g,{variant:"text",onClick:a[0]||(a[0]=n=>p.value=!p.value)},{default:o(()=>[b(" Close ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},pe=J(te,[["__scopeId","data-v-af159afa"]]);export{pe as default};
