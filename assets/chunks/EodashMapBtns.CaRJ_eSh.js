import{makePanelTransparent as S}from"@/composables";import{changeMapProjection as T,setActiveTemplate as x}from"@/store/actions";import{availableMapProjection as k}from"@/store/states";import{c as j,d as V,e as w,f as P}from"./mdi.kE_7Cs-6.js";import E from"^/ExportState.vue";import R from"./PopUp.CyQg7KWr.js";import $ from"./EodashItemFilter.CcMwkcoY.js";import{useSTAcStore as A}from"@/store/stac";import{s as H}from"./pinia.BvumBC0B.js";import{switchToCompare as i}from"@/utils/states";import{_ as W,h as u,p as d,C as D,c as N,o as r,b as s,e as c,G as C,k as l,w as U,aM as G}from"./framework.DpxBzJw_.js";import{u as O}from"./display.OQLV8dnA.js";import"@/composables/DefineWidgets";import"@eox/itemfilter";const q={__name:"EodashMapBtns",props:{exportMap:{type:Boolean,default:!0},changeProjection:{type:Boolean,default:!0},compareIndicators:{type:[Boolean,Object],default:!0}},setup(e){const{selectedStac:b,selectedCompareStac:y}=H(A()),{smAndDown:f}=O(),h=u(()=>f?"70%":"500px"),I=u(()=>f?"90%":"500px"),n=d(!1),t=d(!1),M=u(()=>i.value?j:V),g=()=>{if(i.value)t.value=!t.value;else{i.value=!0;const m=typeof e.compareIndicators=="object"&&e.compareIndicators.fallbackTemplate||"expert";y.value=null,x(m),G(b)}},v=d(null),B=()=>{const m=typeof e.compareIndicators=="object"&&e.compareIndicators.compareTemplate||"compare";x(m),t.value=!t.value};return S(v),(m,o)=>{const p=D("v-btn");return r(),N("div",{ref_key:"rootRef",ref:v,class:"d-flex flex-column align-end justify-end my-3 pa-2"},[e.exportMap?(r(),s(p,{key:0,class:"map-btn",icon:[l(w)],onClick:o[0]||(o[0]=a=>n.value=!n.value)},null,8,["icon"])):c("",!0),e.exportMap?(r(),s(E,{key:1,modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=a=>n.value=a)},null,8,["modelValue"])):c("",!0),e.changeProjection&&l(k)?(r(),s(p,{key:2,class:"map-btn",icon:[l(P)],onClick:o[2]||(o[2]=a=>l(T)(l(k)))},null,8,["icon"])):c("",!0),e.compareIndicators?(r(),s(p,{key:3,class:"map-btn",icon:[M.value],onClick:g},null,8,["icon"])):c("",!0),C(R,{modelValue:t.value,"onUpdate:modelValue":o[3]||(o[3]=a=>t.value=a),maxWidth:h.value,maxHeight:I.value},{default:U(()=>[C($,{enableCompare:!0,"filters-title":"","results-title":"Select an indicator to compare","filter-properties":[],onSelect:B})]),_:1},8,["modelValue","maxWidth","maxHeight"])],512)}}},re=W(q,[["__scopeId","data-v-485986ad"]]);export{re as default};
